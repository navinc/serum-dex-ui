(this["webpackJsonpserum-dex-ui"]=this["webpackJsonpserum-dex-ui"]||[]).push([[0],{252:function(e,t,n){e.exports=n.p+"static/media/logo.49174c73.svg"},259:function(e,t,n){e.exports=n(447)},264:function(e,t,n){},265:function(e,t,n){},269:function(e,t){},270:function(e,t){},447:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(25),o=n.n(c),i=(n(264),n(265),n(10)),l=n.n(i),u=n(30),s=n(15),d=n(85);function p(e){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return isNaN(e)||Math.floor(e)===e?0:e.toString().split(".")[1].length||0}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(r.useState)((function(){var n=localStorage.getItem(e);return n?JSON.parse(n):t})),a=Object(s.a)(n,2),c=a[0],o=a[1],i=Object(r.useCallback)((function(t){c!==t&&(o(t),null===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)))}),[c,e]);return[c,i]}function v(e,t,n){if(!n&&Object.keys(e).length!==Object.keys(t).length)return!1;n=n||Object.keys(e);var r,a=Object(d.a)(n);try{for(a.s();!(r=a.n()).done;){var c=r.value;if(e[c]!==t[c])return!1}}catch(o){a.e(o)}finally{a.f()}return!0}var h=n(51),g=n(70),k=n(98),y=n(93),O=n(12),E=n.n(O),x=new Date,S=new Map,j=function e(t,n,r,a,c){Object(y.a)(this,e),this.cacheKey=t,this.fn=n,this.refreshInterval=r,this.refreshIntervalOnError=a,this.callback=c},w=function(){function e(t,n){var r=this;Object(y.a)(this,e),this.refresh=Object(u.a)(l.a.mark((function e(){var t,n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.timeoutId&&(clearTimeout(r.timeoutId),r.timeoutId=null),!r.stopped){e.next=3;break}return e.abrupt("return");case 3:return t=!1,e.prev=4,e.next=7,r.fn();case 7:return n=e.sent,S.set(r.cacheKey,n),r.errors=0,r.notifyListeners(),e.abrupt("return",n);case 14:e.prev=14,e.t0=e.catch(4),++r.errors,console.warn(e.t0),t=!0;case 19:return e.prev=19,r.timeoutId||r.stopped||(a=r.refreshInterval,t&&r.refreshIntervalOnError&&r.refreshIntervalOnError>0&&(a=r.refreshIntervalOnError),r.errors>0&&(a=Math.min(1e3*Math.pow(2,r.errors-1),6e4)),(c=new Date-x)<5e3&&(a+=5e3-c/2),"hidden"===document.visibilityState?a=6e4:document.hasFocus()||(a*=1.5),a*=.8+.4*Math.random(),r.timeoutId=setTimeout(r.refresh,a)),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[4,14,19,22]])}))),this.cacheKey=t,this.fn=n,this.timeoutId=null,this.listeners=new Set,this.errors=0}return Object(k.a)(e,[{key:"addListener",value:function(e){var t=this.refreshInterval;this.listeners.add(e),this.refreshInterval<t&&this.refresh()}},{key:"removeListener",value:function(e){E()(this.listeners.delete(e)),this.stopped&&this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}},{key:"notifyListeners",value:function(){this.listeners.forEach((function(e){return e.callback()}))}},{key:"refreshInterval",get:function(){return Math.min.apply(Math,Object(g.a)(Object(g.a)(this.listeners).map((function(e){return e.refreshInterval}))))}},{key:"refreshIntervalOnError",get:function(){return Math.min.apply(Math,Object(g.a)(Object(g.a)(this.listeners).map((function(e){return e.refreshIntervalOnError})).filter((function(e){return e}))))}},{key:"stopped",get:function(){return 0===this.listeners.size}}]),e}(),T=new(function(){function e(){Object(y.a)(this,e),this.loops=new Map}return Object(k.a)(e,[{key:"addListener",value:function(e){this.loops.has(e.cacheKey)||this.loops.set(e.cacheKey,new w(e.cacheKey,e.fn)),this.loops.get(e.cacheKey).addListener(e)}},{key:"removeListener",value:function(e){var t=this.loops.get(e.cacheKey);t.removeListener(e),t.stopped&&this.loops.delete(e.cacheKey)}},{key:"refresh",value:function(e){this.loops.has(e)&&this.loops.get(e).refresh()}},{key:"refreshAll",value:function(){return Promise.all(Object(g.a)(this.loops.values()).map((function(e){return e.refresh()})))}}]),e}());function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.refreshInterval,c=void 0===a?6e4:a,o=n.refreshIntervalOnError,i=void 0===o?null:o,l=Object(r.useReducer)((function(e){return e+1}),0),u=Object(s.a)(l,2),d=u[1];if(Object(r.useEffect)((function(){if(!t)return function(){};var n=new j(t,e,c,i,d);return T.addListener(n),function(){return T.removeListener(n)}}),[t,c]),!t)return[null,!1];var p=S.has(t),f=p?S.get(t):void 0;return[f,p]}var z=n(71),A=[{name:"mainnet-beta",endpoint:"https://solana-api.projectserum.com"},{name:"testnet",endpoint:Object(h.clusterApiUrl)("testnet")},{name:"devnet",endpoint:Object(h.clusterApiUrl)("devnet")},{name:"localnet",endpoint:"http://127.0.0.1:8899"}],N=new Map,F=a.a.createContext(null);function B(e){var t=e.children,n=b("connectionEndpts",A[0].endpoint),c=Object(s.a)(n,2),o=c[0],i=c[1],l=Object(r.useMemo)((function(){return new h.Connection(o,"recent")}),[o]),u=Object(r.useMemo)((function(){return new h.Connection(o,"recent")}),[o]);return Object(r.useEffect)((function(){var e=l.onAccountChange((new h.Account).publicKey,(function(){}));return function(){return l.removeAccountChangeListener(e)}}),[l]),Object(r.useEffect)((function(){var e=l.onSlotChange((function(){return null}));return function(){return clearInterval(e)}}),[l]),a.a.createElement(F.Provider,{value:{endpoint:o,setEndpoint:i,connection:l,sendConnection:u}},t)}function I(){return Object(r.useContext)(F).connection}function M(){return Object(r.useContext)(F).sendConnection}function D(){var e=Object(r.useContext)(F);return{endpoint:e.endpoint,setEndpoint:e.setEndpoint}}function P(e){var t=I(),n=Object(z.a)(t,null===e||void 0===e?void 0:e.toBase58()),a=C(Object(u.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e?t.getAccountInfo(e):null);case 1:case"end":return n.stop()}}),n)}))),n,{refreshInterval:6e4}),c=Object(s.a)(a,2),o=c[0],i=c[1],d=null===e||void 0===e?void 0:e.toBase58();return Object(r.useEffect)((function(){if(e){if(N.has(n)){var r=N.get(n);console.log("Incrementing",d,r.count+1),++r.count}else{var a=null;console.log("Subscribing to ",d);var c=t.onAccountChange(e,(function(e){e.data&&(a&&a.equals(e.data)?console.log("Skipping no-op update",d):(console.log("Passing along new data",d),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.initializeOnly,a=void 0!==r&&r;if(!a||!S.has(e)){S.set(e,t);var c=T.loops.get(e);c&&c.notifyListeners()}}(n,e)),a=e.data)}));console.log("Setting cache",d),N.set(n,{count:1,subscriptionId:c})}return function(){var e=N.get(n),r=e.count-1;r<=0?(console.log("Removing cache",d),t.removeAccountChangeListener(e.subscriptionId),N.delete(n)):(console.log("Decrementing",d,r),--e.count)}}}),[n]),[o,i]}function U(e){var t=P(e),n=Object(s.a)(t,1)[0];return n&&n.data}var R=n(43),K=n(145),q=n(73),L=n(224),W=n(257);function H(e){var t=e.message,n=e.description,r=e.type,c=void 0===r?"info":r,o=e.placement,i=void 0===o?"bottomLeft":o;W.a[c]({message:a.a.createElement("span",{style:{color:"black"}},t),description:a.a.createElement("span",{style:{color:"black",opacity:.5}},n),placement:i,style:{backgroundColor:"white"}})}var Y=[{name:"sollet.io",url:"https://www.sollet.io"}],X=a.a.createContext(null);function G(e){var t,n,c=e.children,o=D().endpoint,i=b("walletProvider","https://www.sollet.io"),l=Object(s.a)(i,2),u=l[0],d=l[1],p=Object(r.useMemo)((function(){return new L.a(u,o)}),[u,o]),f=Object(r.useState)(!1),m=Object(s.a)(f,2),v=m[0],h=m[1];return Object(r.useEffect)((function(){return console.log("trying to connect"),p.on("connect",(function(){console.log("connected"),h(!0);var e=p.publicKey.toBase58();H({message:"Wallet update",description:"Connected to wallet "+(e.length>20?"".concat(e.substring(0,7),".....").concat(e.substring(e.length-7,e.length)):e)})})),p.on("disconnect",(function(){h(!1),H({message:"Wallet update",description:"Disconnected from wallet"})})),function(){p.disconnect(),h(!1)}}),[p]),a.a.createElement(X.Provider,{value:{wallet:p,connected:v,providerUrl:u,setProviderUrl:d,providerName:null!==(t=null===(n=Y.find((function(e){return e.url===u})))||void 0===n?void 0:n.name)&&void 0!==t?t:u}},c)}function J(){var e=Object(r.useContext)(X);return{connected:e.connected,wallet:e.wallet,providerUrl:e.providerUrl,setProvider:e.setProviderUrl,providerName:e.providerName}}var Z=n(76),Q=Object(K.a)({"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E":"BTC","2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk":"ETH",AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3:"FTT","3JSf5tPeuscJGtaCp5giEiDhv51gQ4v3zWg8DGgyLfAB":"YFI",CWE8jPTUYhdCTZYWPTe1o5DFqfdjzWKc9WKz6rSjQUdG:"LINK",Ga2AXHpfAF6mv2ekZwcsJFqu7wB4NV331qNH7fW9Nst8:"XRP",BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4:"USDT",BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW:"USDC",MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L:"MSRM",SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt:"SRM",AR1Mtgh7zAtxuxGd2XPovXPVjcSdY3i4rQYisNadjfKy:"SUSHI",SF3oTvfWzEP3DTwGSvUXRrGTvr75pdZNnBLAH9bzMuX:"SXP"},q.TokenInstructions.WRAPPED_SOL_MINT,"SOL"),V={"BTC/USDT":{address:"8AcVjMG2LTbpkjNoyq8RwysokqZunkjy3d5JDzxC6BJa",name:"BTC/USDT"},"BTC/USDC":{address:"CAgAeMD7quTdnr6RPa7JySQpjf3irAmefYNdTb6anemq",name:"BTC/USDC"},"ETH/USDT":{address:"HfCZdJ1wfsWKfYP2qyWdXTT5PWAGWFctzFjLH48U1Hsd",name:"ETH/USDT"},"ETH/USDC":{address:"ASKiV944nKg1W9vsf7hf3fTsjawK6DwLwrnB2LH9n61c",name:"ETH/USDC"},"SOL/USDT":{address:"8mDuvJJSgoodovMRYArtVVYBbixWYdGzR47GPrRT65YJ",name:"SOL/USDT",programId:"BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg"},"SOL/USDC":{address:"Cdp72gDcYMCLLk3aDkPxjeiirKoFqK38ECm8Ywvk94Wi",name:"SOL/USDC",programId:"BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg"},"SRM/USDT":{address:"HARFLhSq8nECZk4DVFKvzqXMNMA9a3hjvridGMFizeLa",name:"SRM/USDT"},"SRM/USDC":{address:"68J6nkWToik6oM9rTatKSR5ibVSykAtzftBUEAvpRsys",name:"SRM/USDC"},"SUSHI/USDT":{address:"DzFjazak6EKHnaB2w6qSsArnj28CV1TKd2Smcj9fqtHW",name:"SUSHI/USDT"},"SUSHI/USDC":{address:"9wDmxsfwaDb2ysmZpBLzxKzoWrF1zHzBN7PV5EmJe19R",name:"SUSHI/USDC"},"SXP/USDT":{address:"GuvWMATdEV6DExWnXncPYEzn4ePWYkvGdC8pu8gsn7m7",name:"SXP/USDT"},"SXP/USDC":{address:"GbQSffne1NcJbS4jsewZEpRGYVR4RNnuVUN8Ht6vAGb6",name:"SXP/USDC"},"MSRM/USDT":{address:"H4snTKK9adiU15gP22ErfZYtro3aqR9BTMXiH3AwiUTQ",name:"MSRM/USDT"},"MSRM/USDC":{address:"7kgkDyW7dmyMeP8KFXzbcUZz1R2WHsovDZ7n3ihZuNDS",name:"MSRM/USDC"},"FTT/USDT":{address:"DHDdghmkBhEpReno3tbzBPtsxCt6P3KrMzZvxavTktJt",name:"FTT/USDT"},"FTT/USDC":{address:"FZqrBXz7ADGsmDf1TM9YgysPUfvtG8rJiNUrqDpHc9Au",name:"FTT/USDC"},"YFI/USDT":{address:"5zu5bTZZvqESAAgFsr12CUMxdQvMrvU9CgvC1GW8vJdf",name:"YFI/USDT"},"YFI/USDC":{address:"FJg9FUtbN3fg3YFbMCFiZKjGh5Bn4gtzxZmtxFzmz9kT",name:"YFI/USDC"},"LINK/USDT":{address:"F5xschQBMpu1gD2q1babYEAVJHR1buj1YazLiXyQNqSW",name:"LINK/USDT"},"LINK/USDC":{address:"7GZ59DMgJ7D6dfoJTpszPayTRyua9jwcaGJXaRMMF1my",name:"LINK/USDC"}};function _(){var e=I(),t=Object(r.useState)([]),n=Object(s.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){(function(){var t=Object(u.a)(l.a.mark((function t(){var n,r,a,o,i,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=Object.values(V),o=0,i=r;case 3:if(!(o<i.length)){t.next=18;break}return a=i[o],t.prev=5,t.next=8,q.Market.load(e,new h.PublicKey(a.address),{},a.programId?new h.PublicKey(a.programId):q.DEX_PROGRAM_ID);case 8:u=t.sent,n.push({market:u,marketName:a.name}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),H({message:"Error loading market",description:t.t0.message,type:"error"});case 15:o++,t.next=3;break;case 18:c(n);case 19:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),a}var $=a.a.createContext(null);function ee(e){var t,n,c=e.children,o=b("market","SRM/USDT"),i=Object(s.a)(o,2),l=i[0],u=i[1],d=I(),p=V[l],f=Object(r.useState)(),m=Object(s.a)(f,2),v=m[0],g=m[1];Object(r.useEffect)((function(){g(null),p&&p.address?q.Market.load(d,new h.PublicKey(p.address),{},p.programId?new h.PublicKey(p.programId):q.DEX_PROGRAM_ID).then(g).catch((function(e){return H({message:"Error loading market",description:e.message,type:"error"})})):H({message:"Error loading market",description:"Please select a market from the dropdown",type:"error"})}),[d,l,p]);var k=Q[null===v||void 0===v||null===(t=v.baseMintAddress)||void 0===t?void 0:t.toBase58()]||"UNKNOWN",y=Q[null===v||void 0===v||null===(n=v.quoteMintAddress)||void 0===n?void 0:n.toBase58()]||"UNKNOWN";return a.a.createElement($.Provider,{value:Object(R.a)(Object(R.a)({market:v,marketName:l,setMarketName:u},p),{},{baseCurrency:k,quoteCurrency:y})},c)}function te(){return Object(r.useContext)($)}function ne(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),n=t[0],a=t[1],c=ce(),o=Object(s.a)(c,1)[0],i=pe();return Object(r.useEffect)((function(){var e,t,n=(null===o||void 0===o||null===(e=o.bids)||void 0===e?void 0:e.length)>0&&Number(o.bids[0][0]),r=(null===o||void 0===o||null===(t=o.asks)||void 0===t?void 0:t.length)>0&&Number(o.asks[0][0]),c=(null===i||void 0===i?void 0:i.length)>0&&i[0].price,l=n&&r?c?[n,r,c].sort((function(e,t){return e-t}))[1]:(n+r)/2:null;a(l)}),[o,i]),n}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=te(),n=t.market,r=I();function a(){return c.apply(this,arguments)}function c(){return(c=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&r){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,n.loadFills(r,e);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var o=C(a,Object(z.a)("getUnfilteredTrades",n,r),{refreshInterval:5e3}),i=Object(s.a)(o,1),d=i[0];return d}function ae(){var e=te().market,t=U(e&&e._decoded.bids),n=U(e&&e._decoded.asks);return{bidOrderbook:t?q.Orderbook.decode(e,t):null,askOrderbook:n?q.Orderbook.decode(e,n):null}}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=ae(),n=t.bidOrderbook,r=t.askOrderbook,a=te(),c=a.market,o=n&&c?n.getL2(e).map((function(e){var t=Object(s.a)(e,2);return[t[0],t[1]]})):[],i=r&&c?r.getL2(e).map((function(e){var t=Object(s.a)(e,2);return[t[0],t[1]]})):[];return[{bids:o,asks:i},!!o||!!i]}function oe(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=te(),n=t.market,r=J(),a=r.connected,c=r.wallet,o=I();function i(){return s.apply(this,arguments)}function s(){return(s=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",null);case 2:if(n){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,n.findOpenOrdersAccountsForOwner(o,c.publicKey);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return C(i,Object(z.a)("openOrdersAccounts",c,n,a),{refreshInterval:e?1e3:5e3})}function ie(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=oe(e),n=Object(s.a)(t,1),r=n[0];return r?r[0]:null}function le(){var e=function(){var e=te().market,t=J(),n=t.connected,r=t.wallet,a=I();function c(){return(c=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",null);case 2:if(e){t.next=4;break}return t.abrupt("return",null);case 4:return t.next=6,e.findQuoteTokenAccountsForOwner(a,r.publicKey,!0);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return C((function(){return c.apply(this,arguments)}),Object(z.a)("useQuoteCurrencyAccounts",r,e,n),{refreshInterval:5e3})}(),t=Object(s.a)(e,1)[0];return t?t[0]:null}function ue(){var e=function(){var e=te().market,t=J(),n=t.connected,r=t.wallet,a=I();function c(){return(c=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",null);case 2:if(e){t.next=4;break}return t.abrupt("return",null);case 4:return t.next=6,e.findBaseTokenAccountsForOwner(a,r.publicKey,!0);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return C((function(){return c.apply(this,arguments)}),Object(z.a)("getTokenAccounts",r,e,n),{refreshInterval:5e3})}(),t=Object(s.a)(e,1)[0];return t?t[0]:null}function se(){var e,t=le(),n=te().market,r=P(null===t||void 0===t?void 0:t.pubkey),a=Object(s.a)(r,2),c=a[0],o=a[1];return n&&t&&o?n.quoteMintAddress.equals(q.TokenInstructions.WRAPPED_SOL_MINT)?null!==(e=(null===c||void 0===c?void 0:c.lamports)/1e9)&&void 0!==e?e:0:n.quoteSplSizeToNumber(new Z.BN(c.data.slice(64,72),10,"le")):null}function de(){var e,t=ue(),n=te().market,r=P(null===t||void 0===t?void 0:t.pubkey),a=Object(s.a)(r,2),c=a[0],o=a[1];return n&&t&&o?n.baseMintAddress.equals(q.TokenInstructions.WRAPPED_SOL_MINT)?null!==(e=(null===c||void 0===c?void 0:c.lamports)/1e9)&&void 0!==e?e:0:n.baseSplSizeToNumber(new Z.BN(c.data.slice(64,72),10,"le")):null}function pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=re(e);return t?t.filter((function(e){return e.eventFlags.maker})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{side:"buy"===e.side?"sell":"buy"})})):null}function fe(){var e=de(),t=se(),n=ie(!0),r=te(),a=r.baseCurrency,c=r.quoteCurrency,o=r.market,i=n&&n.baseTokenTotal&&n.baseTokenFree,l=n&&n.quoteTokenTotal&&n.quoteTokenFree;return"UNKNOWN"===a||"UNKNOWN"===c?[]:[{key:"".concat(a).concat(c).concat(a),coin:a,wallet:e,orders:i&&o?o.baseSplSizeToNumber(n.baseTokenTotal.sub(n.baseTokenFree)):null,unsettled:i&&o?o.baseSplSizeToNumber(n.baseTokenFree):null},{key:"".concat(c).concat(a).concat(c),coin:c,wallet:t,orders:l&&o?o.quoteSplSizeToNumber(n.quoteTokenTotal.sub(n.quoteTokenFree)):null,unsettled:l&&o?o.quoteSplSizeToNumber(n.quoteTokenFree):null}]}function me(e,t,n){return be.apply(this,arguments)}function be(){return(be=Object(u.a)(l.a.mark((function e(t,n,r){var a,c,o,i,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(u.length>3&&void 0!==u[3])||u[3])){e.next=7;break}return e.next=4,t.findBaseTokenAccountsForOwner(n,r.publicKey);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,t.findQuoteTokenAccountsForOwner(n,r.publicKey);case 9:e.t0=e.sent;case 10:return c=e.t0,o=c&&c[0],e.next=14,n.getTokenAccountBalance(o.pubkey);case 14:return i=e.sent,e.abrupt("return",null===i||void 0===i||null===(a=i.value)||void 0===a?void 0:a.uiAmount);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ve=n(36),he=n(37);function ge(){var e=Object(ve.a)(["\nhtml,body{\n  background: #11161D;\n}\ninput[type=number]::-webkit-inner-spin-button {\n  opacity: 0;\n}\ninput[type=number]:hover::-webkit-inner-spin-button,\ninput[type=number]:focus::-webkit-inner-spin-button {\n  opacity: 0.25;\n}\n/* width */\n::-webkit-scrollbar {\n  width: 15px;\n}\n/* Track */\n::-webkit-scrollbar-track {\n  background: #2d313c;\n}\n/* Handle */\n::-webkit-scrollbar-thumb {\n  background: #5b5f67;\n}\n/* Handle on hover */\n::-webkit-scrollbar-thumb:hover {\n  background: #5b5f67;\n}\n.ant-slider-track, .ant-slider:hover .ant-slider-track {\n  background-color: #2abdd2;\n  opacity: 0.75;\n}\n.ant-slider-track,\n.ant-slider ant-slider-track:hover {\n  background-color: #2abdd2;\n  opacity: 0.75;\n}\n.ant-slider-dot-active,\n.ant-slider-handle,\n.ant-slider-handle-click-focused,\n.ant-slider:hover .ant-slider-handle:not(.ant-tooltip-open)  {\n  border: 2px solid #2abdd2; \n}\n.ant-table-tbody > tr.ant-table-row:hover > td {\n  background: #273043;\n}\n.ant-table-tbody > tr > td {\n  border-bottom: 8px solid #1A2029;\n}\n.ant-table-container table > thead > tr:first-child th {\n  border-bottom: none;\n}\n.ant-divider-horizontal.ant-divider-with-text::before, .ant-divider-horizontal.ant-divider-with-text::after {\n  border-top: 1px solid #434a59 !important;\n}\n.ant-layout {\n    background: #11161D\n  }\n  .ant-table {\n    background: #212734;\n  }\n  .ant-table-thead > tr > th {\n    background: #1A2029;\n  }\n.ant-select-item-option-content {\n  img {\n    margin-right: 4px;\n  }\n}\n.ant-modal-content {\n  background-color: #212734;\n}\n\n@-webkit-keyframes highlight {\n  from { background-color: #2abdd2;}\n  to {background-color: #1A2029;}\n}\n@-moz-keyframes highlight {\n  from { background-color: #2abdd2;}\n  to {background-color: #1A2029;}\n}\n@-keyframes highlight {\n  from { background-color: #2abdd2;}\n  to {background-color: #1A2029;}\n}\n.flash {\n  -moz-animation: highlight 0.5s ease 0s 1 alternate ;\n  -webkit-animation: highlight 0.5s ease 0s 1 alternate;\n  animation: highlight 0.5s ease 0s 1 alternate;\n}"]);return ge=function(){return e},e}var ke=Object(he.a)(ge()),ye=n(247),Oe=n(167),Ee=n(164),xe=n(454),Se=xe.a.Title,je=function(e){Object(Oe.a)(n,e);var t=Object(Ee.a)(n);function n(){var e;Object(y.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(k.a)(n,[{key:"render",value:function(){return this.state.hasError?a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(Se,{level:2},"Something went wrong."),a.a.createElement(Se,{level:4},"Please try again later."))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(r.Component),we=n(123),Te=n(47),Ce=n(133),ze=n(456),Ae=n(57),Ne=n(448),Fe=n(449),Be=n(459);function Ie(){var e=Object(ve.a)(["\n  margin: 5px;\n  padding: 20px;\n  background-color: #1a2029;\n"]);return Ie=function(){return e},e}var Me=he.c.div(Ie());function De(e){var t=e.style,n=e.children;return a.a.createElement(Me,{style:Object(R.a)({},t)},n)}var Pe=n(460),Ue=n(461);function Re(){var e=Object(ve.a)(["\n  position: absolute;\n  right: 5px;\n  color: white;\n"]);return Re=function(){return e},e}function Ke(){var e=Object(ve.a)(["\n      background-color: ",";\n    "]);return Ke=function(){return e},e}function qe(){var e=Object(ve.a)(["\n      width: ",";\n    "]);return qe=function(){return e},e}function Le(){var e=Object(ve.a)(["\n  text-align: right;\n  float: right;\n  height: 100%;\n  ","\n  ","\n"]);return Le=function(){return e},e}function We(){var e=Object(ve.a)(["\n  padding: 20px 0 14px;\n  font-weight: 700;\n"]);return We=function(){return e},e}function He(){var e=Object(ve.a)(["\n  padding: 20px 0 14px;\n  color: #434a59;\n"]);return He=function(){return e},e}function Ye(){var e=Object(ve.a)(["\n  color: rgba(255, 255, 255, 1);\n"]);return Ye=function(){return e},e}var Xe=he.c.div(Ye()),Ge=Object(he.c)(Ne.a)(He()),Je=Object(he.c)(Ne.a)(We()),Ze=he.c.div(Le(),(function(e){return e["data-width"]&&Object(he.b)(qe(),e["data-width"])}),(function(e){return e["data-bgcolor"]&&Object(he.b)(Ke(),e["data-bgcolor"])})),Qe=he.c.div(Re());function Ve(e){var t=e.smallScreen,n=e.depth,r=void 0===n?7:n,c=e.onPrice,o=e.onSize,i=ne(),l=ce(),u=Object(s.a)(l,2),d=u[0],p=u[1],f=te(),m=f.baseCurrency,b=f.quoteCurrency,v=[],h=[];function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],a=0;e.forEach((function(e){var t=Object(s.a)(e,2),c=t[0],o=t[1];n.length<r&&(a+=o,n.push({price:c,size:o,cumulativeSize:a}))})),t&&(n=n.reverse());var c=n.length>0&&n[t?0:n.length-1].cumulativeSize;return[n,c]}p&&(v=d.bids,h=d.asks);var k=g(h,!0),y=Object(s.a)(k,2),O=y[0],E=y[1],x=g(v,!1),S=Object(s.a)(x,2),j=S[0],w=E+S[1];return a.a.createElement(De,{style:t?{flex:1}:{height:"500px",overflow:"hidden"}},a.a.createElement(Xe,null,"Orderbook"),a.a.createElement(Ge,null,a.a.createElement(Fe.a,{span:12,style:{textAlign:"left"}},"Size (",m,")"),a.a.createElement(Fe.a,{span:12,style:{textAlign:"right"}},"Price (",b,")")),O.map((function(e,t){var n=e.price,r=e.size,i=e.cumulativeSize;return a.a.createElement(_e,{key:t,index:t,price:n,size:r,side:"sell",sizePercent:i/(w||1)*100,onSizeClick:function(){return o(r)},onPriceClick:function(){return c(n)}})})),a.a.createElement($e,{markPrice:i}),j.map((function(e,t){var n=e.price,r=e.size,i=e.cumulativeSize;return a.a.createElement(_e,{key:t,index:t,price:n,size:r,side:"buy",sizePercent:i/(w||1)*100,onSizeClick:function(){return o(r)},onPriceClick:function(){return c(n)}})})))}var _e=a.a.memo((function(e){var t=e.index,n=e.side,c=e.price,o=e.size,i=e.sizePercent,l=e.onSizeClick,u=e.onPriceClick,s=Object(r.useRef)(),d=te().market;Object(r.useEffect)((function(){var e;null===(e=s.current)||void 0===e||e.classList.add("flash");setTimeout((function(){var e;return null===(e=s.current)||void 0===e?void 0:e.classList.remove("flash")}),500)}),[c,o]);var p=(null===d||void 0===d?void 0:d.minOrderSize)&&!isNaN(o)?Number(o).toFixed(m(d.minOrderSize)+1):o,f=(null===d||void 0===d?void 0:d.tickSize)&&!isNaN(c)?Number(c).toFixed(m(d.tickSize)+1):c;return a.a.createElement(Ne.a,{ref:s,id:t+"",style:{marginBottom:1},onClick:l},a.a.createElement(Fe.a,{span:12,style:{textAlign:"left"}},p),a.a.createElement(Fe.a,{span:12,style:{textAlign:"right"}},a.a.createElement(Ze,{"data-width":i+"%","data-bgcolor":"buy"===n?"rgba(65, 199, 122, 0.6)":"rgba(242, 60, 105, 0.6)"}),a.a.createElement(Qe,{onClick:u},f)))}),(function(e,t){return v(e,t,["side","price","size","sizePercent"])})),$e=a.a.memo((function(e){var t=e.markPrice,n=te().market,c=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e}),[e]),t.current}(t),o=t>c?"#41C77A":t<c?"#F23B69":"white",i=t&&(null===n||void 0===n?void 0:n.tickSize)&&t.toFixed(m(n.tickSize));return a.a.createElement(Je,{justify:"center"},a.a.createElement(Fe.a,{style:{color:o}},t>c&&a.a.createElement(Pe.a,{style:{marginRight:5}}),t<c&&a.a.createElement(Ue.a,{style:{marginRight:5}}),i||"----"))}),(function(e,t){return v(e,t,["markPrice"])})),et=n(27),tt=n(452);function nt(e){var t=e.dataSource,n=e.columns,r=e.emptyLabel,c=void 0===r?"No data":r,o=e.pagination,i=void 0!==o&&o,l=e.loading,u=void 0!==l&&l,s=e.pageSize,d=void 0===s?10:s;return a.a.createElement(et.b,{renderEmpty:function(){return a.a.createElement("div",{style:{padding:"20px",display:"flex",justifyContent:"center",alignItems:"center"}},c)}},a.a.createElement(tt.a,{dataSource:t,columns:n,pagination:!!i&&{pagination:!0,pageSize:d},loading:u}))}function rt(e){return at.apply(this,arguments)}function at(){return(at=Object(u.a)(l.a.mark((function e(t){var n,r,a,c,o,i,u,s,d,p,f,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.market,r=t.openOrders,a=t.connection,c=t.wallet,o=t.baseCurrencyAccount,i=t.quoteCurrencyAccount,n&&c&&a&&r&&o&&i){e.next=4;break}return H(o&&!i||i&&!o?{message:"Add token account",description:"Add accounts for both currencies on sollet.io"}:{message:"Not connected"}),e.abrupt("return");case 4:return e.next=6,n.makeSettleFundsTransaction(a,r,o.pubkey,i.pubkey);case 6:return u=e.sent,s=u.transaction,d=u.signers,p=function(e){e.timeout?H({message:"Timed out",type:"error",description:"Timed out awaiting confirmation on transaction"}):e.err?(console.log(e.err),H({message:"Error settling funds",type:"error"})):H({message:"Fund settlement confirmed",type:"success"})},f=function(){return H({message:"Settling funds..."})},m=function(){return H({message:"Funds settled",type:"success"})},e.next=14,pt({transaction:s,signers:d,wallet:c,connection:a,onBeforeSend:f,onAfterSend:m,onConfirm:p});case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e){return ot.apply(this,arguments)}function ot(){return(ot=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(Object(R.a)(Object(R.a)({},t),{},{orders:[t.order]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e){return lt.apply(this,arguments)}function lt(){return(lt=Object(u.a)(l.a.mark((function e(t){var n,r,a,c,o,i,u,s,d,p,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.market,r=t.wallet,a=t.connection,c=t.orders,o=t.onBeforeSendCallBack,i=t.onAfterSendCallBack,u=t.onConfirmCallBack,s=n.makeMatchOrdersTransaction(5),c.forEach((function(e){s.add(n.makeCancelOrderInstruction(a,r.publicKey,e))})),s.add(n.makeMatchOrdersTransaction(5)),d=function(e){e.timeout?H({message:"Timed out",type:"error",description:"Timed out awaiting confirmation on transaction"}):e.err?(console.log(e.err),H({message:c.length>1?"Error cancelling orders":"Error cancelling order",type:"error"})):H({message:c.length>1?"Order cancellations confirmed":"Order cancellation confirmed",type:"success"}),u&&u()},p=function(){H({message:"Sending cancel..."}),o&&o()},f=function(){H({message:c.length>1?"Orders cancelled":"Order cancelled",type:"success"}),i&&i()},e.next=9,pt({transaction:s,wallet:r,connection:a,onBeforeSend:p,onAfterSend:f,onConfirm:d});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e){return st.apply(this,arguments)}function st(){return(st=Object(u.a)(l.a.mark((function e(t){var n,r,a,c,o,i,u,s,d,p,f,b,v,h,g,k,y,O,E,x,S,j,w,T,C,z,A;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.side,c=t.price,o=t.size,i=t.orderType,u=t.market,s=t.connection,d=t.wallet,p=t.baseCurrencyAccount,f=t.quoteCurrencyAccount,b=t.onBeforeSendCallBack,v=t.onAfterSendCallBack,h=t.onConfirmCallBack,g=(null===u||void 0===u||null===(n=u.minOrderSize)||void 0===n?void 0:n.toFixed(m(u.minOrderSize)))||(null===u||void 0===u?void 0:u.minOrderSize),k=(null===u||void 0===u||null===(r=u.tickSize)||void 0===r?void 0:r.toFixed(m(u.tickSize)))||(null===u||void 0===u?void 0:u.tickSize),y=function(e,t){return Math.abs(e/t%1)<1e-5||Math.abs(e/t%1-1)<1e-5},!isNaN(c)){e.next=7;break}return H({message:"Invalid price",type:"error"}),e.abrupt("return");case 7:if(!isNaN(o)){e.next=10;break}return H({message:"Invalid size",type:"error"}),e.abrupt("return");case 10:if(d&&d.publicKey){e.next=13;break}return H({message:"Connect wallet",type:"error"}),e.abrupt("return");case 13:if(u){e.next=16;break}return H({message:"Invalid  market",type:"error"}),e.abrupt("return");case 16:if(y(o,u.minOrderSize)){e.next=19;break}return H({message:"Size must be an increment of ".concat(g),type:"error"}),e.abrupt("return");case 19:if(!(o<u.minOrderSize)){e.next=22;break}return H({message:"Size too small",type:"error"}),e.abrupt("return");case 22:if(y(c,u.tickSize)){e.next=25;break}return H({message:"Price must be an increment of ".concat(k),type:"error"}),e.abrupt("return");case 25:if(!(c<u.tickSize)){e.next=28;break}return H({message:"Price under tick size",type:"error"}),e.abrupt("return");case 28:if(O=d.publicKey,E="sell"===a?p:f){e.next=33;break}return H({message:"Need an SPL token account for cost currency",type:"error"}),e.abrupt("return");case 33:return x={owner:O,payer:E,side:a,price:c,size:o,orderType:i},console.log(x),S=u.makeMatchOrdersTransaction(5),e.next=38,u.makePlaceOrderTransaction(s,x);case 38:return j=e.sent,w=j.transaction,T=j.signers,S.add(w),S.add(u.makeMatchOrdersTransaction(5)),C=function(e){e.timeout?H({message:"Timed out",type:"error",description:"Timed out awaiting confirmation on transaction"}):e.err?(console.log(e.err),H({message:"Error placing order",type:"error"})):H({message:"Order confirmed",type:"success"}),h&&h()},z=function(){H({message:"Sending order..."}),b&&b()},A=function(){H({message:"Order sent",type:"success"}),v&&v()},e.next=48,pt({transaction:S,wallet:d,connection:s,onBeforeSend:z,onAfterSend:A,onConfirm:C,signers:T});case 48:return e.abrupt("return",e.sent);case 49:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dt=function(){return(new Date).getTime()/1e3};function pt(e){return ft.apply(this,arguments)}function ft(){return(ft=Object(u.a)(l.a.mark((function e(t){var n,r,a,c,o,i,u,s,d,f,m,b,v,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.transaction,r=t.wallet,a=t.signers,c=void 0===a?[r.publicKey]:a,o=t.connection,i=t.onBeforeSend,u=t.onAfterSend,s=t.onConfirm,d=t.timeout,f=void 0===d?15e3:d,e.next=3,o.getRecentBlockhash("max");case 3:return n.recentBlockhash=e.sent.blockhash,n.signPartial.apply(n,Object(g.a)(c)),e.next=7,r.signTransaction(n);case 7:return m=e.sent.serialize(),b=!1,v=dt(),i(),e.next=13,o.sendRawTransaction(m,{skipPreflight:!0});case 13:h=e.sent,u(),console.log("Started sending transaction for",h),mt(h,f,o).then((function(e){b=!0,s(e)})).catch((function(e){b=!0,s(e)}));case 17:if(b||!(dt()-v<f)){e.next=23;break}return o.sendRawTransaction(m,{skipPreflight:!0}),e.next=21,p(300);case 21:e.next=17;break;case 23:return console.log("Latency",h,dt()-v),e.abrupt("return",h);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mt(e,t,n){return bt.apply(this,arguments)}function bt(){return(bt=Object(u.a)(l.a.mark((function e(t,n,r){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,e.next=3,new Promise((function(e,c){Object(u.a)(l.a.mark((function o(){return l.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:setTimeout((function(){a||(a=!0,console.log("Timed out for txid",t),c({timeout:!0}))}),n);try{r.onSignature(t,(function(n){console.log("WS confirmed",t,n),a=!0,n.err?c(n):e(n)}),"recent"),console.log("Set up WS connection",t)}catch(i){a=!0,console.log("WS error in setup",t,i)}case 2:if(a){o.next=8;break}return Object(u.a)(l.a.mark((function n(){var o,i;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.getSignatureStatuses([t]);case 3:o=n.sent,i=o&&o.value[0],a||(i?i.err?(console.log("REST error for",t,i),a=!0,c(i)):i.confirmations?(console.log("REST confirmation for",t,i),a=!0,e(i)):console.log("REST no confirmations for",t,i):console.log("REST null result for",t,i)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),a||console.log("REST connection error: txid",t,n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))(),o.next=6,p(300);case 6:o.next=2;break;case 8:case"end":return o.stop()}}),o)})))()}));case 3:return c=e.sent,a=!0,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(e){var t=e.balances,n=ue(),r=le(),c=M(),o=J().wallet,i=ie(!0),s=te().market;function d(){return p.apply(this,arguments)}function p(){return(p=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt({market:s,openOrders:i,connection:c,wallet:o,baseCurrencyAccount:n,quoteCurrencyAccount:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=[{title:"Coin",dataIndex:"coin",key:"coin"},{title:"Wallet Balance",dataIndex:"wallet",key:"wallet"},{title:"Orders",dataIndex:"orders",key:"orders"},{title:"Unsettled",dataIndex:"unsettled",key:"unsettled"},{key:"action",render:function(){return a.a.createElement("div",{style:{textAlign:"right"}},a.a.createElement(Ae.a,{ghost:!0,style:{marginRight:12},onClick:d},"Settle"))}}];return a.a.createElement(nt,{emptyLabel:"No balances",dataSource:t,columns:f,pagination:!1})}var ht=n(457),gt=n(462);function kt(){var e=Object(ve.a)(["\n  color: #f23b69;\n  border: 1px solid #f23b69;\n"]);return kt=function(){return e},e}var yt=Object(he.c)(Ae.a)(kt());function Ot(e){var t=e.openOrders,n=te().market,c=J().wallet,o=M(),i=Object(r.useState)(null),d=Object(s.a)(i,2),p=d[0],f=d[1];function m(){return(m=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ct({order:t,market:n,connection:o,wallet:c,onBeforeSendCallBack:function(){return f(null===t||void 0===t?void 0:t.orderId)},onConfirmCallBack:function(){return f(null)}});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),H({message:"Error cancelling order: "+e.t0.message,type:"error"}),f(null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var b=[{title:"Market",dataIndex:"marketName",key:"marketName"},{title:"Side",dataIndex:"side",key:"side",render:function(e){return a.a.createElement(ht.a,{color:"buy"===e?"#41C77A":"#F23B69",style:{fontWeight:700}},e.charAt(0).toUpperCase()+e.slice(1))}},{title:"Size",dataIndex:"size",key:"size"},{title:"Price",dataIndex:"price",key:"price"},{key:"orderId",render:function(e){return a.a.createElement("div",{style:{textAlign:"right"}},a.a.createElement(yt,{icon:a.a.createElement(gt.a,null),onClick:function(){return function(e){return m.apply(this,arguments)}(e)},loading:p+""===(null===e||void 0===e?void 0:e.orderId)+""},"Cancel"))}}],v=(t||[]).map((function(e){return Object.assign(e,{key:e.orderId})}));return a.a.createElement(Ne.a,null,a.a.createElement(Fe.a,{span:24},a.a.createElement(nt,{emptyLabel:"No open orders",dataSource:v,columns:b,pagination:!0,pageSize:5})))}var Et=n(453);function xt(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=te(),n=t.marketName,r=re(e),a=oe(),c=Object(s.a)(a,1),o=c[0];if(!o||0===o.length)return null;if(!r)return null;var i=o[0];return r.filter((function(e){return e.openOrders.equals(i.publicKey)})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{marketName:n})}))}(),t=te().quoteCurrency,n=[{title:"Market",dataIndex:"marketName",key:"marketName"},{title:"Side",dataIndex:"side",key:"side",render:function(e){return a.a.createElement(ht.a,{color:"buy"===e?"#41C77A":"#F23B69",style:{fontWeight:700}},e.charAt(0).toUpperCase()+e.slice(1))}},{title:"Size",dataIndex:"size",key:"size"},{title:"Price",dataIndex:"price",key:"price"},{title:"Liquidity",dataIndex:"liquidity",key:"liquidity"},{title:t?"Fees (".concat(t,")"):"Fees",dataIndex:"feeCost",key:"feeCost"}],r=(e||[]).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{key:"".concat(e.orderId).concat(e.side),liquidity:e.eventFlags.maker?"Maker":"Taker"})}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ne.a,null,a.a.createElement(Fe.a,{span:24},a.a.createElement(nt,{dataSource:r,columns:n,pagination:!0,pageSize:5,emptyLabel:"No fills"}))))}var St=Et.a.TabPane;function jt(){return a.a.createElement(De,{style:{flex:1,paddingTop:10}},a.a.createElement(xe.a,null,"Make sure to go to Balances and click Settle to send out your funds"),a.a.createElement("br",null),a.a.createElement(xe.a,null,"To fund your wallet, use sollet.io. You can get SOL from FTX, Binance, BitMax, and others. You can get other tokens from FTX."),a.a.createElement("br",null),a.a.createElement(Et.a,{defaultActiveKey:"orders"},a.a.createElement(St,{tab:"Open Orders",key:"orders"},a.a.createElement(wt,null)),a.a.createElement(St,{tab:"Recent Trade History",key:"fills"},a.a.createElement(xt,null)),a.a.createElement(St,{tab:"Balances",key:"balances"},a.a.createElement(Tt,null))))}var wt=function(){var e=function(){var e=te(),t=e.market,n=e.marketName,r=ie(),a=ae(),c=a.bidOrderbook,o=a.askOrderbook;return t&&r&&c&&o?t.filterForOpenOrders(c,o,[r]).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{marketName:n})})):null}();return a.a.createElement(Ot,{openOrders:e})},Tt=function(){var e=fe();return a.a.createElement(vt,{balances:e})},Ct=n(450),zt=n(455),At=n(192);function Nt(e){var t=e.external,n=void 0!==t&&t,r=Object(At.a)(e,["external"]),c=r.to,o=r.children,i=Object(At.a)(r,["to","children"]);return n?a.a.createElement("a",Object.assign({href:c,target:"_blank",rel:"noopener noreferrer"},i),o):a.a.createElement(we.b,Object.assign({to:c},i),o)}function Ft(e){var t,n,r=e.onClose,c=e.depositCoin,o=c&&Object.keys(Q).find((function(e){return Q[e]===c})),i=te().market,l=J(),u=l.providerName,s=l.providerUrl,d=ue(),p=le();return n=(null===i||void 0===i||null===(t=i.baseMintAddress)||void 0===t?void 0:t.toBase58())===o?d:p,o?a.a.createElement(zt.a,{title:c,visible:!!o,onOk:r,onCancel:r},a.a.createElement("div",{style:{paddingTop:"20px"}},a.a.createElement("p",{style:{color:"white"}},"Mint address:"),a.a.createElement("p",{style:{color:"rgba(255,255,255,0.5)"}},o),a.a.createElement("div",null,a.a.createElement("p",{style:{color:"white"}},"Deposit address:"),a.a.createElement("p",{style:{color:"rgba(255,255,255,0.5)"}},n?n.pubkey.toBase58():a.a.createElement(a.a.Fragment,null,"Visit"," ",a.a.createElement(Nt,{external:!0,to:s},u)," ","to create an account for this mint"))))):null}function Bt(){var e=Object(ve.a)(["\n  color: #2abdd2;\n  background-color: #212734;\n  border-width: 0px;\n"]);return Bt=function(){return e},e}function It(){var e=Object(ve.a)(["\n  font-size: 12px;\n  padding-top: 6px;\n"]);return It=function(){return e},e}function Mt(){var e=Object(ve.a)(["\n  padding-bottom: 20px;\n"]);return Mt=function(){return e},e}var Dt=Object(he.c)(Ne.a)(Mt()),Pt=he.c.p(It()),Ut=Object(he.c)(Ae.a)(Bt());function Rt(){var e=te(),t=e.baseCurrency,n=e.quoteCurrency,c=e.market,o=fe(),i=ie(!0),d=M(),p=J(),f=p.providerUrl,m=p.providerName,b=p.wallet,v=Object(r.useState)(""),h=Object(s.a)(v,2),g=h[0],k=h[1],y=ue(),O=le(),E=o&&o.find((function(e){return e.coin===t})),x=o&&o.find((function(e){return e.coin===n}));function S(){return j.apply(this,arguments)}function j(){return(j=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt({market:c,openOrders:i,connection:d,wallet:b,baseCurrencyAccount:y,quoteCurrencyAccount:O});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.a.createElement(De,{style:{flex:1,paddingTop:10}},[[t,E],[n,x]].map((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ct.a,{style:{borderColor:"white"}},n),a.a.createElement(Dt,{align:"middle",justify:"space-between",style:{paddingBottom:12}},a.a.createElement(Fe.a,null,"Wallet balance:"),a.a.createElement(Fe.a,null,r&&r.wallet)),a.a.createElement(Dt,{align:"middle",justify:"space-between",style:{paddingBottom:12}},a.a.createElement(Fe.a,null,"Unsettled balance:"),a.a.createElement(Fe.a,null,r&&r.unsettled)),a.a.createElement(Dt,{align:"middle",justify:"space-around"},a.a.createElement(Fe.a,{style:{width:150}},a.a.createElement(Ut,{block:!0,size:"large",onClick:function(){return k(n)}},"Deposit")),a.a.createElement(Fe.a,{style:{width:150}},a.a.createElement(Ut,{block:!0,size:"large",onClick:S},"Settle"))),a.a.createElement(Pt,null,"All deposits go to your"," ",a.a.createElement(Nt,{external:!0,to:f},m)," ","wallet"))})),a.a.createElement(Ft,{depositCoin:g,onClose:function(){return k("")}}))}var Kt=n(165),qt=n(458);function Lt(){var e=Object(ve.a)(["\n  margin: 20px 0px 0px 0px;\n  background: #02bf76;\n  border-color: #02bf76;\n"]);return Lt=function(){return e},e}function Wt(){var e=Object(ve.a)(["\n  margin: 20px 0px 0px 0px;\n  background: #f23b69;\n  border-color: #f23b69;\n"]);return Wt=function(){return e},e}function Ht(){var e=Object(ve.a)(["\n  text-align: right;\n  padding-bottom: 16px;\n"]);return Ht=function(){return e},e}var Yt=Object(he.c)(ze.a)(Ht()),Xt=Object(he.c)(Ae.a)(Wt()),Gt=Object(he.c)(Ae.a)(Lt());function Jt(e){var t=e.style,n=e.setChangeOrderRef,c=Object(r.useState)("buy"),o=Object(s.a)(c,2),i=o[0],d=o[1],p=te(),f=p.baseCurrency,m=p.quoteCurrency,b=p.market,v=de(),h=se(),g=ue(),k=le(),y=ie(!0),O=J().wallet,E=M(),x=(ne(),Object(r.useState)(!1)),S=Object(s.a)(x,2),j=S[0],w=S[1],T=Object(r.useState)(!1),C=Object(s.a)(T,2),z=C[0],A=C[1],N=Object(r.useState)(null),F=Object(s.a)(N,2),B=F[0],I=F[1],D=Object(r.useState)(null),P=Object(s.a)(D,2),U=P[0],K=P[1],q=Object(r.useState)(!1),L=Object(s.a)(q,2),W=L[0],Y=L[1],X=h+(y?b.quoteSplSizeToNumber(y.quoteTokenFree):0);U&&B&&X&&v&&"buy"===i&&Math.floor(X);Object(r.useEffect)((function(){n&&n(G)}),[n]);var G=function(e){var t=e.size,n=e.price;t&&I(t),n&&K(n)};function Z(){return Q.apply(this,arguments)}function Q(){return(Q=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=parseFloat(U),n=parseFloat(B),Y(!0),e.prev=3,e.next=6,ut({side:i,price:t,size:n,orderType:z?"ioc":j?"postOnly":"limit",market:b,connection:E,wallet:O,baseCurrencyAccount:null===g||void 0===g?void 0:g.pubkey,quoteCurrencyAccount:null===k||void 0===k?void 0:k.pubkey});case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),console.warn(e.t0),H({message:"Error placing order: "+e.t0.message,type:"error"});case 12:return e.prev=12,Y(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[3,8,12,15]])})))).apply(this,arguments)}return a.a.createElement(De,{style:Object(R.a)({display:"flex",flexDirection:"column"},t)},a.a.createElement("div",{style:{flex:1}},a.a.createElement(Kt.a.Group,{onChange:function(e){return d(e.target.value)},value:i,buttonStyle:"solid",style:{marginBottom:8,width:"100%"}},a.a.createElement(Kt.a.Button,{value:"buy",style:{width:"50%",textAlign:"center",background:"buy"===i?"#02bf76":"",borderColor:"buy"===i?"#02bf76":""}},"BUY"),a.a.createElement(Kt.a.Button,{value:"sell",style:{width:"50%",textAlign:"center",background:"sell"===i?"#F23B69":"",borderColor:"sell"===i?"#F23B69":""}},"SELL")),a.a.createElement(Yt,{addonBefore:"Price (".concat(m,")"),placeholder:"Price",value:U,type:"number",step:(null===b||void 0===b?void 0:b.tickSize)||1,onChange:function(e){return K(e.target.value)}}),a.a.createElement(Yt,{addonBefore:"Size (".concat(f,")"),placeholder:"Size",value:B,type:"number",step:(null===b||void 0===b?void 0:b.minOrderSize)||1,onChange:function(e){return I(e.target.value)}}),a.a.createElement("div",{style:{paddingTop:18}},"POST ",a.a.createElement(qt.a,{checked:j,onChange:function(e){e&&A(!1),w(e)},style:{marginRight:40}}),"IOC ",a.a.createElement(qt.a,{checked:z,onChange:function(e){e&&w(!1),A(e)}}))),"buy"===i?a.a.createElement(Gt,{disabled:!U||!B,onClick:Z,block:!0,type:"primary",size:"large",loading:W},"Buy ",f):a.a.createElement(Xt,{disabled:!U||!B,onClick:Z,block:!0,type:"primary",size:"large",loading:W},"Sell ",f))}function Zt(){var e=Object(ve.a)(["\n  height: calc(100% - 75px);\n  margin-right: -20px;\n  padding-right: 5px;\n  overflow-y: scroll;\n"]);return Zt=function(){return e},e}function Qt(){var e=Object(ve.a)(["\n  padding: 20px 0 14px;\n  color: #434a59;\n"]);return Qt=function(){return e},e}function Vt(){var e=Object(ve.a)(["\n  color: rgba(255, 255, 255, 1);\n"]);return Vt=function(){return e},e}var _t=he.c.div(Vt()),$t=Object(he.c)(Ne.a)(Qt()),en=he.c.div(Zt());function tn(e){var t=e.smallScreen,n=te(),r=n.baseCurrency,c=n.quoteCurrency,o=n.market,i=pe();return a.a.createElement(De,{style:t?{flex:1}:{marginTop:"10px",height:"calc(100% - 520px)"}},a.a.createElement(_t,null,"Recent Market trades"),a.a.createElement($t,null,a.a.createElement(Fe.a,{span:12,style:{textAlign:"left"}},"Size (",r,")"),a.a.createElement(Fe.a,{span:12,style:{textAlign:"right"}},"Price (",c,")"," ")),!!i&&a.a.createElement(en,null,i.map((function(e,t){return a.a.createElement(Ne.a,{key:t,style:{marginBottom:4}},a.a.createElement(Fe.a,{span:12,style:{textAlign:"left"}},(null===o||void 0===o?void 0:o.minOrderSize)&&!isNaN(e.size)?Number(e.size).toFixed(m(o.minOrderSize)):e.size),a.a.createElement(Fe.a,{span:12,style:{textAlign:"right",color:"buy"===e.side?"#41C77A":"#F23B69"}},(null===o||void 0===o?void 0:o.tickSize)&&!isNaN(e.price)?Number(e.price).toFixed(m(o.tickSize)):e.price))}))))}var nn=n(463);function rn(e){var t=e.title,n=e.address;return a.a.createElement("div",null,t&&a.a.createElement("p",{style:{color:"white"}},t),a.a.createElement(Ae.a,{type:"link",icon:a.a.createElement(nn.a,null),href:"https://explorer.solana.com/address/"+n,target:"_blank"},n))}var an=n(464);function cn(){var e=Object(ve.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 16px 16px;\n  .borderNone .ant-select-selector {\n    border: none !important;\n  }\n"]);return cn=function(){return e},e}var on=Ce.a.Option,ln=he.c.div(cn());function un(){var e=te(),t=e.market,n=e.marketName,c=e.setMarketName,o=Object.values(V),i=b("submittedPassword5",!1),l=Object(s.a)(i,2),u=(l[0],l[1],Object(r.useState)("password")),d=Object(s.a)(u,2),p=(d[0],d[1],Object(r.useState)({height:window.innerHeight,width:window.innerWidth})),f=Object(s.a)(p,2),m=f[0],v=f[1],h=Object(r.useRef)();Object(r.useEffect)((function(){var e=function(){v({height:window.innerHeight,width:window.innerWidth})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var g=null===m||void 0===m?void 0:m.width,k={onChangeOrderRef:function(e){return h.current=e},onPrice:function(e){return h.current&&h.current({price:e})},onSize:function(e){return h.current&&h.current({size:e})}},y=Object(r.useCallback)((function(){return g<1e3?a.a.createElement(pn,k):g<1450?a.a.createElement(dn,k):a.a.createElement(sn,k)}),[g,k]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(ln,null,a.a.createElement(Ne.a,{align:"middle",style:{paddingLeft:5,paddingRight:5},gutter:16},a.a.createElement(Fe.a,null,a.a.createElement(Ce.a,{size:"large",bordered:!0,onSelect:c,value:n,listHeight:400},o.map((function(e,t){var n=e.name,r=e.address;return a.a.createElement(on,{value:n,key:r,style:{padding:"10px 0",textAlign:"center",backgroundColor:t%2===0?"rgb(39, 44, 61)":null}},n)})))),t?a.a.createElement(Fe.a,null,a.a.createElement(Be.a,{content:a.a.createElement(rn,{address:t.publicKey.toBase58()}),placement:"bottomRight",title:"Market address",trigger:"click"},a.a.createElement(an.a,{style:{color:"#2abdd2"}}))):null),y()))}var sn=function(e){var t=e.onChangeOrderRef,n=e.onPrice,r=e.onSize;return a.a.createElement(Ne.a,{style:{minHeight:"750px",flexWrap:"nowrap"}},a.a.createElement(Fe.a,{flex:"auto",style:{height:"100%",display:"flex"}},a.a.createElement(jt,null)),a.a.createElement(Fe.a,{flex:"360px",style:{height:"100%"}},a.a.createElement(Ve,{smallScreen:!1,onPrice:n,onSize:r}),a.a.createElement(tn,{smallScreen:!1})),a.a.createElement(Fe.a,{flex:"400px",style:{height:"100%",display:"flex",flexDirection:"column"}},a.a.createElement(Jt,{setChangeOrderRef:t}),a.a.createElement(Rt,null)))},dn=function(e){var t=e.onChangeOrderRef,n=e.onPrice,r=e.onSize;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ne.a,{style:{height:"750px"}},a.a.createElement(Fe.a,{flex:"auto",style:{height:"100%",display:"flex"}},a.a.createElement(Ve,{smallScreen:!0,depth:12,onPrice:n,onSize:r})),a.a.createElement(Fe.a,{flex:"auto",style:{height:"100%",display:"flex"}},a.a.createElement(tn,{smallScreen:!0})),a.a.createElement(Fe.a,{flex:"400px",style:{height:"100%",display:"flex",flexDirection:"column"}},a.a.createElement(Jt,{setChangeOrderRef:t}),a.a.createElement(Rt,null))),a.a.createElement(Ne.a,null,a.a.createElement(Fe.a,{flex:"auto"},a.a.createElement(jt,null))))},pn=function(e){var t=e.onChangeOrderRef,n=e.onPrice,r=e.onSize;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ne.a,null,a.a.createElement(Fe.a,{xs:24,sm:12,style:{height:"100%",display:"flex"}},a.a.createElement(Jt,{style:{flex:1},setChangeOrderRef:t})),a.a.createElement(Fe.a,{xs:24,sm:12},a.a.createElement(Rt,null))),a.a.createElement(Ne.a,{style:{minHeight:"500px"}},a.a.createElement(Fe.a,{xs:24,sm:12,style:{height:"100%",display:"flex"}},a.a.createElement(Ve,{smallScreen:!0,onPrice:n,onSize:r})),a.a.createElement(Fe.a,{xs:24,sm:12,style:{height:"100%",display:"flex"}},a.a.createElement(tn,{smallScreen:!0}))),a.a.createElement(Ne.a,null,a.a.createElement(Fe.a,{flex:"auto"},a.a.createElement(jt,null))))};function fn(){var e=function(){var e=J(),t=e.connected,n=e.wallet,r=I(),a=_();function c(){return(c=Object(u.a)(l.a.mark((function e(){var c,o,i,u,p,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=[],t){e.next=3;break}return e.abrupt("return",c);case 3:i=Object(d.a)(a),e.prev=4,p=l.a.mark((function e(){var t,a,i,d,p,f,m,b,v,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=u.value,a=(t=o).market,i=t.marketName,a){e.next=4;break}return e.abrupt("return",{v:c});case 4:return e.next=6,a.findOpenOrdersAccountsForOwner(r,n.publicKey);case 6:if(d=e.sent,p=d&&d[0]){e.next=10;break}return e.abrupt("return",{v:c});case 10:return e.next=12,Promise.all([a.loadBids(r),a.loadAsks(r)]);case 12:f=e.sent,m=Object(s.a)(f,2),b=m[0],v=m[1],h=[].concat(Object(g.a)(b),Object(g.a)(v)).filter((function(e){return e.openOrdersAddress.equals(p.publicKey)})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{marketName:i})})),c=c.concat(h);case 18:case"end":return e.stop()}}),e)})),i.s();case 7:if((u=i.n()).done){e.next=14;break}return e.delegateYield(p(),"t0",9);case 9:if("object"!==typeof(f=e.t0)){e.next=12;break}return e.abrupt("return",f.v);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(4),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:return e.abrupt("return",c);case 23:case"end":return e.stop()}}),e,null,[[4,16,19,22]])})))).apply(this,arguments)}return C((function(){return c.apply(this,arguments)}),Object(z.a)("getOpenOrdersForAllMarkets",t,r,n,a),{refreshInterval:5e3})}(),t=Object(s.a)(e,1)[0];return a.a.createElement(De,{style:{flex:1,paddingTop:10}},a.a.createElement(Ot,{openOrders:t}))}function mn(e){var t=e.loaded,n=void 0!==t&&t,r=e.walletBalances;return a.a.createElement(nt,{emptyLabel:"No balances",dataSource:r,columns:[{title:"Coin",dataIndex:"key",key:"key"},{title:"Wallet Balance",dataIndex:"wallet",key:"wallet"}],pagination:!1,loading:!n})}function bn(e){var t=e.accountBalances,n=I(),r=J().wallet;function c(){return(c=Object(u.a)(l.a.mark((function e(t){var a,c,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.market,c=t.openOrdersAccount,o=t.baseCurrencyAccount,i=t.quoteCurrencyAccount,e.next=3,rt({market:a,openOrders:c,connection:n,wallet:r,baseCurrencyAccount:o,quoteCurrencyAccount:i});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var o=[{title:"Market",dataIndex:"key",key:"key"},{title:"Orders",dataIndex:"orders",key:"orders"},{title:"Unsettled",dataIndex:"unsettled",key:"unsettled"},{key:"action",render:function(e){return a.a.createElement("div",{style:{textAlign:"right"}},a.a.createElement(Ae.a,{ghost:!0,style:{marginRight:12},onClick:function(){return function(e){return c.apply(this,arguments)}(e)}},"Settle"))}}];return a.a.createElement(nt,{emptyLabel:"No balances",dataSource:t,columns:o.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{key:"".concat(e.market).concat(e.coin)})})),pagination:!1})}var vn=Et.a.TabPane;function hn(){var e=function(){var e=J(),t=e.connected,n=e.wallet,r=I(),a=_();function c(){return(c=Object(u.a)(l.a.mark((function e(){var c,o,i,u,s,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=[],t){e.next=3;break}return e.abrupt("return",c);case 3:i=Object(d.a)(a),e.prev=4,s=l.a.mark((function e(){var t,a,i,s,d,p,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=u.value,a=(t=o).market,i=t.marketName,a){e.next=4;break}return e.abrupt("return",{v:c});case 4:if(s=i.includes("/")&&i.split("/")[0],c.find((function(e){return e.coin===s}))){e.next=10;break}return e.next=8,me(a,r,n,!0);case 8:d=e.sent,c.push({key:s,coin:s,wallet:d});case 10:if(p=i.includes("/")&&i.split("/")[1],c.find((function(e){return e.coin===p}))){e.next=16;break}return e.next=14,me(a,r,n,!1);case 14:f=e.sent,c.push({key:p,coin:p,wallet:f});case 16:case"end":return e.stop()}}),e)})),i.s();case 7:if((u=i.n()).done){e.next=14;break}return e.delegateYield(s(),"t0",9);case 9:if("object"!==typeof(p=e.t0)){e.next=12;break}return e.abrupt("return",p.v);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(4),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:return e.abrupt("return",c);case 23:case"end":return e.stop()}}),e,null,[[4,16,19,22]])})))).apply(this,arguments)}return C((function(){return c.apply(this,arguments)}),Object(z.a)("getWalletBalancesForAllMarkets",t,r,n,a),{refreshInterval:5e3})}(),t=Object(s.a)(e,2),n=t[0],r=t[1],c=function(){var e=J(),t=e.connected,n=e.wallet,r=I(),a=_();function c(){return(c=Object(u.a)(l.a.mark((function e(){var c,o,i,u,s,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=[],t){e.next=3;break}return e.abrupt("return",c);case 3:i=Object(d.a)(a),e.prev=4,s=l.a.mark((function e(){var t,a,i,s,d,p,f,m,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=u.value,a=(t=o).market,i=t.marketName,a){e.next=4;break}return e.abrupt("return",{v:c});case 4:return e.next=6,a.findOpenOrdersAccountsForOwner(r,n.publicKey);case 6:if(s=e.sent){e.next=9;break}return e.abrupt("return","continue");case 9:return e.next=11,a.findBaseTokenAccountsForOwner(r,n.publicKey);case 11:return d=e.sent,e.next=14,a.findQuoteTokenAccountsForOwner(r,n.publicKey);case 14:p=e.sent,f=i.includes("/")&&i.split("/")[0],m=i.includes("/")&&i.split("/")[1],b=[],s.forEach((function(e){var t=(null===e||void 0===e?void 0:e.baseTokenTotal)&&(null===e||void 0===e?void 0:e.baseTokenFree)&&a.baseSplSizeToNumber(e.baseTokenTotal.sub(e.baseTokenFree)),n=(null===e||void 0===e?void 0:e.quoteTokenTotal)&&(null===e||void 0===e?void 0:e.quoteTokenFree)&&a.baseSplSizeToNumber(e.quoteTokenTotal.sub(e.quoteTokenFree)),r=(null===e||void 0===e?void 0:e.baseTokenFree)&&a.baseSplSizeToNumber(e.baseTokenFree),c=(null===e||void 0===e?void 0:e.quoteTokenFree)&&a.baseSplSizeToNumber(e.quoteTokenFree);b.push({market:i,coin:f,key:f,orders:t,unsettled:r,openOrdersAccount:e,baseCurrencyAccount:d&&d[0],quoteCurrencyAccount:p&&p[0]}),b.push({market:i,coin:m,key:m,orders:n,unsettled:c,openOrdersAccount:e,baseCurrencyAccount:d&&d[0],quoteCurrencyAccount:p&&p[0]})})),c=c.concat(b);case 20:case"end":return e.stop()}}),e)})),i.s();case 7:if((u=i.n()).done){e.next=16;break}return e.delegateYield(s(),"t0",9);case 9:if("continue"!==(p=e.t0)){e.next=12;break}return e.abrupt("continue",14);case 12:if("object"!==typeof p){e.next=14;break}return e.abrupt("return",p.v);case 14:e.next=7;break;case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(4),i.e(e.t1);case 21:return e.prev=21,i.f(),e.finish(21);case 24:return e.abrupt("return",c);case 25:case"end":return e.stop()}}),e,null,[[4,18,21,24]])})))).apply(this,arguments)}return C((function(){return c.apply(this,arguments)}),Object(z.a)("getOpenOrderAccountsForAllMarkets",t,r,n,a),{refreshInterval:5e3})}(),o=Object(s.a)(c,2),i=o[0],p=o[1];return a.a.createElement(De,{style:{flex:1,paddingTop:10}},a.a.createElement(Et.a,{defaultActiveKey:"walletBalances"},a.a.createElement(vn,{tab:"Wallet Balances",key:"walletBalances"},a.a.createElement(mn,{loaded:r,walletBalances:n})),a.a.createElement(vn,{tab:"Market balances",key:"marketBalances"},a.a.createElement(bn,{loaded:p,accountBalances:i}))))}var gn=n(451),kn=n(465),yn=n(103),On=n(252),En=n.n(On);function xn(){var e=Object(ve.a)(["\n  display: flex;\n  align-items: center;\n  color: #2abdd2;\n  font-weight: bold;\n  cursor: pointer;\n  img {\n    height: 30px;\n    margin-right: 8px;\n  }\n"]);return xn=function(){return e},e}function Sn(){var e=Object(ve.a)(["\n  background-color: #0d1017;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  padding: 0px 30px;\n  flex-wrap: wrap;\n"]);return Sn=function(){return e},e}var jn=he.c.div(Sn()),wn=he.c.div(xn());function Tn(){var e,t=Object(r.useState)("/"),n=Object(s.a)(t,2),c=n[0],o=n[1],i=J(),l=i.connected,u=i.wallet,d=i.providerUrl,p=i.setProvider,f=D(),m=f.endpoint,b=f.setEndpoint,v=Object(Te.f)(),h=Object(Te.e)(),g=null===u||void 0===u||null===(e=u.publicKey)||void 0===e?void 0:e.toBase58(),k=Object(r.useCallback)((function(e){h.push(e.key)}),[h]);return Object(r.useEffect)((function(){v.pathname.includes("/orders")?o("/orders"):v.pathname.includes("/balances")&&o("/balances")}),[v]),a.a.createElement(jn,null,a.a.createElement(wn,null,a.a.createElement("img",{src:En.a,alt:""}),"SERUM"),a.a.createElement(yn.a,{mode:"horizontal",onClick:k,selectedKeys:[c],style:{borderBottom:"none",backgroundColor:"transparent",display:"flex",alignItems:"flex-end",flex:1}},a.a.createElement(yn.a.Item,{key:"/"},"TRADE")),a.a.createElement("div",null,a.a.createElement(Ce.a,{onSelect:b,value:m,style:{marginRight:8}},A.map((function(e){var t=e.name,n=e.endpoint;return a.a.createElement(Ce.a.Option,{value:n,key:n},t)})))),a.a.createElement("div",null,a.a.createElement(Ce.a,{onSelect:p,value:d},Y.map((function(e){var t=e.name,n=e.url;return a.a.createElement(Ce.a.Option,{value:n,key:n},t)})))),a.a.createElement("div",null,a.a.createElement(Ae.a,{type:"text",size:"large",onClick:l?u.disconnect:u.connect,style:{color:"#2abdd2"}},a.a.createElement(kn.a,null),l?"Disconnect":"Connect wallet"),l&&a.a.createElement(Be.a,{content:a.a.createElement(rn,{address:g}),placement:"bottomRight",title:"Wallet public key",trigger:"click"},a.a.createElement(an.a,{style:{color:"#2abdd2"}}))))}var Cn=n(220),zn="https://discord.gg/MxZFT4v",An="https://t.me/ProjectSerum",Nn="https://github.com/project-serum",Fn="https://projectserum.com/",Bn="https://projectserum.com/developer-resources",In="https://solanabeach.io",Mn=gn.a.Footer,Dn=Cn.a.useBreakpoint,Pn=[{description:"Serum Developer Resources",link:Bn},{description:"Discord",link:zn},{description:"Telegram",link:An},{description:"GitHub",link:Nn},{description:"Project Serum",link:Fn},{description:"Solana Network",link:In}],Un=function(){var e=!Dn().lg;return a.a.createElement(Mn,{style:{height:"45px",paddingBottom:10,paddingTop:10}},a.a.createElement(Ne.a,{align:"middle",gutter:[16,4]},!e&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe.a,{flex:"auto"}),Pn.map((function(e,t){return a.a.createElement(Fe.a,{key:t+""},a.a.createElement(Nt,{external:!0,to:e.link},e.description))}))),a.a.createElement(Fe.a,{flex:"auto"})))},Rn=gn.a.Header,Kn=gn.a.Content;function qn(e){var t=e.children;return a.a.createElement(a.a.Fragment,null,a.a.createElement(gn.a,{style:{display:"flex",minHeight:"100vh",flexDirection:"column"}},a.a.createElement(Rn,{style:{padding:0,minHeight:64,height:"unset"}},a.a.createElement(Tn,null)),a.a.createElement(Kn,{style:{flex:1}},t),a.a.createElement(Un,null)))}function Ln(){return a.a.createElement(we.a,{basename:"/"},a.a.createElement(Te.a,{exact:!0,path:"/",component:Wn}),a.a.createElement(Te.a,{exact:!0,path:"/orders",component:Hn}),a.a.createElement(Te.a,{exact:!0,path:"/balances",component:Yn}))}function Wn(){return a.a.createElement(qn,null,a.a.createElement(un,null))}function Hn(){return a.a.createElement(qn,null,a.a.createElement(fn,null))}function Yn(){return a.a.createElement(qn,null,a.a.createElement(hn,null))}function Xn(){return a.a.createElement(r.Suspense,{fallback:function(){return a.a.createElement(ye.a,{size:"large"})}},a.a.createElement(ke,null),a.a.createElement(je,null,a.a.createElement(B,null,a.a.createElement(ee,null,a.a.createElement(G,null,a.a.createElement(r.Suspense,{fallback:function(){return a.a.createElement(ye.a,{size:"large"})}},a.a.createElement(Ln,null)))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Xn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[259,1,2]]]);
//# sourceMappingURL=main.dcc8b51a.chunk.js.map