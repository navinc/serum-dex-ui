(this["webpackJsonpserum-dex-ui"]=this["webpackJsonpserum-dex-ui"]||[]).push([[0],{106:function(e,t,n){"use strict";(function(e){var r=n(165),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.closeAccount=t.mintTo=t.setAuthority=t.revoke=t.approve=t.transfer=t.initializeAccount=t.initializeMint=t.decodeTokenInstructionData=t.SRM_DECIMALS=t.SRM_MINT=t.MSRM_DECIMALS=t.MSRM_MINT=t.WRAPPED_SOL_MINT=t.TOKEN_PROGRAM_ID=t.CLOSE_ACCOUNT_OWNER_INDEX=t.CLOSE_ACCOUNT_DESTINATION_INDEX=t.CLOSE_ACCOUNT_SOURCE_INDEX=t.TRANSFER_OWNER_INDEX=t.TRANSFER_DESTINATION_INDEX=t.TRANSFER_SOURCE_INDEX=t.INITIALIZE_ACCOUNT_OWNER_INDEX=t.INITIALIZE_ACCOUNT_MINT_INDEX=t.INITIALIZE_ACCOUNT_ACCOUNT_INDEX=void 0;var i=c(n(12)),u=n(167),s=n(166);t.INITIALIZE_ACCOUNT_ACCOUNT_INDEX=0,t.INITIALIZE_ACCOUNT_MINT_INDEX=1,t.INITIALIZE_ACCOUNT_OWNER_INDEX=2,t.TRANSFER_SOURCE_INDEX=0,t.TRANSFER_DESTINATION_INDEX=1,t.TRANSFER_OWNER_INDEX=2,t.CLOSE_ACCOUNT_SOURCE_INDEX=0,t.CLOSE_ACCOUNT_DESTINATION_INDEX=1,t.CLOSE_ACCOUNT_OWNER_INDEX=2,t.TOKEN_PROGRAM_ID=new u.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),t.WRAPPED_SOL_MINT=new u.PublicKey("So11111111111111111111111111111111111111112"),t.MSRM_MINT=new u.PublicKey("MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L"),t.MSRM_DECIMALS=0,t.SRM_MINT=new u.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),t.SRM_DECIMALS=6;var l=i.union(i.u8("instruction"));l.addVariant(0,i.struct([i.u8("decimals"),s.publicKeyLayout("mintAuthority"),i.u8("freezeAuthorityOption"),s.publicKeyLayout("freezeAuthority")]),"initializeMint"),l.addVariant(1,i.struct([]),"initializeAccount"),l.addVariant(3,i.struct([i.nu64("amount")]),"transfer"),l.addVariant(4,i.struct([i.nu64("amount")]),"approve"),l.addVariant(5,i.struct([]),"revoke"),l.addVariant(6,i.struct([i.u8("authorityType"),i.u8("newAuthorityOption"),s.publicKeyLayout("newAuthority")]),"setAuthority"),l.addVariant(7,i.struct([i.nu64("amount")]),"mintTo"),l.addVariant(8,i.struct([i.nu64("amount")]),"burn"),l.addVariant(9,i.struct([]),"closeAccount");var d=Math.max.apply(Math,r(Object.values(l.registry).map((function(e){return e.span}))));function m(t){var n=e.alloc(d),r=l.encode(t,n);return n.slice(0,r)}t.decodeTokenInstructionData=function(e){return l.decode(e)},t.initializeMint=function(e){var n=e.mint,r=e.decimals,a=e.mintAuthority,o=e.freezeAuthority,c=void 0===o?null:o,i=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new u.TransactionInstruction({keys:i,data:m({initializeMint:{decimals:r,mintAuthority:a,freezeAuthorityOption:!!c,freezeAuthority:c||new u.PublicKey(0)}}),programId:t.TOKEN_PROGRAM_ID})},t.initializeAccount=function(e){var n=[{pubkey:e.account,isSigner:!1,isWritable:!0},{pubkey:e.mint,isSigner:!1,isWritable:!1},{pubkey:e.owner,isSigner:!1,isWritable:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new u.TransactionInstruction({keys:n,data:m({initializeAccount:{}}),programId:t.TOKEN_PROGRAM_ID})},t.transfer=function(e){var n=e.source,r=e.destination,a=e.amount,o=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.owner,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:o,data:m({transfer:{amount:a}}),programId:t.TOKEN_PROGRAM_ID})},t.approve=function(e){var n=e.source,r=e.delegate,a=e.amount,o=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:e.owner,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:o,data:m({approve:{amount:a}}),programId:t.TOKEN_PROGRAM_ID})},t.revoke=function(e){var n=[{pubkey:e.source,isSigner:!1,isWritable:!0},{pubkey:e.owner,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:n,data:m({revoke:{}}),programId:t.TOKEN_PROGRAM_ID})},t.setAuthority=function(e){var n=e.target,r=e.currentAuthority,a=e.newAuthority,o=e.authorityType,c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:c,data:m({setAuthority:{authorityType:o,newAuthorityOption:!!a,newAuthority:a}}),programId:t.TOKEN_PROGRAM_ID})},t.mintTo=function(e){var n=e.mint,r=e.destination,a=e.amount,o=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.mintAuthority,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:o,data:m({mintTo:{amount:a}}),programId:t.TOKEN_PROGRAM_ID})},t.closeAccount=function(e){var n=[{pubkey:e.source,isSigner:!1,isWritable:!0},{pubkey:e.destination,isSigner:!1,isWritable:!0},{pubkey:e.owner,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:n,data:m({closeAccount:{}}),programId:t.TOKEN_PROGRAM_ID})}}).call(this,n(55).Buffer)},166:function(e,t,n){"use strict";(function(e){var r=n(241),a=n(160),o=n(85),c=n(86),i=n(456),u=n(235),s=n(120),l=n(121),d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setLayoutEncoder=t.setLayoutDecoder=t.accountFlagsLayout=t.orderTypeLayout=t.sideLayout=t.VersionedLayout=t.WideBits=t.u128=t.u64=t.publicKeyLayout=t.zeros=void 0;var m=n(12),p=n(167),f=d(n(137)),b=function(e){s(n,e);var t=l(n);function n(){return o(this,n),t.apply(this,arguments)}return c(n,[{key:"decode",value:function(e,t){var r=i(u(n.prototype),"decode",this).call(this,e,t);if(!r.every((function(e){return 0===e})))throw new Error("nonzero padding bytes");return r}}]),n}(m.Blob);t.zeros=function(e){return new b(e)};var v=function(e){s(n,e);var t=l(n);function n(e){return o(this,n),t.call(this,32,e)}return c(n,[{key:"decode",value:function(e,t){return new p.PublicKey(i(u(n.prototype),"decode",this).call(this,e,t))}},{key:"encode",value:function(e,t,r){return i(u(n.prototype),"encode",this).call(this,e.toBuffer(),t,r)}}]),n}(m.Blob);t.publicKeyLayout=function(e){return new v(e)};var h=function(t){s(r,t);var n=l(r);function r(){return o(this,r),n.apply(this,arguments)}return c(r,[{key:"decode",value:function(e,t){return new f.default(i(u(r.prototype),"decode",this).call(this,e,t),10,"le")}},{key:"encode",value:function(t,n,a){return i(u(r.prototype),"encode",this).call(this,t.toArrayLike(e,"le",this.span),n,a)}}]),r}(m.Blob);t.u64=function(e){return new h(8,e)},t.u128=function(e){return new h(16,e)};var y=function(e){s(n,e);var t=l(n);function n(e){var r;return o(this,n),(r=t.call(this,8,e))._lower=m.bits(m.u32(),!1),r._upper=m.bits(m.u32(),!1),r}return c(n,[{key:"addBoolean",value:function(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}},{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._lower.decode(e,t),r=this._upper.decode(e,t+this._lower.span);return a(a({},n),r)}},{key:"encode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._lower.encode(e,t,n)+this._upper.encode(e,t,n+this._lower.span)}}]),n}(m.Layout);t.WideBits=y;var k=function(e){s(n,e);var t=l(n);function n(e,r,a){var c;return o(this,n),(c=t.call(this,r.span>0?r.span+1:r.span,a)).version=e,c.inner=r,c}return c(n,[{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.inner.decode(e,t+1)}},{key:"encode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.writeUInt8(this.version,n),1+this.inner.encode(e,t,n+1)}},{key:"getSpan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 1+this.inner.getSpan(e,t+1)}}]),n}(m.Layout);t.VersionedLayout=k;var g=function(e){s(n,e);var t=l(n);function n(e,r,a){var c;return o(this,n),(c=t.call(this,r,a)).values=e,c}return c(n,[{key:"encode",value:function(e,t,r){if(void 0!==this.values[e])return i(u(n.prototype),"encode",this).call(this,this.values[e],t,r);throw new Error("Invalid "+this.property)}},{key:"decode",value:function(e,t){var a=i(u(n.prototype),"decode",this).call(this,e,t),o=Object.entries(this.values).find((function(e){return r(e,2)[1]===a}));if(o)return o[0];throw new Error("Invalid "+this.property)}}]),n}(m.UInt);t.sideLayout=function(e){return new g({buy:0,sell:1},4,e)},t.orderTypeLayout=function(e){return new g({limit:0,ioc:1,postOnly:2},4,e)};var E=new y;E.addBoolean("initialized"),E.addBoolean("market"),E.addBoolean("openOrders"),E.addBoolean("requestQueue"),E.addBoolean("eventQueue"),E.addBoolean("bids"),E.addBoolean("asks"),t.accountFlagsLayout=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"accountFlags";return E.replicate(e)},t.setLayoutDecoder=function(e,t){var n=e.decode;e.decode=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t(n.call(this,e,r))}},t.setLayoutEncoder=function(e,t){var n=e.encode;return e.encode=function(e,r,a){return n.call(this,t(e),r,a)},e}}).call(this,n(55).Buffer)},248:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MARKETS=t.TOKEN_MINTS=t.getLayoutVersion=void 0;var a=n(167),o=r(n(506)),c=r(n(507));t.getLayoutVersion=function(e){return e.equals(new a.PublicKey("4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"))||e.equals(new a.PublicKey("BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg"))?1:2},t.TOKEN_MINTS=c.default.map((function(e){return{address:new a.PublicKey(e.address),name:e.name}})),t.MARKETS=o.default.map((function(e){return{address:new a.PublicKey(e.address),name:e.name,programId:new a.PublicKey(e.programId),deprecated:e.deprecated}}))},302:function(e,t,n){"use strict";(function(e){var r=n(165),a=n(85),o=n(86);Object.defineProperty(t,"__esModule",{value:!0}),t.DexInstructions=t.decodeInstruction=t.encodeInstruction=t.INSTRUCTION_LAYOUT=t.NEW_ORDER_OWNER_INDEX=t.NEW_ORDER_OPEN_ORDERS_INDEX=t.SETTLE_FUNDS_QUOTE_WALLET_INDEX=t.SETTLE_FUNDS_BASE_WALLET_INDEX=void 0;var c=n(12),i=n(166),u=n(167),s=n(106);function l(n){var r=e.alloc(100);return r.slice(0,t.INSTRUCTION_LAYOUT.encode(n,r))}t.SETTLE_FUNDS_BASE_WALLET_INDEX=5,t.SETTLE_FUNDS_QUOTE_WALLET_INDEX=6,t.NEW_ORDER_OPEN_ORDERS_INDEX=1,t.NEW_ORDER_OWNER_INDEX=4,t.INSTRUCTION_LAYOUT=new i.VersionedLayout(0,c.union(c.u32("instruction"))),t.INSTRUCTION_LAYOUT.inner.addVariant(0,c.struct([i.u64("baseLotSize"),i.u64("quoteLotSize"),c.u16("feeRateBps"),i.u64("vaultSignerNonce"),i.u64("quoteDustThreshold")]),"initializeMarket"),t.INSTRUCTION_LAYOUT.inner.addVariant(1,c.struct([i.sideLayout("side"),i.u64("limitPrice"),i.u64("maxQuantity"),i.orderTypeLayout("orderType"),i.u64("clientId")]),"newOrder"),t.INSTRUCTION_LAYOUT.inner.addVariant(2,c.struct([c.u16("limit")]),"matchOrders"),t.INSTRUCTION_LAYOUT.inner.addVariant(3,c.struct([c.u16("limit")]),"consumeEvents"),t.INSTRUCTION_LAYOUT.inner.addVariant(4,c.struct([i.sideLayout("side"),i.u128("orderId"),i.publicKeyLayout("openOrders"),c.u8("openOrdersSlot")]),"cancelOrder"),t.INSTRUCTION_LAYOUT.inner.addVariant(5,c.struct([]),"settleFunds"),t.INSTRUCTION_LAYOUT.inner.addVariant(6,c.struct([i.u64("clientId")]),"cancelOrderByClientId"),t.encodeInstruction=l,t.decodeInstruction=function(e){return t.INSTRUCTION_LAYOUT.decode(e)};var d=function(){function e(){a(this,e)}return o(e,null,[{key:"initializeMarket",value:function(e){var t=e.market,n=e.requestQueue,r=e.eventQueue,a=e.bids,o=e.asks,c=e.baseVault,i=e.quoteVault,s=e.baseMint,d=e.quoteMint,m=e.baseLotSize,p=e.quoteLotSize,f=e.feeRateBps,b=e.vaultSignerNonce,v=e.quoteDustThreshold,h=e.programId;return new u.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1}],programId:h,data:l({initializeMarket:{baseLotSize:m,quoteLotSize:p,feeRateBps:f,vaultSignerNonce:b,quoteDustThreshold:v}})})}},{key:"newOrder",value:function(e){var t=e.market,n=e.openOrders,r=e.payer,a=e.owner,o=e.requestQueue,c=e.baseVault,i=e.quoteVault,d=e.side,m=e.limitPrice,p=e.maxQuantity,f=e.orderType,b=e.clientId,v=e.programId,h=e.feeDiscountPubkey,y=void 0===h?null:h,k=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return y&&k.push({pubkey:y,isSigner:!1,isWritable:!1}),new u.TransactionInstruction({keys:k,programId:v,data:l({newOrder:b?{side:d,limitPrice:m,maxQuantity:p,orderType:f,clientId:b}:{side:d,limitPrice:m,maxQuantity:p,orderType:f}})})}},{key:"matchOrders",value:function(e){var t=e.market,n=e.requestQueue,r=e.eventQueue,a=e.bids,o=e.asks,c=e.baseVault,i=e.quoteVault,s=e.limit,d=e.programId;return new u.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0}],programId:d,data:l({matchOrders:{limit:s}})})}},{key:"consumeEvents",value:function(e){var t=e.market,n=e.eventQueue,a=e.openOrdersAccounts,o=e.limit,c=e.programId;return new u.TransactionInstruction({keys:[].concat(r(a.map((function(e){return{pubkey:e,isSigner:!1,isWritable:!0}}))),[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}]),programId:c,data:l({consumeEvents:{limit:o}})})}},{key:"cancelOrder",value:function(e){var t=e.market,n=e.openOrders,r=e.owner,a=e.requestQueue,o=e.side,c=e.orderId,i=e.openOrdersSlot,s=e.programId;return new u.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:s,data:l({cancelOrder:{side:o,orderId:c,openOrders:n,openOrdersSlot:i}})})}},{key:"cancelOrderByClientId",value:function(e){var t=e.market,n=e.openOrders,r=e.owner,a=e.requestQueue,o=e.clientId,c=e.programId;return new u.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:c,data:l({cancelOrderByClientId:{clientId:o}})})}},{key:"settleFunds",value:function(e){var t=e.market,n=e.openOrders,r=e.owner,a=e.baseVault,o=e.quoteVault,c=e.baseWallet,i=e.quoteWallet,d=e.vaultSigner,m=e.programId,p=e.referrerQuoteWallet,f=void 0===p?null:p,b=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:s.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}];return f&&b.push({pubkey:f,isSigner:!1,isWritable:!0}),new u.TransactionInstruction({keys:b,programId:m,data:l({settleFunds:{}})})}}]),e}();t.DexInstructions=d}).call(this,n(55).Buffer)},303:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_QUEUE_LAYOUT=t.REQUEST_QUEUE_LAYOUT=t.decodeEventQueue=t.decodeRequestQueue=void 0;var r=n(12),a=n(166),o=r.struct([r.blob(5),a.accountFlagsLayout("accountFlags"),r.u32("head"),a.zeros(4),r.u32("count"),a.zeros(4),r.u32("nextSeqNum"),a.zeros(4)]),c=r.bits(r.u8(),!1,"requestFlags");c.addBoolean("newOrder"),c.addBoolean("cancelOrder"),c.addBoolean("bid"),c.addBoolean("postOnly"),c.addBoolean("ioc");var i=r.struct([c,r.u8("openOrdersSlot"),r.u8("feeTier"),r.blob(5),a.u64("maxBaseSizeOrCancelId"),a.u64("nativeQuoteQuantityLocked"),a.u128("orderId"),a.publicKeyLayout("openOrders"),a.u64("clientOrderId")]),u=r.struct([r.blob(5),a.accountFlagsLayout("accountFlags"),r.u32("head"),a.zeros(4),r.u32("count"),a.zeros(4),r.u32("seqNum"),a.zeros(4)]),s=r.bits(r.u8(),!1,"eventFlags");s.addBoolean("fill"),s.addBoolean("out"),s.addBoolean("bid"),s.addBoolean("maker");var l=r.struct([s,r.u8("openOrdersSlot"),r.u8("feeTier"),r.blob(5),a.u64("nativeQuantityReleased"),a.u64("nativeQuantityPaid"),a.u64("nativeFeeOrRebate"),a.u128("orderId"),a.publicKeyLayout("openOrders"),a.u64("clientOrderId")]);function d(e,t,n,r){var a=e.decode(n),o=Math.floor((n.length-e.span)/t.span),c=[];if(r)for(var i=0;i<Math.min(r,o);++i){var u=(a.head+a.count+o-1-i)%o;c.push(t.decode(n,e.span+u*t.span))}else for(var s=0;s<a.count;++s){var l=(a.head+s)%o;c.push(t.decode(n,e.span+l*t.span))}return{header:a,nodes:c}}t.decodeRequestQueue=function(e,t){var n=d(o,i,e,t),r=n.header,a=n.nodes;if(!r.accountFlags.initialized||!r.accountFlags.requestQueue)throw new Error("Invalid requests queue");return a},t.decodeEventQueue=function(e,t){var n=d(u,l,e,t),r=n.header,a=n.nodes;if(!r.accountFlags.initialized||!r.accountFlags.eventQueue)throw new Error("Invalid events queue");return a},t.REQUEST_QUEUE_LAYOUT={HEADER:o,NODE:i},t.EVENT_QUEUE_LAYOUT={HEADER:u,NODE:l}},304:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeeTier=t.getFeeRates=t.supportsSrmFeeDiscounts=void 0;var r=n(248);t.supportsSrmFeeDiscounts=function(e){return r.getLayoutVersion(e)>1},t.getFeeRates=function(e){return 1===e?{taker:.002,maker:-3e-4}:2===e?{taker:.0018,maker:-3e-4}:3===e?{taker:.0016,maker:-3e-4}:4===e?{taker:.0014,maker:-3e-4}:5===e?{taker:.0012,maker:-3e-4}:6===e?{taker:.001,maker:-5e-4}:{taker:.0022,maker:-3e-4}},t.getFeeTier=function(e,t){return e>=1?6:t>=1e6?5:t>=1e5?4:t>=1e4?3:t>=1e3?2:t>=100?1:0}},32:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TokenInstructions=t.EVENT_QUEUE_LAYOUT=t.REQUEST_QUEUE_LAYOUT=t.decodeRequestQueue=t.decodeEventQueue=t.getLayoutVersion=t.MARKETS=t.TOKEN_MINTS=t.supportsSrmFeeDiscounts=t.getFeeRates=t.getFeeTier=t.NEW_ORDER_OWNER_INDEX=t.NEW_ORDER_OPEN_ORDERS_INDEX=t.SETTLE_FUNDS_QUOTE_WALLET_INDEX=t.SETTLE_FUNDS_BASE_WALLET_INDEX=t.decodeInstruction=t.DexInstructions=t.OpenOrders=t.Orderbook=t.Market=void 0;var c=n(449);Object.defineProperty(t,"Market",{enumerable:!0,get:function(){return c.Market}}),Object.defineProperty(t,"Orderbook",{enumerable:!0,get:function(){return c.Orderbook}}),Object.defineProperty(t,"OpenOrders",{enumerable:!0,get:function(){return c.OpenOrders}});var i=n(302);Object.defineProperty(t,"DexInstructions",{enumerable:!0,get:function(){return i.DexInstructions}}),Object.defineProperty(t,"decodeInstruction",{enumerable:!0,get:function(){return i.decodeInstruction}}),Object.defineProperty(t,"SETTLE_FUNDS_BASE_WALLET_INDEX",{enumerable:!0,get:function(){return i.SETTLE_FUNDS_BASE_WALLET_INDEX}}),Object.defineProperty(t,"SETTLE_FUNDS_QUOTE_WALLET_INDEX",{enumerable:!0,get:function(){return i.SETTLE_FUNDS_QUOTE_WALLET_INDEX}}),Object.defineProperty(t,"NEW_ORDER_OPEN_ORDERS_INDEX",{enumerable:!0,get:function(){return i.NEW_ORDER_OPEN_ORDERS_INDEX}}),Object.defineProperty(t,"NEW_ORDER_OWNER_INDEX",{enumerable:!0,get:function(){return i.NEW_ORDER_OWNER_INDEX}});var u=n(304);Object.defineProperty(t,"getFeeTier",{enumerable:!0,get:function(){return u.getFeeTier}}),Object.defineProperty(t,"getFeeRates",{enumerable:!0,get:function(){return u.getFeeRates}}),Object.defineProperty(t,"supportsSrmFeeDiscounts",{enumerable:!0,get:function(){return u.supportsSrmFeeDiscounts}});var s=n(248);Object.defineProperty(t,"TOKEN_MINTS",{enumerable:!0,get:function(){return s.TOKEN_MINTS}}),Object.defineProperty(t,"MARKETS",{enumerable:!0,get:function(){return s.MARKETS}}),Object.defineProperty(t,"getLayoutVersion",{enumerable:!0,get:function(){return s.getLayoutVersion}});var l=n(303);Object.defineProperty(t,"decodeEventQueue",{enumerable:!0,get:function(){return l.decodeEventQueue}}),Object.defineProperty(t,"decodeRequestQueue",{enumerable:!0,get:function(){return l.decodeRequestQueue}}),Object.defineProperty(t,"REQUEST_QUEUE_LAYOUT",{enumerable:!0,get:function(){return l.REQUEST_QUEUE_LAYOUT}}),Object.defineProperty(t,"EVENT_QUEUE_LAYOUT",{enumerable:!0,get:function(){return l.EVENT_QUEUE_LAYOUT}}),t.TokenInstructions=o(n(106))},355:function(e,t,n){e.exports=n.p+"static/media/logo.49174c73.svg"},367:function(e,t,n){e.exports=n(662)},372:function(e,t,n){},373:function(e,t,n){},376:function(e,t){},377:function(e,t){},407:function(e,t){},409:function(e,t){},421:function(e,t){},422:function(e,t){},449:function(e,t,n){"use strict";var r=n(161),a=n(160),o=n(165),c=n(241),i=n(11),u=n(144),s=n(85),l=n(86),d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMintDecimals=t.Orderbook=t.ORDERBOOK_LAYOUT=t.OpenOrders=t._OPEN_ORDERS_LAYOUT_V2=t._OPEN_ORDERS_LAYOUT_V1=t.Market=t._MARKET_STATE_LAYOUT_V2=t._MARKET_STAT_LAYOUT_V1=void 0;var m=n(12),p=n(166),f=n(505),b=n(302),v=d(n(137)),h=n(167),y=n(303),k=n(55),g=n(304),E=n(106),w=n(248);t._MARKET_STAT_LAYOUT_V1=m.struct([m.blob(5),p.accountFlagsLayout("accountFlags"),p.publicKeyLayout("ownAddress"),p.u64("vaultSignerNonce"),p.publicKeyLayout("baseMint"),p.publicKeyLayout("quoteMint"),p.publicKeyLayout("baseVault"),p.u64("baseDepositsTotal"),p.u64("baseFeesAccrued"),p.publicKeyLayout("quoteVault"),p.u64("quoteDepositsTotal"),p.u64("quoteFeesAccrued"),p.u64("quoteDustThreshold"),p.publicKeyLayout("requestQueue"),p.publicKeyLayout("eventQueue"),p.publicKeyLayout("bids"),p.publicKeyLayout("asks"),p.u64("baseLotSize"),p.u64("quoteLotSize"),p.u64("feeRateBps"),m.blob(7)]),t._MARKET_STATE_LAYOUT_V2=m.struct([m.blob(5),p.accountFlagsLayout("accountFlags"),p.publicKeyLayout("ownAddress"),p.u64("vaultSignerNonce"),p.publicKeyLayout("baseMint"),p.publicKeyLayout("quoteMint"),p.publicKeyLayout("baseVault"),p.u64("baseDepositsTotal"),p.u64("baseFeesAccrued"),p.publicKeyLayout("quoteVault"),p.u64("quoteDepositsTotal"),p.u64("quoteFeesAccrued"),p.u64("quoteDustThreshold"),p.publicKeyLayout("requestQueue"),p.publicKeyLayout("eventQueue"),p.publicKeyLayout("bids"),p.publicKeyLayout("asks"),p.u64("baseLotSize"),p.u64("quoteLotSize"),p.u64("feeRateBps"),p.u64("referrerRebatesAccrued"),m.blob(7)]);var O=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;s(this,e);var c=a.skipPreflight,i=void 0!==c&&c,u=a.commitment,l=void 0===u?"recent":u;if(!t.accountFlags.initialized||!t.accountFlags.market)throw new Error("Invalid market state");this._decoded=t,this._baseSplTokenDecimals=n,this._quoteSplTokenDecimals=r,this._skipPreflight=i,this._commitment=l,this._programId=o,this._openOrdersAccountsCache={},this._feeDiscountKeysCache={}}return l(e,[{key:"loadBids",value:function(){var e=u(i.mark((function e(t){var n,r;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=N,e.next=3,t.getAccountInfo(this._decoded.bids);case 3:return e.t1=e.sent,n=(0,e.t0)(e.t1),r=n.data,e.abrupt("return",T.decode(this,r));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadAsks",value:function(){var e=u(i.mark((function e(t){var n,r;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=N,e.next=3,t.getAccountInfo(this._decoded.asks);case 3:return e.t1=e.sent,n=(0,e.t0)(e.t1),r=n.data,e.abrupt("return",T.decode(this,r));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadOrdersForOwner",value:function(){var e=u(i.mark((function e(t,n){var r,a,o,u,s,l,d=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>2&&void 0!==d[2]?d[2]:0,e.next=3,Promise.all([this.loadBids(t),this.loadAsks(t),this.findOpenOrdersAccountsForOwner(t,n,r)]);case 3:return a=e.sent,o=c(a,3),u=o[0],s=o[1],l=o[2],e.abrupt("return",this.filterForOpenOrders(u,s,l));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"filterForOpenOrders",value:function(e,t,n){return[].concat(o(e),o(t)).filter((function(e){return n.some((function(t){return e.openOrdersAddress.equals(t.address)}))}))}},{key:"findBaseTokenAccountsForOwner",value:function(){var e=u(i.mark((function e(t,n){var r,a,u,s,l,d=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>2&&void 0!==d[2]&&d[2],!this.baseMintAddress.equals(E.WRAPPED_SOL_MINT)||!r){e.next=11;break}return e.next=4,Promise.all([this.findBaseTokenAccountsForOwner(t,n,!1),t.getAccountInfo(n)]);case 4:if(a=e.sent,u=c(a,2),s=u[0],null===(l=u[1])){e.next=10;break}return e.abrupt("return",[{pubkey:n,account:l}].concat(o(s)));case 10:return e.abrupt("return",s);case 11:return e.next=13,this.getTokenAccountsByOwnerForMint(t,n,this.baseMintAddress);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTokenAccountsByOwnerForMint",value:function(){var e=u(i.mark((function e(t,n,r){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getTokenAccountsByOwner(n,{mint:r});case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"findQuoteTokenAccountsForOwner",value:function(){var e=u(i.mark((function e(t,n){var r,a,u,s,l,d=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>2&&void 0!==d[2]&&d[2],!this.quoteMintAddress.equals(E.WRAPPED_SOL_MINT)||!r){e.next=11;break}return e.next=4,Promise.all([this.findQuoteTokenAccountsForOwner(t,n,!1),t.getAccountInfo(n)]);case 4:if(a=e.sent,u=c(a,2),s=u[0],null===(l=u[1])){e.next=10;break}return e.abrupt("return",[{pubkey:n,account:l}].concat(o(s)));case 10:return e.abrupt("return",s);case 11:return e.next=13,this.getTokenAccountsByOwnerForMint(t,n,this.quoteMintAddress);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findOpenOrdersAccountsForOwner",value:function(){var e=u(i.mark((function e(t,n){var r,a,o,c,u=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:0,a=n.toBase58(),o=(new Date).getTime(),!(a in this._openOrdersAccountsCache&&o-this._openOrdersAccountsCache[a].ts<r)){e.next=5;break}return e.abrupt("return",this._openOrdersAccountsCache[a].accounts);case 5:return e.next=7,S.findForMarketAndOwner(t,this.address,n,this._programId);case 7:return c=e.sent,this._openOrdersAccountsCache[a]={accounts:c,ts:o},e.abrupt("return",c);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"placeOrder",value:function(){var e=u(i.mark((function e(t,n){var r,a,c,u,s,l,d,m,p,f,b,v,h;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.owner,a=n.payer,c=n.side,u=n.price,s=n.size,l=n.orderType,d=void 0===l?"limit":l,m=n.clientId,p=n.openOrdersAddressKey,f=n.feeDiscountPubkey,e.next=3,this.makePlaceOrderTransaction(t,{owner:r,payer:a,side:c,price:u,size:s,orderType:d,clientId:m,openOrdersAddressKey:p,feeDiscountPubkey:f});case 3:return b=e.sent,v=b.transaction,h=b.signers,e.next=8,this._sendTransaction(t,v,[r].concat(o(h)));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSplTokenBalanceFromAccountInfo",value:function(e,t){return A(new v.default(e.data.slice(64,72),10,"le"),new v.default(10).pow(new v.default(t)))}},{key:"findFeeDiscountKeys",value:function(){var e=u(i.mark((function e(t,n){var r,a,o,c,u,s,l=this,d=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>2&&void 0!==d[2]?d[2]:0,a=[],o=(new Date).getTime(),!((c=n.toBase58())in this._feeDiscountKeysCache&&o-this._feeDiscountKeysCache[c].ts<r)){e.next=6;break}return e.abrupt("return",this._feeDiscountKeysCache[c].accounts);case 6:if(!this.supportsSrmFeeDiscounts){e.next=14;break}return e.next=9,this.getTokenAccountsByOwnerForMint(t,n,E.MSRM_MINT);case 9:return u=e.sent.map((function(e){var t=e.pubkey,n=e.account,r=l.getSplTokenBalanceFromAccountInfo(n,E.MSRM_DECIMALS);return{pubkey:t,mint:E.MSRM_MINT,balance:r,feeTier:g.getFeeTier(r,0)}})),e.next=12,this.getTokenAccountsByOwnerForMint(t,n,E.SRM_MINT);case 12:s=e.sent.map((function(e){var t=e.pubkey,n=e.account,r=l.getSplTokenBalanceFromAccountInfo(n,E.SRM_DECIMALS);return{pubkey:t,mint:E.SRM_MINT,balance:r,feeTier:g.getFeeTier(0,r)}})),a=u.concat(s).sort((function(e,t){return e.feeTier>t.feeTier?-1:e.feeTier<t.feeTier?1:e.balance>t.balance?-1:e.balance<t.balance?1:0}));case 14:return this._feeDiscountKeysCache[c]={accounts:a,ts:o},e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findBestFeeDiscountKey",value:function(){var e=u(i.mark((function e(t,n){var r,a,o=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:0,e.next=3,this.findFeeDiscountKeys(t,n,r);case 3:if(!((a=e.sent).length>0)){e.next=6;break}return e.abrupt("return",{pubkey:a[0].pubkey,feeTier:a[0].feeTier});case 6:return e.abrupt("return",{pubkey:null,feeTier:0});case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"makePlaceOrderTransaction",value:function(){var e=u(i.mark((function e(t,n){var r,a,o,c,u,s,l,d,m,p,f,b,v,y,k,g,w,O,T,x,A,j,I,D,M=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.owner,a=n.payer,o=n.side,c=n.price,u=n.size,s=n.orderType,l=void 0===s?"limit":s,d=n.clientId,m=n.openOrdersAddressKey,p=n.feeDiscountPubkey,f=void 0===p?null:p,b=M.length>2&&void 0!==M[2]?M[2]:0,v=M.length>3&&void 0!==M[3]?M[3]:0,g=null!==(y=r.publicKey)&&void 0!==y?y:r,e.next=6,this.findOpenOrdersAccountsForOwner(t,g,b);case 6:if(w=e.sent,O=new h.Transaction,T=[],e.t0=f,e.t0){e.next=19;break}if(!this.supportsSrmFeeDiscounts){e.next=17;break}return e.next=14,this.findBestFeeDiscountKey(t,g,v);case 14:e.t1=e.sent.pubkey,e.next=18;break;case 17:e.t1=null;case 18:e.t0=e.t1;case 19:if(f=e.t0,0!==w.length){e.next=32;break}return A=new h.Account,e.t2=O,e.next=25,S.makeCreateAccountTransaction(t,this.address,g,A.publicKey,this._programId);case 25:e.t3=e.sent,e.t2.add.call(e.t2,e.t3),x=A.publicKey,T.push(A),this._openOrdersAccountsCache[g.toBase58()].ts=0,e.next=33;break;case 32:x=m||w[0].address;case 33:if(j=null,!a.equals(g)){e.next=45;break}if(!("buy"===o&&this.quoteMintAddress.equals(E.WRAPPED_SOL_MINT)||"sell"===o&&this.baseMintAddress.equals(E.WRAPPED_SOL_MINT))){e.next=44;break}j=new h.Account,"buy"===o?(I=Math.round(c*u*1.01*h.LAMPORTS_PER_SOL),w.length>0&&(I-=w[0].quoteTokenFree.toNumber())):(I=Math.round(u*h.LAMPORTS_PER_SOL),w.length>0&&(I-=w[0].baseTokenFree.toNumber())),I=Math.max(I,0)+1e7,O.add(h.SystemProgram.createAccount({fromPubkey:g,newAccountPubkey:j.publicKey,lamports:I,space:165,programId:E.TOKEN_PROGRAM_ID})),O.add(E.initializeAccount({account:j.publicKey,mint:E.WRAPPED_SOL_MINT,owner:g})),T.push(j),e.next=45;break;case 44:throw new Error("Invalid payer account");case 45:return D=this.makePlaceOrderInstruction(t,{owner:r,payer:null!==(k=null===j||void 0===j?void 0:j.publicKey)&&void 0!==k?k:a,side:o,price:c,size:u,orderType:l,clientId:d,openOrdersAddressKey:x,feeDiscountPubkey:f}),O.add(D),j&&O.add(E.closeAccount({source:j.publicKey,destination:g,owner:g})),e.abrupt("return",{transaction:O,signers:T,payer:r});case 49:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"makePlaceOrderInstruction",value:function(e,t){var n,r=t.owner,a=t.payer,o=t.side,c=t.price,i=t.size,u=t.orderType,s=void 0===u?"limit":u,l=t.clientId,d=t.openOrdersAddressKey,m=t.feeDiscountPubkey,p=void 0===m?null:m,f=null!==(n=r.publicKey)&&void 0!==n?n:r;if(this.baseSizeNumberToLots(i).lte(new v.default(0)))throw new Error("size too small");if(this.priceNumberToLots(c).lte(new v.default(0)))throw new Error("invalid price");return this.supportsSrmFeeDiscounts||(p=null),b.DexInstructions.newOrder({market:this.address,requestQueue:this._decoded.requestQueue,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,openOrders:d,owner:f,payer:a,side:o,limitPrice:this.priceNumberToLots(c),maxQuantity:this.baseSizeNumberToLots(i),orderType:s,clientId:l,programId:this._programId,feeDiscountPubkey:p})}},{key:"_sendTransaction",value:function(){var e=u(i.mark((function e(t,n,r){var a,o,c;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendTransaction(n,r,{skipPreflight:this._skipPreflight});case 2:return a=e.sent,e.next=5,t.confirmTransaction(a,this._commitment);case 5:if(o=e.sent,!(null===(c=o.value)||void 0===c?void 0:c.err)){e.next=9;break}throw new Error(JSON.stringify(c.err));case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"cancelOrderByClientId",value:function(){var e=u(i.mark((function e(t,n,r,a){var o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeCancelOrderByClientIdTransaction(t,n.publicKey,r,a);case 2:return o=e.sent,e.next=5,this._sendTransaction(t,o,[n]);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"makeCancelOrderByClientIdTransaction",value:function(){var e=u(i.mark((function e(t,n,r,a){var o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new h.Transaction).add(b.DexInstructions.cancelOrderByClientId({market:this.address,owner:n,openOrders:r,requestQueue:this._decoded.requestQueue,clientId:a,programId:this._programId})),e.abrupt("return",o);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=u(i.mark((function e(t,n,r){var a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeCancelOrderTransaction(t,n.publicKey,r);case 2:return a=e.sent,e.next=5,this._sendTransaction(t,a,[n]);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"makeCancelOrderTransaction",value:function(){var e=u(i.mark((function e(t,n,r){var a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new h.Transaction).add(this.makeCancelOrderInstruction(t,n,r)),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"makeCancelOrderInstruction",value:function(e,t,n){return b.DexInstructions.cancelOrder({market:this.address,owner:t,openOrders:n.openOrdersAddress,requestQueue:this._decoded.requestQueue,side:n.side,orderId:n.orderId,openOrdersSlot:n.openOrdersSlot,programId:this._programId})}},{key:"settleFunds",value:function(){var e=u(i.mark((function e(t,n,r,a,c){var u,s,l,d,m=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=m.length>5&&void 0!==m[5]?m[5]:null,r.owner.equals(n.publicKey)){e.next=3;break}throw new Error("Invalid open orders account");case 3:if(!u||this.supportsReferralFees){e.next=5;break}throw new Error("This program ID does not support referrerQuoteWallet");case 5:return e.next=7,this.makeSettleFundsTransaction(t,r,a,c,u);case 7:return s=e.sent,l=s.transaction,d=s.signers,e.next=12,this._sendTransaction(t,l,[n].concat(o(d)));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}()},{key:"makeSettleFundsTransaction",value:function(){var e=u(i.mark((function e(t,n,r,a){var o,c,u,s,l,d=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>4&&void 0!==d[4]?d[4]:null,e.next=3,h.PublicKey.createProgramAddress([this.address.toBuffer(),this._decoded.vaultSignerNonce.toArrayLike(k.Buffer,"le",8)],this._programId);case 3:if(c=e.sent,u=new h.Transaction,s=[],l=null,!(this.baseMintAddress.equals(E.WRAPPED_SOL_MINT)&&r.equals(n.owner)||this.quoteMintAddress.equals(E.WRAPPED_SOL_MINT)&&a.equals(n.owner))){e.next=22;break}return l=new h.Account,e.t0=u,e.t1=h.SystemProgram,e.t2=n.owner,e.t3=l.publicKey,e.next=15,t.getMinimumBalanceForRentExemption(165);case 15:e.t4=e.sent,e.t5=E.TOKEN_PROGRAM_ID,e.t6={fromPubkey:e.t2,newAccountPubkey:e.t3,lamports:e.t4,space:165,programId:e.t5},e.t7=e.t1.createAccount.call(e.t1,e.t6),e.t0.add.call(e.t0,e.t7),u.add(E.initializeAccount({account:l.publicKey,mint:E.WRAPPED_SOL_MINT,owner:n.owner})),s.push(l);case 22:return u.add(b.DexInstructions.settleFunds({market:this.address,openOrders:n.address,owner:n.owner,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,baseWallet:r.equals(n.owner)&&l?l.publicKey:r,quoteWallet:a.equals(n.owner)&&l?l.publicKey:a,vaultSigner:c,programId:this._programId,referrerQuoteWallet:o})),l&&u.add(E.closeAccount({source:l.publicKey,destination:n.owner,owner:n.owner})),e.abrupt("return",{transaction:u,signers:s,payer:n.owner});case 25:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"matchOrders",value:function(){var e=u(i.mark((function e(t,n,r){var a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.makeMatchOrdersTransaction(r),e.next=3,this._sendTransaction(t,a,[n]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"makeMatchOrdersTransaction",value:function(e){var t=new h.Transaction;return t.add(b.DexInstructions.matchOrders({market:this.address,requestQueue:this._decoded.requestQueue,eventQueue:this._decoded.eventQueue,bids:this._decoded.bids,asks:this._decoded.asks,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,limit:e,programId:this._programId})),t}},{key:"loadRequestQueue",value:function(){var e=u(i.mark((function e(t){var n,r;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=N,e.next=3,t.getAccountInfo(this._decoded.requestQueue);case 3:return e.t1=e.sent,n=(0,e.t0)(e.t1),r=n.data,e.abrupt("return",y.decodeRequestQueue(r));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadEventQueue",value:function(){var e=u(i.mark((function e(t){var n,r;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=N,e.next=3,t.getAccountInfo(this._decoded.eventQueue);case 3:return e.t1=e.sent,n=(0,e.t0)(e.t1),r=n.data,e.abrupt("return",y.decodeEventQueue(r));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadFills",value:function(){var e=u(i.mark((function e(t){var n,r,a,o,c=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:100,e.t0=N,e.next=4,t.getAccountInfo(this._decoded.eventQueue);case 4:return e.t1=e.sent,r=(0,e.t0)(e.t1),a=r.data,o=y.decodeEventQueue(a,n),e.abrupt("return",o.filter((function(e){return e.eventFlags.fill&&e.nativeQuantityPaid.gtn(0)})).map(this.parseFillEvent.bind(this)));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseFillEvent",value:function(e){var t,n,r;return e.eventFlags.bid?(r="buy",n=A((e.eventFlags.maker?e.nativeQuantityPaid.add(e.nativeFeeOrRebate):e.nativeQuantityPaid.sub(e.nativeFeeOrRebate)).mul(this._baseSplTokenMultiplier),this._quoteSplTokenMultiplier.mul(e.nativeQuantityReleased)),t=A(e.nativeQuantityReleased,this._baseSplTokenMultiplier)):(r="sell",n=A((e.eventFlags.maker?e.nativeQuantityReleased.sub(e.nativeFeeOrRebate):e.nativeQuantityReleased.add(e.nativeFeeOrRebate)).mul(this._baseSplTokenMultiplier),this._quoteSplTokenMultiplier.mul(e.nativeQuantityPaid)),t=A(e.nativeQuantityPaid,this._baseSplTokenMultiplier)),a(a({},e),{},{side:r,price:n,feeCost:this.quoteSplSizeToNumber(e.nativeFeeOrRebate)*(e.eventFlags.maker?-1:1),size:t})}},{key:"priceLotsToNumber",value:function(e){return A(e.mul(this._decoded.quoteLotSize).mul(this._baseSplTokenMultiplier),this._decoded.baseLotSize.mul(this._quoteSplTokenMultiplier))}},{key:"priceNumberToLots",value:function(e){return new v.default(Math.round(e*Math.pow(10,this._quoteSplTokenDecimals)*this._decoded.baseLotSize.toNumber()/(Math.pow(10,this._baseSplTokenDecimals)*this._decoded.quoteLotSize.toNumber())))}},{key:"baseSplSizeToNumber",value:function(e){return A(e,this._baseSplTokenMultiplier)}},{key:"quoteSplSizeToNumber",value:function(e){return A(e,this._quoteSplTokenMultiplier)}},{key:"baseSizeLotsToNumber",value:function(e){return A(e.mul(this._decoded.baseLotSize),this._baseSplTokenMultiplier)}},{key:"baseSizeNumberToLots",value:function(e){return new v.default(Math.round(e*Math.pow(10,this._baseSplTokenDecimals))).div(this._decoded.baseLotSize)}},{key:"quoteSizeLotsToNumber",value:function(e){return A(e.mul(this._decoded.quoteLotSize),this._quoteSplTokenMultiplier)}},{key:"quoteSizeNumberToLots",value:function(e){return new v.default(Math.round(e*Math.pow(10,this._quoteSplTokenDecimals))).div(this._decoded.quoteLotSize)}},{key:"programId",get:function(){return this._programId}},{key:"address",get:function(){return this._decoded.ownAddress}},{key:"publicKey",get:function(){return this.address}},{key:"baseMintAddress",get:function(){return this._decoded.baseMint}},{key:"quoteMintAddress",get:function(){return this._decoded.quoteMint}},{key:"bidsAddress",get:function(){return this._decoded.bids}},{key:"asksAddress",get:function(){return this._decoded.asks}},{key:"supportsSrmFeeDiscounts",get:function(){return g.supportsSrmFeeDiscounts(this._programId)}},{key:"supportsReferralFees",get:function(){return w.getLayoutVersion(this._programId)>1}},{key:"_baseSplTokenMultiplier",get:function(){return new v.default(10).pow(new v.default(this._baseSplTokenDecimals))}},{key:"_quoteSplTokenMultiplier",get:function(){return new v.default(10).pow(new v.default(this._quoteSplTokenDecimals))}},{key:"minOrderSize",get:function(){return this.baseSizeLotsToNumber(new v.default(1))}},{key:"tickSize",get:function(){return this.priceLotsToNumber(new v.default(1))}}],[{key:"getLayout",value:function(e){return 1===w.getLayoutVersion(e)?t._MARKET_STAT_LAYOUT_V1:t._MARKET_STATE_LAYOUT_V2}},{key:"load",value:function(){var t=u(i.mark((function t(n,r){var a,o,u,s,l,d,m,p,f,b,v=arguments;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=v.length>2&&void 0!==v[2]?v[2]:{},o=v.length>3?v[3]:void 0,t.t0=N,t.next=5,n.getAccountInfo(r);case 5:if(t.t1=t.sent,u=(0,t.t0)(t.t1,"Market not found"),s=u.owner,l=u.data,s.equals(o)){t.next=11;break}throw new Error("Address not owned by program: "+s.toBase58());case 11:if((d=this.getLayout(o).decode(l)).accountFlags.initialized&&d.accountFlags.market&&d.ownAddress.equals(r)){t.next=14;break}throw new Error("Invalid market");case 14:return t.next=16,Promise.all([I(n,d.baseMint),I(n,d.quoteMint)]);case 16:return m=t.sent,p=c(m,2),f=p[0],b=p[1],t.abrupt("return",new e(d,f,b,a,o));case 21:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();t.Market=O,t._OPEN_ORDERS_LAYOUT_V1=m.struct([m.blob(5),p.accountFlagsLayout("accountFlags"),p.publicKeyLayout("market"),p.publicKeyLayout("owner"),p.u64("baseTokenFree"),p.u64("baseTokenTotal"),p.u64("quoteTokenFree"),p.u64("quoteTokenTotal"),p.u128("freeSlotBits"),p.u128("isBidBits"),m.seq(p.u128(),128,"orders"),m.seq(p.u64(),128,"clientIds"),m.blob(7)]),t._OPEN_ORDERS_LAYOUT_V2=m.struct([m.blob(5),p.accountFlagsLayout("accountFlags"),p.publicKeyLayout("market"),p.publicKeyLayout("owner"),p.u64("baseTokenFree"),p.u64("baseTokenTotal"),p.u64("quoteTokenFree"),p.u64("quoteTokenTotal"),p.u128("freeSlotBits"),p.u128("isBidBits"),m.seq(p.u128(),128,"orders"),m.seq(p.u64(),128,"clientIds"),p.u64("referrerRebatesAccrued"),m.blob(7)]);var S=function(){function e(t,n,r){s(this,e),this.address=t,this._programId=r,Object.assign(this,n)}return l(e,[{key:"publicKey",get:function(){return this.address}}],[{key:"getLayout",value:function(e){return 1===w.getLayoutVersion(e)?t._OPEN_ORDERS_LAYOUT_V1:t._OPEN_ORDERS_LAYOUT_V2}},{key:"findForOwner",value:function(){var t=u(i.mark((function t(n,r,a){var o,c;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=[{memcmp:{offset:this.getLayout(a).offsetOf("owner"),bytes:r.toBase58()}},{dataSize:this.getLayout(a).span}],t.next=3,M(n,a,o);case 3:return c=t.sent,t.abrupt("return",c.map((function(t){var n=t.publicKey,r=t.accountInfo;return e.fromAccountInfo(n,r,a)})));case 5:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"findForMarketAndOwner",value:function(){var t=u(i.mark((function t(n,r,a,o){var c,u;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=[{memcmp:{offset:this.getLayout(o).offsetOf("market"),bytes:r.toBase58()}},{memcmp:{offset:this.getLayout(o).offsetOf("owner"),bytes:a.toBase58()}},{dataSize:this.getLayout(o).span}],t.next=3,M(n,o,c);case 3:return u=t.sent,t.abrupt("return",u.map((function(t){var n=t.publicKey,r=t.accountInfo;return e.fromAccountInfo(n,r,o)})));case 5:case"end":return t.stop()}}),t,this)})));return function(e,n,r,a){return t.apply(this,arguments)}}()},{key:"load",value:function(){var t=u(i.mark((function t(n,r,a){var o;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getAccountInfo(r);case 2:if(null!==(o=t.sent)){t.next=5;break}throw new Error("Open orders account not found");case 5:return t.abrupt("return",e.fromAccountInfo(r,o,a));case 6:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"fromAccountInfo",value:function(t,n,r){var a=n.owner,o=n.data;if(!a.equals(r))throw new Error("Address not owned by program");var c=this.getLayout(r).decode(o);if(!c.accountFlags.initialized||!c.accountFlags.openOrders)throw new Error("Invalid open orders account");return new e(t,c,r)}},{key:"makeCreateAccountTransaction",value:function(){var e=u(i.mark((function e(t,n,r,a,o){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=h.SystemProgram,e.t1=r,e.t2=a,e.next=5,t.getMinimumBalanceForRentExemption(this.getLayout(o).span);case 5:return e.t3=e.sent,e.t4=this.getLayout(o).span,e.t5=o,e.t6={fromPubkey:e.t1,newAccountPubkey:e.t2,lamports:e.t3,space:e.t4,programId:e.t5},e.abrupt("return",e.t0.createAccount.call(e.t0,e.t6));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}()}]),e}();t.OpenOrders=S,t.ORDERBOOK_LAYOUT=m.struct([m.blob(5),p.accountFlagsLayout("accountFlags"),f.SLAB_LAYOUT.replicate("slab"),m.blob(7)]);var T=function(){function e(t,n,r){if(s(this,e),!n.initialized||!(n.bids^n.asks))throw new Error("Invalid orderbook");this.market=t,this.isBids=n.bids,this.slab=r}return l(e,[{key:"getL2",value:function(e){var t,n=this,a=this.isBids,o=[],i=r(this.slab.items(a));try{for(i.s();!(t=i.n()).done;){var u=t.value,s=u.key,l=u.quantity,d=x(s);if(o.length>0&&o[o.length-1][0].eq(d))o[o.length-1][1].iadd(l);else{if(o.length===e)break;o.push([d,l])}}}catch(m){i.e(m)}finally{i.f()}return o.map((function(e){var t=c(e,2),r=t[0],a=t[1];return[n.market.priceLotsToNumber(r),n.market.baseSizeLotsToNumber(a),r,a]}))}},{key:Symbol.iterator,value:i.mark((function e(){var t,n,a,o,c,u,s,l,d,m;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r(this.slab),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=10;break}return a=n.value,o=a.key,c=a.ownerSlot,u=a.owner,s=a.quantity,l=a.feeTier,d=a.clientOrderId,m=x(o),e.next=8,{orderId:o,clientId:d,openOrdersAddress:u,openOrdersSlot:c,feeTier:l,price:this.market.priceLotsToNumber(m),priceLots:m,size:this.market.baseSizeLotsToNumber(s),sizeLots:s,side:this.isBids?"buy":"sell"};case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[1,12,15,18]])}))}],[{key:"decode",value:function(n,r){var a=t.ORDERBOOK_LAYOUT.decode(r);return new e(n,a.accountFlags,a.slab)}},{key:"LAYOUT",get:function(){return t.ORDERBOOK_LAYOUT}}]),e}();function x(e){return e.ushrn(64)}function A(e,t){var n=e.div(t).toNumber(),r=e.umod(t),a=r.gcd(t);return n+r.div(a).toNumber()/t.div(a).toNumber()}t.Orderbook=T;var j=m.struct([m.blob(44),m.u8("decimals"),m.blob(37)]);function I(e,t){return D.apply(this,arguments)}function D(){return(D=u(i.mark((function e(t,n){var r,a,o,c;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.equals(E.WRAPPED_SOL_MINT)){e.next=2;break}return e.abrupt("return",9);case 2:return e.t0=N,e.next=5,t.getAccountInfo(n);case 5:return e.t1=e.sent,r=(0,e.t0)(e.t1,"mint not found"),a=r.data,o=j.decode(a),c=o.decimals,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t,n){return R.apply(this,arguments)}function R(){return(R=u(i.mark((function e(t,n,r){var a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._rpcRequest("getProgramAccounts",[n.toBase58(),{commitment:t.commitment,filters:r,encoding:"base64"}]);case 2:if(!(a=e.sent).error){e.next=5;break}throw new Error(a.error.message);case 5:return e.abrupt("return",a.result.map((function(e){var t=e.pubkey,n=e.account,r=n.data,a=n.executable,o=n.owner,c=n.lamports;return{publicKey:new h.PublicKey(t),accountInfo:{data:k.Buffer.from(r[0],"base64"),executable:a,owner:new h.PublicKey(o),lamports:c}}})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"account not found";if(null===e)throw new Error(t);return e}t.getMintDecimals=I},458:function(e,t){},460:function(e,t){},481:function(e,t){},482:function(e,t){},505:function(e,t,n){"use strict";var r=n(11),a=n(85),o=n(86),c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Slab=t.SLAB_LAYOUT=void 0;var i=c(n(137)),u=n(12),s=n(166),l=u.struct([u.u32("bumpIndex"),s.zeros(4),u.u32("freeListLen"),s.zeros(4),u.u32("freeListHead"),u.u32("root"),u.u32("leafCount"),s.zeros(4)],"header"),d=u.union(u.u32("tag"),u.blob(68),"node");d.addVariant(0,u.struct([]),"uninitialized"),d.addVariant(1,u.struct([u.u32("prefixLen"),s.u128("key"),u.seq(u.u32(),2,"children")]),"innerNode"),d.addVariant(2,u.struct([u.u8("ownerSlot"),u.u8("feeTier"),u.blob(2),s.u128("key"),s.publicKeyLayout("owner"),s.u64("quantity"),s.u64("clientOrderId")]),"leafNode"),d.addVariant(3,u.struct([u.u32("next")]),"freeNode"),d.addVariant(4,u.struct([]),"lastFreeNode"),t.SLAB_LAYOUT=u.struct([l,u.seq(d,u.offset(l.layoutFor("bumpIndex"),l.offsetOf("bumpIndex")-l.span),"nodes")]);var m=function(){function e(t,n){a(this,e),this.header=t,this.nodes=n}return o(e,[{key:"get",value:function(e){if(0===this.header.leafCount)return null;e instanceof i.default||(e=new i.default(e));for(var t=this.header.root;;){var n=this.nodes[t],r=n.leafNode,a=n.innerNode;if(r)return r.key.eq(e)?r:null;if(!a)throw new Error("Invalid slab");if(!a.key.xor(e).iushrn(128-a.prefixLen).isZero())return null;t=a.children[e.testn(128-a.prefixLen-1)?1:0]}}},{key:Symbol.iterator,value:function(){return this.items(!1)}},{key:"items",value:r.mark((function e(){var t,n,a,o,c,i,u=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]&&u[0],0!==this.header.leafCount){e.next=3;break}return e.abrupt("return");case 3:n=[this.header.root];case 4:if(!(n.length>0)){e.next=15;break}if(a=n.pop(),o=this.nodes[a],c=o.leafNode,i=o.innerNode,!c){e.next=12;break}return e.next=10,c;case 10:e.next=13;break;case 12:i&&(t?n.push(i.children[0],i.children[1]):n.push(i.children[1],i.children[0]));case 13:e.next=4;break;case 15:case"end":return e.stop()}}),e,this)}))}],[{key:"decode",value:function(e){return t.SLAB_LAYOUT.decode(e)}}]),e}();t.Slab=m,s.setLayoutDecoder(t.SLAB_LAYOUT,(function(e){var t=e.header,n=e.nodes;return new m(t,n)}))},506:function(e){e.exports=JSON.parse('[{"address":"EmCzMQfXMgNHcnRoFwAdPe1i2SuiSzMj1mx6wu3KN2uA","name":"ALEPH/USDT","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"B37pZmwrwXHjpgvd9hHDAx1yeDsNevTnbbrN9W12BoGK","name":"ALEPH/WUSDC","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"8AcVjMG2LTbpkjNoyq8RwysokqZunkjy3d5JDzxC6BJa","name":"BTC/USDT","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"CAgAeMD7quTdnr6RPa7JySQpjf3irAmefYNdTb6anemq","name":"BTC/WUSDC","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"HfCZdJ1wfsWKfYP2qyWdXTT5PWAGWFctzFjLH48U1Hsd","name":"ETH/USDT","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"ASKiV944nKg1W9vsf7hf3fTsjawK6DwLwrnB2LH9n61c","name":"ETH/WUSDC","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"8mDuvJJSgoodovMRYArtVVYBbixWYdGzR47GPrRT65YJ","name":"SOL/USDT","deprecated":true,"programId":"BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg"},{"address":"Cdp72gDcYMCLLk3aDkPxjeiirKoFqK38ECm8Ywvk94Wi","name":"SOL/WUSDC","deprecated":true,"programId":"BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg"},{"address":"HARFLhSq8nECZk4DVFKvzqXMNMA9a3hjvridGMFizeLa","name":"SRM/USDT","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"68J6nkWToik6oM9rTatKSR5ibVSykAtzftBUEAvpRsys","name":"SRM/WUSDC","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"DzFjazak6EKHnaB2w6qSsArnj28CV1TKd2Smcj9fqtHW","name":"SUSHI/USDT","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"9wDmxsfwaDb2ysmZpBLzxKzoWrF1zHzBN7PV5EmJe19R","name":"SUSHI/WUSDC","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"GuvWMATdEV6DExWnXncPYEzn4ePWYkvGdC8pu8gsn7m7","name":"SXP/USDT","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"GbQSffne1NcJbS4jsewZEpRGYVR4RNnuVUN8Ht6vAGb6","name":"SXP/WUSDC","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"H4snTKK9adiU15gP22ErfZYtro3aqR9BTMXiH3AwiUTQ","name":"MSRM/USDT","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"7kgkDyW7dmyMeP8KFXzbcUZz1R2WHsovDZ7n3ihZuNDS","name":"MSRM/WUSDC","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"DHDdghmkBhEpReno3tbzBPtsxCt6P3KrMzZvxavTktJt","name":"FTT/USDT","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"FZqrBXz7ADGsmDf1TM9YgysPUfvtG8rJiNUrqDpHc9Au","name":"FTT/WUSDC","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"5zu5bTZZvqESAAgFsr12CUMxdQvMrvU9CgvC1GW8vJdf","name":"YFI/USDT","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"FJg9FUtbN3fg3YFbMCFiZKjGh5Bn4gtzxZmtxFzmz9kT","name":"YFI/WUSDC","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"F5xschQBMpu1gD2q1babYEAVJHR1buj1YazLiXyQNqSW","name":"LINK/USDT","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"7GZ59DMgJ7D6dfoJTpszPayTRyua9jwcaGJXaRMMF1my","name":"LINK/WUSDC","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"BAbc9baz4hV1hnYjWSJ6cZDRjfvziWbYGQu9UFkcdUmx","name":"HGET/USDT","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"uPNcBgFhrLW3FtvyYYbBUi53BBEQf9e4NPgwxaLu5Hn","name":"HGET/WUSDC","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"3puWJFZyCso14EdxhywjD7xqyTarpsULx483mzvqxQRW","name":"CREAM/WUSDC","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"EBxJWA2nLV57ZntbjizxH527ZjPNLT5cpUHMnY5k3oq","name":"CREAM/USDT","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"8Ae7Uhigx8k4fKdJG7irdPCVDZLvWsJfeTH2t5fr3TVD","name":"UBXT/WUSDC","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"46VdEkj4MJwZinwVb3Y7DUDpVXLNb9YW7P2waKU3vCqr","name":"UBXT/USDT","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"Hze5AUX4Qp1cTujiJ4CsAMRGn4g6ZpgXsmptFn3xxhWg","name":"HNT/WUSDC","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"Hc22rHKrhbrZBaQMmhJvPTkp1yDr31PDusU8wKoqFSZV","name":"HNT/USDT","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"FJq4HX3bUSgF3yQZ8ADALtJYfAyr9fz36SNG18hc3dgF","name":"FRONT/WUSDC","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"HFoca5HKwiTPpw9iUY5iXWqzkXdu88dS7YrpSvt2uhyF","name":"FRONT/USDT","deprecated":true,"programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"5xnYnWca2bFwC6cPufpdsCbDJhMjYCC59YgwoZHEfiee","name":"ALEPH/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"BZMuoQ2i2noNUXMdrRDivc7MwjGspNJTCfZkdHMwK18T","name":"ALEPH/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"EXnGBBSamqzd3uxEdRLUiYzjJkTwQyorAaFXdfteuGXe","name":"BTC/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5LgJphS6D5zXwUVPU7eCryDBkyta3AidrJ5vjNU6BcGW","name":"BTC/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5abZGhrELnUnfM9ZUnvK6XJPoBU5eShZwfFPkdhAC7o","name":"ETH/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"DmEDKZPXXkWgaYiKgWws2ZXWWKCh41eryDPRVD4zKnD9","name":"ETH/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7xLk17EQQ5KLDLDe44wCmupJKJjTGd8hs3eSVVhCx932","name":"SOL/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"EBFTQNg2QjyxV7WDDenoLbfLLXLcbSz6w1YrdTCGPWT5","name":"SOL/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"H3APNWA8bZW2gLMSq5sRL41JSMmEJ648AqoEdDgLcdvB","name":"SRM/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"8YmQZRXGizZXYPCDmxgjwB8X8XN4PZG7MMwNg76iAmPZ","name":"SRM/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"4uZTPc72sCDcVRfKKii67dTPm2Xe4ri3TYnGcUQrtnU9","name":"SUSHI/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9vFuX2BizwinWjkZLQTmThDcNMFEcY3wVXYuqnRQtcD","name":"SUSHI/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"33GHmwG9woY95JuWNi74Aa8uKvysSXxif9P1EwwkrCRz","name":"SXP/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"C5NReXAeQhfjiDCGPFj1UUmDxDqF8v2CUVKoYuQqb4eW","name":"SXP/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FUaF58sDrgbqakHTR8RUwRLauSofRTjqyCsqThFPh6YM","name":"MSRM/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"58H7ZRmiyWtsrz2sQGz1qQCMW6n7447xhNNehUSQGPj5","name":"MSRM/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5NqjQVXLuLSDnsnQMfWp3rF9gbWDusWG4B1Xwtk3rZ5S","name":"FTT/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"ES8skmkEeyH1BYFThd2FtyaFKhkqtwH7XWp8mXptv3vg","name":"FTT/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"97NiXHUNkpYd1eb2HthSDGhaPfepuqMAV3QsZhAgb1wm","name":"YFI/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"Gw78CYLLFbgmmn4rps9KoPAnNtBQ2S1foL2Mn6Z5ZHYB","name":"YFI/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"hBswhpNyz4m5nt4KwtCA7jYXvh7VmyZ4TuuPmpaKQb1","name":"LINK/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"WjfsTPyrvUUrhGJ9hVQFubMnKDcnQS8VxSXU7L2gLcA","name":"LINK/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"GaeUpY7CT8rjoeVGjY1t3mJJDd1bdXxYWtrGSpsVFors","name":"HGET/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"2ZmB255T4FVUugpeXTFxD6Yz5GE47yTByYvqSTDUbk3G","name":"HGET/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FGJtCDXoHLHjagP5Ht6xcUFt2rW3z8MJPe87rFKP2ZW6","name":"CREAM/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7qq9BABQvTWKZuJ5fX2PeTKX6XVtduEs9zW9WS21fSzN","name":"CREAM/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7K6MPog6LskZmyaYwqtLvRUuedoiE68nirbQ9tK3LasE","name":"UBXT/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"DCHvVahuLTNWBGUtEzF5GrTdx5FRpxqEJiS6Ru1hrDfD","name":"UBXT/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9RyozJe3bkAFfH3jmoiKHjkWCoLTxn7aBQSi6YfaV6ab","name":"HNT/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"DWjJ8VHdGYBxDQYdrRBVDWkHswrgjuBFEv5pBhiRoPBz","name":"HNT/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AGtBbGuJZiv3Ko3dfT4v6g4kCqnNc9DXfoGLe5HpjmWx","name":"FRONT/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"56eqxJYzPigm4FkigiBdsfebjMgAbKNh24E7oiKLBtye","name":"FRONT/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AA1HSrsMcRNzjaQfRMTNarHR9B7e4U79LJ2319UtiqPF","name":"AKRO/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FQbCNSVH3RgosCPB4CJRstkLh5hXkvuXzAjQzT11oMYo","name":"AKRO/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"Fs5xtGUmJTYo8Ao75M3R3m3mVX53KMUhzfXCmyRLnp2P","name":"HXRO/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AUAobJdffexcoJBMeyLorpShu3ZtG9VvPEPjoeTN4u5Z","name":"HXRO/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"ChKV7mxecPqFPGYJjhzowPHDiLKFWXXVujUiE3EWxFcg","name":"UNI/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"GpdYLFbKHeSeDGqsnQ4jnP7D1294iBpQcsN1VPwhoaFS","name":"UNI/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"6N3oU7ALvn2RPwdpYVzPBgQJ8njT29inBbS2tSrwx8fh","name":"KEEP/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"sxS9EdTx1UPe4j2c6Au9f1GKZXrFj5pTgNKgjGGtGdY","name":"KEEP/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5P6dJbyKySFXMYNWiEcNQu8xPRYsehYzCeVpae9Ueqrg","name":"MATH/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"CfnnU38ACScF6pcurxSB3FLXeZmfFYunVKExeUyosu5P","name":"MATH/WUSDC","deprecated":true,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7NR5GDouQYkkfppVkNhpa4HfJ2LwqUQymE3b4CYQiYHa","name":"ALEPH/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"CVfYa8RGXnuDBeGmniCcdkBwoLqVxh92xB1JqgRQx3F","name":"BTC/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"H5uzEytiByuXt964KampmuNCurNDwkVVypkym75J2DQW","name":"ETH/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7xMDbYTCqQEcK2aM9LbetGtNFJpzKdfXzLL5juaLh4GJ","name":"SOL/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"CDdR97S8y96v3To93aKvi3nCnjUrbuVSuumw8FLvbVeg","name":"SRM/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7LVJtqSrF6RudMaz5rKGTmR3F3V5TKoDcN6bnk68biYZ","name":"SUSHI/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"13vjJ8pxDMmzen26bQ5UrouX8dkXYPW1p3VLVDjxXrKR","name":"SXP/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AwvPwwSprfDZ86beBJDNH5vocFvuw4ZbVQ6upJDbSCXZ","name":"MSRM/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FfDb3QZUdMW2R2aqJQgzeieys4ETb3rPrFFfPSemzq7R","name":"FTT/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"4QL5AQvXdMSCVZmnKXiuMMU83Kq3LCwVfU8CyznqZELG","name":"YFI/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7JCG9TsCx3AErSV3pvhxiW4AbkKRcJ6ZAveRmJwrgQ16","name":"LINK/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"3otQFkeQ7GNUKT3i2p3aGTQKS2SAw6NLYPE5qxh3PoqZ","name":"HGET/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"2M8EBxFbLANnCoHydypL1jupnRHG782RofnvkatuKyLL","name":"CREAM/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"3UqXdFtNBZsFrFtRGAWGvy9R8H6GJR2hAyGRdYT9BgG3","name":"UBXT/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9jiasgdYGGh34fAbBQSwkKe1dYSapXbjy2sLsYpetqFp","name":"HNT/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7oKqJhnz9b8af8Mw47dieTiuxeaHnRYYGBiqCrRpzTRD","name":"FRONT/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"F1rxD8Ns5w4WzVcTRdaJ96LG7YKaA5a25BBmM32yFP4b","name":"AKRO/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"6ToedDwjRCvrcKX7fnHSTA9uABQe1dcLK6YgS5B9M3wo","name":"HXRO/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FURvCsDUiuUaxZ13pZqQbbfktFGWmQVTHz7tL992LQVZ","name":"UNI/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"EcfDRMrEJ3yW4SgrRyyxTPoKqAZDNSBV8EerigT7BNSS","name":"KEEP/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"2bPsJ6bZ9KDLfJ8QgSN1Eb4mRsbAiaGyHN6cJkoVLpwd","name":"MATH/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"B1GypajMh7S8zJVp6M1xMfu6zGsMgvYrt3cSn9wG7Dd6","name":"TOMO/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"H7c8FcQPJ2E5tJmpWBPSi7xCAbk8immdtUxKFRUyE4Ro","name":"TOMO/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"rPTGvVrNFYzBeTEcYnHiaWGNnkSXsWNNjUgk771LkwJ","name":"LUA/USDC","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7PSeX1AEtBY9KvgegF5rUh452VemMh7oDzFtJgH7sxMG","name":"LUA/USDT","deprecated":false,"programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"}]')},507:function(e){e.exports=JSON.parse('[{"address":"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E","name":"BTC"},{"address":"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk","name":"ETH"},{"address":"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3","name":"FTT"},{"address":"3JSf5tPeuscJGtaCp5giEiDhv51gQ4v3zWg8DGgyLfAB","name":"YFI"},{"address":"CWE8jPTUYhdCTZYWPTe1o5DFqfdjzWKc9WKz6rSjQUdG","name":"LINK"},{"address":"Ga2AXHpfAF6mv2ekZwcsJFqu7wB4NV331qNH7fW9Nst8","name":"XRP"},{"address":"BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4","name":"USDT"},{"address":"BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW","name":"WUSDC"},{"address":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","name":"USDC"},{"address":"MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L","name":"MSRM"},{"address":"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt","name":"SRM"},{"address":"AR1Mtgh7zAtxuxGd2XPovXPVjcSdY3i4rQYisNadjfKy","name":"SUSHI"},{"address":"SF3oTvfWzEP3DTwGSvUXRrGTvr75pdZNnBLAH9bzMuX","name":"SXP"},{"address":"CsZ5LZkDS7h9TDKjrbL7VAwQZ9nsRu8vJLhRYfmGaN8K","name":"ALEPH"},{"address":"BtZQfWqDGbk9Wf2rXEiWyQBdBY1etnUUn6zEphvVS7yN","name":"HGET"},{"address":"5Fu5UUgbjpUvdBveb3a1JTNirL8rXtiYeSMWvKjtUNQv","name":"CREAM"},{"address":"873KLxCbz7s9Kc4ZzgYRtNmhfkQrhfyWGZJBmyCbC3ei","name":"UBXT"},{"address":"HqB7uswoVg4suaQiDP3wjxob1G5WdZ144zhdStwMCq7e","name":"HNT"},{"address":"9S4t2NEAiJVMvPdRYKVrfJpBafPBLtvbvyS3DecojQHw","name":"FRONT"},{"address":"6WNVCuxCGJzNjmMZoKyhZJwvJ5tYpsLyAtagzYASqBoF","name":"AKRO"},{"address":"DJafV9qemGp7mLMEn5wrfqaFwxsbLgUsGVS16zKRk9kc","name":"HXRO"},{"address":"DEhAasscXF4kEGxFgJ3bq4PpVGp5wyUxMRvn6TzGVHaw","name":"UNI"},{"address":"GUohe4DJUA5FKPWo3joiPgsB7yzer7LpDmt1Vhzy3Zht","name":"KEEP"},{"address":"GeDS162t9yGJuLEHPWXXGrb1zwkzinCgRwnT8vHYjKza","name":"MATH"},{"address":"So11111111111111111111111111111111111111112","name":"SOL"},{"address":"Cu83Rkh99iNdogZ9awWzSpxixE8V3vgiHBsb1QeP3VSQ","name":"TOMO"},{"address":"EqWCKXfs3x47uVosDpTRgFniThL9Y8iCztJaapxbEaVX","name":"LUA"}]')},662:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(37),c=n.n(o),i=(n(372),n(373),n(11)),u=n.n(i),s=n(19),l=n(6),d=n(62),m=n(23),p=n(54),f=n.n(p);function b(e){if(!e)return!1;try{return new m.PublicKey(e),!0}catch(t){return!1}}function v(e){return h.apply(this,arguments)}function h(){return(h=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=new Intl.NumberFormat(void 0,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2});function k(e,t){return t?Math.floor(e*Math.pow(10,t))/Math.pow(10,t):e}function g(e,t){return t?Math.round(e*Math.pow(10,t))/Math.pow(10,t):e}function E(e){return isNaN(e)||Math.floor(e)===e?0:e.toString().split(".")[1].length||0}function w(e,t){var n=e.div(t).toNumber(),r=e.umod(t),a=r.gcd(t);return n+r.div(a).toNumber()/t.div(a).toNumber()}function O(e){return new f.a(10).pow(new f.a(e))}var S={};function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=localStorage.getItem(e)||t,a=Object(r.useState)(e+"\n"+n),o=Object(l.a)(a,2),c=o[1];Object(r.useEffect)((function(){return S[e]||(S[e]=[]),S[e].push(c),function(){S[e]=S[e].filter((function(e){return e!==c})),0===S[e].length&&delete S[e]}}),[e]);var i=Object(r.useCallback)((function(t){n!==t&&(null===t?localStorage.removeItem(e):localStorage.setItem(e,t),S[e].forEach((function(n){return n(e+"\n"+t)})))}),[n,e]);return[n,i]}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=T(e,JSON.stringify(t)),r=Object(l.a)(n,2),a=r[0],o=r[1];return[a&&JSON.parse(a),function(e){return o(JSON.stringify(e))}]}function A(e,t,n){if(!n&&Object.keys(e).length!==Object.keys(t).length)return!1;n=n||Object.keys(e);var r,a=Object(d.a)(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(e[o]!==t[o])return!1}}catch(c){a.e(c)}finally{a.f()}return!0}var j=n(56),I=n(114),D=n(109),M=n(8),R=n.n(M),N=new Date,U=new Map,z=function e(t,n,r,a,o,c){Object(D.a)(this,e),this.cacheKey=void 0,this.fn=void 0,this.refreshInterval=void 0,this.refreshIntervalOnError=void 0,this.callback=void 0,this.cacheNullValues=!0,this.cacheKey=t,this.fn=n,this.refreshInterval=r,this.refreshIntervalOnError=a,this.callback=o,this.cacheNullValues=c},_=function(){function e(t,n,r){var a=this;Object(D.a)(this,e),this.cacheKey=void 0,this.fn=void 0,this.timeoutId=void 0,this.listeners=void 0,this.errors=void 0,this.cacheNullValues=!0,this.refresh=Object(s.a)(u.a.mark((function e(){var t,n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.timeoutId&&(clearTimeout(a.timeoutId),a.timeoutId=null),!a.stopped){e.next=3;break}return e.abrupt("return");case 3:return t=!1,e.prev=4,e.next=7,a.fn();case 7:if(n=e.sent,a.cacheNullValues||null!==n){e.next=14;break}return console.log("Not caching null value for ".concat(a.cacheKey)),a.errors=0,e.abrupt("return",n);case 14:return U.set(a.cacheKey,n),a.errors=0,a.notifyListeners(),e.abrupt("return",n);case 18:e.next=25;break;case 20:e.prev=20,e.t0=e.catch(4),++a.errors,console.warn(e.t0),t=!0;case 25:return e.prev=25,a.timeoutId||a.stopped||(r=a.refreshInterval,t&&a.refreshIntervalOnError&&a.refreshIntervalOnError>0&&(r=a.refreshIntervalOnError),a.errors>0&&(r=Math.min(1e3*Math.pow(2,a.errors-1),6e4)),(o=+new Date-+N)<5e3&&(r+=5e3-o/2),"hidden"===document.visibilityState?r=6e4:document.hasFocus()||(r*=1.5),r*=.8+.4*Math.random(),a.timeoutId=setTimeout(a.refresh,r)),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[4,20,25,28]])}))),this.cacheKey=t,this.fn=n,this.timeoutId=null,this.listeners=new Set,this.errors=0,this.cacheNullValues=r}return Object(I.a)(e,[{key:"addListener",value:function(e){var t=this.refreshInterval;this.listeners.add(e),this.refreshInterval<t&&this.refresh()}},{key:"removeListener",value:function(e){R()(this.listeners.delete(e)),this.stopped&&this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}},{key:"notifyListeners",value:function(){this.listeners.forEach((function(e){return e.callback()}))}},{key:"refreshInterval",get:function(){return Math.min.apply(Math,Object(j.a)(Object(j.a)(this.listeners).map((function(e){return e.refreshInterval}))))}},{key:"refreshIntervalOnError",get:function(){var e=Object(j.a)(this.listeners).map((function(e){return e.refreshIntervalOnError})).filter((function(e){return null!==e}));return 0===e.length?null:Math.min.apply(Math,Object(j.a)(e))}},{key:"stopped",get:function(){return 0===this.listeners.size}}]),e}(),F=new(function(){function e(){Object(D.a)(this,e),this.loops=new Map}return Object(I.a)(e,[{key:"addListener",value:function(e){this.loops.has(e.cacheKey)||this.loops.set(e.cacheKey,new _(e.cacheKey,e.fn,e.cacheNullValues)),this.loops.get(e.cacheKey).addListener(e)}},{key:"removeListener",value:function(e){var t=this.loops.get(e.cacheKey);t.removeListener(e),t.stopped&&this.loops.delete(e.cacheKey)}},{key:"refresh",value:function(e){this.loops.has(e)&&this.loops.get(e).refresh()}},{key:"refreshAll",value:function(){return Promise.all(Object(j.a)(this.loops.values()).map((function(e){return e.refresh()})))}}]),e}());function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.refreshInterval,o=void 0===a?6e4:a,c=n.refreshIntervalOnError,i=void 0===c?null:c,u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=Object(r.useReducer)((function(e){return e+1}),0),d=Object(l.a)(s,2),m=d[1];if(Object(r.useEffect)((function(){if(!t)return function(){};var n=new z(t,e,o,i,m,u);return F.addListener(n),function(){return F.removeListener(n)}}),[t,o]),!t)return[null,!1];var p=U.has(t),f=p?U.get(t):void 0;return[f,p]}function B(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&U.delete(e);var n=F.loops.get(e);n&&(n.refresh(),t&&n.notifyListeners())}var C=n(64),P=[{name:"mainnet-beta",endpoint:"https://solana-api.projectserum.com",custom:!1},{name:"localnet",endpoint:"http://127.0.0.1:8899",custom:!1}],q=new Map,W=a.a.createContext(null);function K(e){var t=e.children,n=x("connectionEndpts",P[0].endpoint),o=Object(l.a)(n,2),c=o[0],i=o[1],u=x("customConnectionEndpoints",[]),s=Object(l.a)(u,2),d=s[0],p=s[1],f=P.concat(d),b=Object(r.useMemo)((function(){return new m.Connection(c,"recent")}),[c]),v=Object(r.useMemo)((function(){return new m.Connection(c,"recent")}),[c]);return Object(r.useEffect)((function(){var e=b.onAccountChange((new m.Account).publicKey,(function(){}));return function(){b.removeAccountChangeListener(e)}}),[b]),Object(r.useEffect)((function(){var e=b.onSlotChange((function(){return null}));return function(){b.removeSlotChangeListener(e)}}),[b]),Object(r.useEffect)((function(){var e=v.onAccountChange((new m.Account).publicKey,(function(){}));return function(){v.removeAccountChangeListener(e)}}),[v]),Object(r.useEffect)((function(){var e=v.onSlotChange((function(){return null}));return function(){v.removeSlotChangeListener(e)}}),[v]),a.a.createElement(W.Provider,{value:{endpoint:c,setEndpoint:i,connection:b,sendConnection:v,availableEndpoints:f,setCustomEndpoints:p}},t)}function J(){var e=Object(r.useContext)(W);if(!e)throw new Error("Missing connection context");return e.connection}function Q(){var e=Object(r.useContext)(W);if(!e)throw new Error("Missing connection context");return e.sendConnection}function X(){var e=Object(r.useContext)(W);if(!e)throw new Error("Missing connection context");return{endpoint:e.endpoint,endpointInfo:e.availableEndpoints.find((function(t){return t.endpoint===e.endpoint})),setEndpoint:e.setEndpoint,availableEndpoints:e.availableEndpoints,setCustomEndpoints:e.setCustomEndpoints}}function Y(e){var t=J(),n=Object(C.a)(t,null===e||void 0===e?void 0:e.toBase58()),a=L(Object(s.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e?t.getAccountInfo(e):null);case 1:case"end":return n.stop()}}),n)}))),n,{refreshInterval:6e4}),o=Object(l.a)(a,2),c=o[0],i=o[1];return Object(r.useEffect)((function(){if(e){if(q.has(n)){++q.get(n).count}else{var r=null,a=t.onAccountChange(e,(function(e){e.data&&(r&&r.equals(e.data)||function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.initializeOnly,a=void 0!==r&&r;if(!a||!U.has(e)){U.set(e,t);var o=F.loops.get(e);o&&o.notifyListeners()}}(n,e),r=e.data)}));q.set(n,{count:1,subscriptionId:a})}return function(){var e=q.get(n);e.count-1<=0?(t.removeAccountChangeListener(e.subscriptionId),q.delete(n)):--e.count}}}),[n]),[c,i]}function V(e){var t=Y(e),n=Object(l.a)(t,1)[0];return n&&n.data}var G=n(41),H=n(32),Z=n(331),$=n(364),ee=n(271),te=n(122);function ne(e){var t=e.external,n=void 0!==t&&t,r=Object(ee.a)(e,["external"]),o=r.to,c=r.children,i=Object(ee.a)(r,["to","children"]);return n?a.a.createElement("a",Object.assign({href:o,target:"_blank",rel:"noopener noreferrer"},i),c):a.a.createElement(te.b,Object.assign({to:o},i),c)}function re(e){var t=e.message,n=e.description,r=e.txid,o=e.type,c=void 0===o?"info":o,i=e.placement,u=void 0===i?"bottomLeft":i;r&&(n=a.a.createElement(ne,{external:!0,to:"https://explorer.solana.com/tx/"+r,style:{color:"#0000ff"}},"View transaction ",r.slice(0,8),"...",r.slice(r.length-8))),$.a[c]({message:a.a.createElement("span",{style:{color:"black"}},t),description:a.a.createElement("span",{style:{color:"black",opacity:.5}},n),placement:u,style:{backgroundColor:"white"}})}var ae=[{name:"sollet.io",url:"https://www.sollet.io"}],oe=a.a.createContext(null);function ce(e){var t,n,o,c=e.children,i=X().endpoint,u=x("walletProvider","https://www.sollet.io"),s=Object(l.a)(u,2),d=s[0],m=s[1];o=d||"https://www.sollet.io";var p=Object(r.useMemo)((function(){return new Z.a(o,i)}),[o,i]),f=Object(r.useState)(!1),b=Object(l.a)(f,2),v=b[0],h=b[1];return Object(r.useEffect)((function(){return console.log("trying to connect"),p.on("connect",(function(){console.log("connected"),h(!0);var e=p.publicKey.toBase58();re({message:"Wallet update",description:"Connected to wallet "+(e.length>20?"".concat(e.substring(0,7),".....").concat(e.substring(e.length-7,e.length)):e)})})),p.on("disconnect",(function(){h(!1),re({message:"Wallet update",description:"Disconnected from wallet"})})),function(){p.disconnect(),h(!1)}}),[p]),a.a.createElement(oe.Provider,{value:{wallet:p,connected:v,providerUrl:o,setProviderUrl:m,providerName:null!==(t=null===(n=ae.find((function(e){return e.url===o})))||void 0===n?void 0:n.name)&&void 0!==t?t:o}},c)}function ie(){var e=Object(r.useContext)(oe);if(!e)throw new Error("Missing wallet context");return{connected:e.connected,wallet:e.wallet,providerUrl:e.providerUrl,setProvider:e.setProviderUrl,providerName:e.providerName}}var ue=n(9),se=n(69),le=n.n(se),de=n(106),me=n(55),pe=n(7);function fe(e){return be.apply(this,arguments)}function be(){return(be=Object(s.a)(u.a.mark((function e(t){var n,r,a,o,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.connection,r=t.wallet,a=t.mintPublicKey,o=new m.Account,c=new m.Transaction,e.t0=m.SystemProgram,e.t1=r.publicKey,e.t2=o.publicKey,e.next=8,n.getMinimumBalanceForRentExemption(165);case 8:return e.t3=e.sent,e.t4=H.TokenInstructions.TOKEN_PROGRAM_ID,e.t5={fromPubkey:e.t1,newAccountPubkey:e.t2,lamports:e.t3,space:165,programId:e.t4},i=e.t0.createAccount.call(e.t0,e.t5),c.add(i),c.add(H.TokenInstructions.initializeAccount({account:o.publicKey,mint:a,owner:r.publicKey})),e.abrupt("return",{transaction:c,signer:o,newAccountPubkey:o.publicKey});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){return he.apply(this,arguments)}function he(){return(he=Object(s.a)(u.a.mark((function e(t){var n,r,a,o,c,i,s,l,d,m,p,f,b,v,h,y,k;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.market,r=t.openOrders,a=t.connection,o=t.wallet,c=t.baseCurrencyAccount,i=t.quoteCurrencyAccount,n&&o&&a&&r&&(c||i)){e.next=4;break}return re({message:"Not connected"}),e.abrupt("return");case 4:if(d=null===c||void 0===c?void 0:c.pubkey,m=null===i||void 0===i?void 0:i.pubkey,d){e.next=13;break}return e.next=9,fe({connection:a,wallet:o,mintPublicKey:n.baseMintAddress});case 9:p=e.sent,d=null===p||void 0===p?void 0:p.newAccountPubkey,s=null===p||void 0===p?void 0:p.transaction,l=null===p||void 0===p?void 0:p.signer;case 13:if(m){e.next=20;break}return e.next=16,fe({connection:a,wallet:o,mintPublicKey:n.quoteMintAddress});case 16:f=e.sent,m=null===f||void 0===f?void 0:f.newAccountPubkey,s=null===f||void 0===f?void 0:f.transaction,l=null===f||void 0===f?void 0:f.signer;case 20:return null,n.supportsReferralFees&&(H.TOKEN_MINTS.find((function(e){return"USDT"===e.name})),H.TOKEN_MINTS.find((function(e){return"USDC"===e.name}))),e.next=24,n.makeSettleFundsTransaction(a,r,d,m,null);case 24:return b=e.sent,v=b.transaction,h=b.signers,y=Fe([s,v]),k=l?[].concat(Object(j.a)(h),[l]):h,e.next=31,Ie({transaction:y,signers:k,wallet:o,connection:a,sendingMessage:"Settling funds..."});case 31:return e.abrupt("return",e.sent);case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(s.a)(u.a.mark((function e(t){var n,r,a,o,c,i,l,d,m,p,f,b,v;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.connection,r=t.wallet,a=t.tokenAccounts,o=t.markets,c=t.selectedTokenAccounts,o&&r&&n&&a){e.next=3;break}return e.abrupt("return");case 3:return i=[],o.reduce((function(e,t){return e.push(t._programId),e}),[]).forEach((function(e){i.find((function(t){return t.equals(e)}))||i.push(e)})),l=function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.OpenOrders.findForOwner(n,r.publicKey,t);case 2:return a=e.sent,e.abrupt("return",a.filter((function(e){return e.baseTokenFree.toNumber()||e.quoteTokenFree.toNumber()})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=8,Promise.all(i.map((function(e){return l(e)})));case 8:return d=e.sent,m=d.reduce((function(e,t){return e.concat(t)}),[]),e.next=12,Promise.all(m.map((function(e){var t,r,i=o.find((function(t){var n,r;return null===(n=t._decoded)||void 0===n||null===(r=n.ownAddress)||void 0===r?void 0:r.equals(e.market)})),u=null===i||void 0===i?void 0:i.baseMintAddress,s=null===i||void 0===i?void 0:i.quoteMintAddress,l=null===(t=yt(a,u,u&&c&&c[u.toBase58()]))||void 0===t?void 0:t.pubkey,d=null===(r=yt(a,s,s&&c&&c[s.toBase58()]))||void 0===r?void 0:r.pubkey;return l&&d?i&&i.makeSettleFundsTransaction(n,e,l,d):null})));case 12:if((p=e.sent.filter((function(e){return!!e})))&&0!==p.length){e.next=15;break}return e.abrupt("return");case 15:return f=p.slice(0,4).map((function(e){return e.transaction})),b=[],p.reduce((function(e,t){return e.concat(t.signers)}),[]).forEach((function(e){b.find((function(t){return t.publicKey.equals(e.publicKey)}))||b.push(e)})),v=Fe(f),e.next=21,Ie({transaction:v,signers:b,wallet:r,connection:n});case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",we(Object(G.a)(Object(G.a)({},t),{},{orders:[t.order]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(s.a)(u.a.mark((function e(t){var n,r,a,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.market,r=t.wallet,a=t.connection,o=t.orders,c=n.makeMatchOrdersTransaction(5),o.forEach((function(e){c.add(n.makeCancelOrderInstruction(a,r.publicKey,e))})),c.add(n.makeMatchOrdersTransaction(5)),e.next=6,Ie({transaction:c,wallet:r,connection:a,sendingMessage:"Sending cancel..."});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e){return Te.apply(this,arguments)}function Te(){return(Te=Object(s.a)(u.a.mark((function e(t){var n,r,a,o,c,i,s,l,d,m,p,f,b,v,h,y,k,g,w,O,S;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.side,o=t.price,c=t.size,i=t.orderType,s=t.market,l=t.connection,d=t.wallet,m=t.baseCurrencyAccount,p=t.quoteCurrencyAccount,f=(null===s||void 0===s||null===(n=s.minOrderSize)||void 0===n?void 0:n.toFixed(E(s.minOrderSize)))||(null===s||void 0===s?void 0:s.minOrderSize),b=(null===s||void 0===s||null===(r=s.tickSize)||void 0===r?void 0:r.toFixed(E(s.tickSize)))||(null===s||void 0===s?void 0:s.tickSize),v=function(e,t){return Math.abs(e/t%1)<1e-5||Math.abs(e/t%1-1)<1e-5},!isNaN(o)){e.next=7;break}return re({message:"Invalid price",type:"error"}),e.abrupt("return");case 7:if(!isNaN(c)){e.next=10;break}return re({message:"Invalid size",type:"error"}),e.abrupt("return");case 10:if(d&&d.publicKey){e.next=13;break}return re({message:"Connect wallet",type:"error"}),e.abrupt("return");case 13:if(s){e.next=16;break}return re({message:"Invalid  market",type:"error"}),e.abrupt("return");case 16:if(v(c,s.minOrderSize)){e.next=19;break}return re({message:"Size must be an increment of ".concat(f),type:"error"}),e.abrupt("return");case 19:if(!(c<s.minOrderSize)){e.next=22;break}return re({message:"Size too small",type:"error"}),e.abrupt("return");case 22:if(v(o,s.tickSize)){e.next=25;break}return re({message:"Price must be an increment of ".concat(b),type:"error"}),e.abrupt("return");case 25:if(!(o<s.tickSize)){e.next=28;break}return re({message:"Price under tick size",type:"error"}),e.abrupt("return");case 28:if(h=d.publicKey,y="sell"===a?m:p){e.next=33;break}return re({message:"Need an SPL token account for cost currency",type:"error"}),e.abrupt("return");case 33:return k={owner:h,payer:y,side:a,price:o,size:c,orderType:i},console.log(k),g=s.makeMatchOrdersTransaction(5),e.next=38,s.makePlaceOrderTransaction(l,k,1e4,1e4);case 38:return w=e.sent,O=w.transaction,S=w.signers,g.add(O),g.add(s.makeMatchOrdersTransaction(5)),e.next=45,Ie({transaction:g,wallet:d,connection:l,signers:S,sendingMessage:"Sending order..."});case 45:return e.abrupt("return",e.sent);case 46:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(s.a)(u.a.mark((function e(t){var n,r,a,o,c,i,p,b,v,h,y,k,g,E,w,O,S,T,x,A,j,I,D,M,R,N,U,z;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T=function(){return(T=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new f.a(0);case 1:return e.prev=2,e.next=5,m.PublicKey.createProgramAddress([b.publicKey.toBuffer(),t.toArrayLike(me.Buffer,"le",8)],p);case 5:return n=e.sent,e.abrupt("return",[n,t]);case 9:e.prev=9,e.t0=e.catch(2),t.iaddn(1);case 12:e.next=1;break;case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)},S=function(){return T.apply(this,arguments)},n=t.connection,r=t.wallet,a=t.baseMint,o=t.quoteMint,c=t.baseLotSize,i=t.quoteLotSize,p=t.dexProgramId,b=new m.Account,v=new m.Account,h=new m.Account,y=new m.Account,k=new m.Account,g=new m.Account,E=new m.Account,w=0,O=new f.a(100),e.next=14,S();case 14:return x=e.sent,A=Object(l.a)(x,2),j=A[0],I=A[1],D=new m.Transaction,e.t0=D,e.t1=m.SystemProgram,e.t2=r.publicKey,e.t3=g.publicKey,e.next=25,n.getMinimumBalanceForRentExemption(165);case 25:return e.t4=e.sent,e.t5=H.TokenInstructions.TOKEN_PROGRAM_ID,e.t6={fromPubkey:e.t2,newAccountPubkey:e.t3,lamports:e.t4,space:165,programId:e.t5},e.t7=e.t1.createAccount.call(e.t1,e.t6),e.t8=m.SystemProgram,e.t9=r.publicKey,e.t10=E.publicKey,e.next=34,n.getMinimumBalanceForRentExemption(165);case 34:return e.t11=e.sent,e.t12=H.TokenInstructions.TOKEN_PROGRAM_ID,e.t13={fromPubkey:e.t9,newAccountPubkey:e.t10,lamports:e.t11,space:165,programId:e.t12},e.t14=e.t8.createAccount.call(e.t8,e.t13),e.t15=H.TokenInstructions.initializeAccount({account:g.publicKey,mint:a,owner:j}),e.t16=H.TokenInstructions.initializeAccount({account:E.publicKey,mint:o,owner:j}),e.t0.add.call(e.t0,e.t7,e.t14,e.t15,e.t16),M=new m.Transaction,e.t17=M,e.t18=m.SystemProgram,e.t19=r.publicKey,e.t20=b.publicKey,e.next=48,n.getMinimumBalanceForRentExemption(H.Market.getLayout(p).span);case 48:return e.t21=e.sent,e.t22=H.Market.getLayout(p).span,e.t23=p,e.t24={fromPubkey:e.t19,newAccountPubkey:e.t20,lamports:e.t21,space:e.t22,programId:e.t23},e.t25=e.t18.createAccount.call(e.t18,e.t24),e.t26=m.SystemProgram,e.t27=r.publicKey,e.t28=v.publicKey,e.next=58,n.getMinimumBalanceForRentExemption(5132);case 58:return e.t29=e.sent,e.t30=5132,e.t31=p,e.t32={fromPubkey:e.t27,newAccountPubkey:e.t28,lamports:e.t29,space:e.t30,programId:e.t31},e.t33=e.t26.createAccount.call(e.t26,e.t32),e.t34=m.SystemProgram,e.t35=r.publicKey,e.t36=h.publicKey,e.next=68,n.getMinimumBalanceForRentExemption(262156);case 68:return e.t37=e.sent,e.t38=262156,e.t39=p,e.t40={fromPubkey:e.t35,newAccountPubkey:e.t36,lamports:e.t37,space:e.t38,programId:e.t39},e.t41=e.t34.createAccount.call(e.t34,e.t40),e.t42=m.SystemProgram,e.t43=r.publicKey,e.t44=y.publicKey,e.next=78,n.getMinimumBalanceForRentExemption(65548);case 78:return e.t45=e.sent,e.t46=65548,e.t47=p,e.t48={fromPubkey:e.t43,newAccountPubkey:e.t44,lamports:e.t45,space:e.t46,programId:e.t47},e.t49=e.t42.createAccount.call(e.t42,e.t48),e.t50=m.SystemProgram,e.t51=r.publicKey,e.t52=k.publicKey,e.next=88,n.getMinimumBalanceForRentExemption(65548);case 88:return e.t53=e.sent,e.t54=65548,e.t55=p,e.t56={fromPubkey:e.t51,newAccountPubkey:e.t52,lamports:e.t53,space:e.t54,programId:e.t55},e.t57=e.t50.createAccount.call(e.t50,e.t56),e.t58=H.DexInstructions.initializeMarket({market:b.publicKey,requestQueue:v.publicKey,eventQueue:h.publicKey,bids:y.publicKey,asks:k.publicKey,baseVault:g.publicKey,quoteVault:E.publicKey,baseMint:a,quoteMint:o,baseLotSize:new f.a(c),quoteLotSize:new f.a(i),feeRateBps:w,vaultSignerNonce:I,quoteDustThreshold:O,programId:p}),e.t17.add.call(e.t17,e.t25,e.t33,e.t41,e.t49,e.t57,e.t58),e.next=97,Promise.all([Me({transaction:D,wallet:r,connection:n,signers:[g,E]}),Me({transaction:M,wallet:r,connection:n,signers:[b,v,h,y,k]})]);case 97:R=e.sent,N=Object(d.a)(R),e.prev=99,N.s();case 101:if((U=N.n()).done){e.next=107;break}return z=U.value,e.next=105,Ne({signedTransaction:z,connection:n});case 105:e.next=101;break;case 107:e.next=112;break;case 109:e.prev=109,e.t59=e.catch(99),N.e(e.t59);case 112:return e.prev=112,N.f(),e.finish(112);case 115:return e.abrupt("return",b.publicKey);case 116:case"end":return e.stop()}}),e,null,[[99,109,112,115]])})))).apply(this,arguments)}var je=function(){return(new Date).getTime()/1e3};function Ie(e){return De.apply(this,arguments)}function De(){return(De=Object(s.a)(u.a.mark((function e(t){var n,r,a,o,c,i,s,l,d,m,p,f,b,v;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.transaction,r=t.wallet,a=t.signers,o=void 0===a?[]:a,c=t.connection,i=t.sendingMessage,s=void 0===i?"Sending transaction...":i,l=t.sentMessage,d=void 0===l?"Transaction sent":l,m=t.successMessage,p=void 0===m?"Transaction confirmed":m,f=t.timeout,b=void 0===f?15e3:f,e.next=3,Me({transaction:n,wallet:r,signers:o,connection:c});case 3:return v=e.sent,e.next=6,Ne({signedTransaction:v,connection:c,sendingMessage:s,sentMessage:d,successMessage:p,timeout:b});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e){return Re.apply(this,arguments)}function Re(){return(Re=Object(s.a)(u.a.mark((function e(t){var n,r,a,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.transaction,r=t.wallet,a=t.signers,o=void 0===a?[]:a,c=t.connection,e.next=3,c.getRecentBlockhash("max");case 3:return n.recentBlockhash=e.sent.blockhash,n.setSigners.apply(n,[r.publicKey].concat(Object(j.a)(o.map((function(e){return e.publicKey}))))),o.length>0&&n.partialSign.apply(n,Object(j.a)(o)),e.next=8,r.signTransaction(n);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(s.a)(u.a.mark((function e(t){var n,r,a,o,c,i,l,d,m,p,f,b,h,y;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,r=t.connection,a=t.sendingMessage,o=void 0===a?"Sending transaction...":a,c=t.sentMessage,i=void 0===c?"Transaction sent":c,l=t.successMessage,d=void 0===l?"Transaction confirmed":l,m=t.timeout,p=void 0===m?15e3:m,f=n.serialize(),b=je(),re({message:o}),e.next=6,r.sendRawTransaction(f,{skipPreflight:!0});case 6:return h=e.sent,re({message:i,type:"success",txid:h}),console.log("Started awaiting confirmation for",h),y=!1,Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y||!(je()-b<p)){e.next=6;break}return r.sendRawTransaction(f,{skipPreflight:!0}),e.next=4,v(300);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=11,e.next=14,ze(h,p,r);case 14:e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(11),!e.t0.timeout){e.next=20;break}throw new Error("Timed out awaiting confirmation on transaction");case 20:throw new Error("Transaction failed");case 21:return e.prev=21,y=!0,e.finish(21);case 24:return re({message:d,type:"success",txid:h}),console.log("Latency",h,je()-b),e.abrupt("return",h);case 27:case"end":return e.stop()}}),e,null,[[11,16,21,24]])})))).apply(this,arguments)}function ze(e,t,n){return _e.apply(this,arguments)}function _e(){return(_e=Object(s.a)(u.a.mark((function e(t,n,r){var a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,e.next=3,new Promise((function(e,o){Object(s.a)(u.a.mark((function c(){return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:setTimeout((function(){a||(a=!0,console.log("Timed out for txid",t),o({timeout:!0}))}),n);try{r.onSignature(t,(function(n){console.log("WS confirmed",t,n),a=!0,n.err?o(n.err):e(n)}),"recent"),console.log("Set up WS connection",t)}catch(i){a=!0,console.log("WS error in setup",t,i)}case 2:if(a){c.next=8;break}return Object(s.a)(u.a.mark((function n(){var c,i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.getSignatureStatuses([t]);case 3:c=n.sent,i=c&&c.value[0],a||(i?i.err?(console.log("REST error for",t,i),a=!0,o(i.err)):i.confirmations?(console.log("REST confirmation for",t,i),a=!0,e(i)):console.log("REST no confirmations for",t,i):console.log("REST null result for",t,i)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),a||console.log("REST connection error: txid",t,n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))(),c.next=6,v(300);case 6:c.next=2;break;case 8:case"end":return c.stop()}}),c)})))()}));case 3:return o=e.sent,a=!0,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e){var t=new m.Transaction;return e.filter((function(e){return void 0!==e})).forEach((function(e){t.add(e)})),t}var Le,Be=Object(pe.a)({executable:"boolean",owner:"string",lamports:"number",data:"any",rentEpoch:"number?"}),Ce=(Le=pe.a.array([pe.a.union(["null",Be])]),function(e){var t=pe.a.literal("2.0");return pe.a.union([Object(pe.a)({jsonrpc:t,id:"string",error:"any"}),Object(pe.a)({jsonrpc:t,id:"string",error:"null?",result:e})])}({context:Object(pe.a)({slot:"number"}),value:Le}));function Pe(e,t){return qe.apply(this,arguments)}function qe(){return(qe=Object(s.a)(u.a.mark((function e(t,n){var r,a,o,c,i,s,l,p,f,b,v,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[n.map((function(e){return e.toBase58()})),{commitment:"recent"}],e.next=3,t._rpcRequest("getMultipleAccounts",r);case 3:if(a=e.sent,!(o=Ce(a)).error){e.next=7;break}throw new Error("failed to get info about accounts "+n.map((function(e){return e.toBase58()})).join(", ")+": "+o.error.message);case 7:R()("undefined"!==typeof o.result),c=[],i=Object(d.a)(o.result.value);try{for(i.s();!(s=i.n()).done;)l=s.value,p=null,o.result.value&&(f=l.executable,b=l.owner,v=l.lamports,h=l.data,R()("base64"===h[1]),p={executable:f,owner:new m.PublicKey(b),lamports:v,data:me.Buffer.from(h[0],"base64")}),c.push(p)}catch(u){i.e(u)}finally{i.f()}return e.abrupt("return",{context:{slot:o.result.context.slot},value:Object.fromEntries(c.map((function(e,t){return[n[t].toBase58(),e]})))});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var We=ue.struct([ue.blob(32,"mint"),ue.blob(32,"owner"),ue.nu64("amount"),ue.blob(93)]),Ke=ue.struct([ue.blob(36),ue.blob(8,"supply"),ue.u8("decimals"),ue.u8("initialized"),ue.blob(36)]);function Je(e){var t=We.decode(e),n=t.mint,r=t.owner,a=t.amount;return{mint:new m.PublicKey(n),owner:new m.PublicKey(r),amount:a}}function Qe(e){var t=Ke.decode(e),n=t.decimals,r=t.initialized,a=t.supply;return{decimals:n,initialized:!!r,supply:new f.a(a,10,"le")}}function Xe(e){return[{memcmp:{offset:We.offsetOf("owner"),bytes:e.toBase58()}},{dataSize:We.span}]}var Ye=new m.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function Ve(e,t){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(s.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xe(n),e.next=3,t._rpcRequest("getProgramAccounts",[Ye.toBase58(),{commitment:t.commitment,filters:r}]);case 3:if(!(a=e.sent).error){e.next=6;break}throw new Error("failed to get token accounts owned by "+n.toBase58()+": "+a.error.message);case 6:return e.abrupt("return",a.result.map((function(e){var t=e.pubkey,n=e.account,r=n.data,a=n.executable,o=n.owner,c=n.lamports;return{publicKey:new m.PublicKey(t),accountInfo:{data:le.a.decode(r),executable:a,owner:new m.PublicKey(o),lamports:c}}})).filter((function(e){var t=e.accountInfo;return r.every((function(e){if(e.dataSize)return t.data.length===e.dataSize;if(e.memcmp){var n=le.a.decode(e.memcmp.bytes);return t.data.slice(e.memcmp.offset,e.memcmp.offset+n.length).equals(n)}return!1}))})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(s.a)(u.a.mark((function e(t,n){var r,a,o,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Ve(t,n),t.getAccountInfo(n)]);case 2:return r=e.sent,a=Object(l.a)(r,2),o=a[0],c=a[1],i=o.map((function(e){var t=e.publicKey,n=e.accountInfo;return{pubkey:t,account:n,effectiveMint:Je(n.data).mint}})),e.abrupt("return",i.concat({pubkey:n,account:c,effectiveMint:de.WRAPPED_SOL_MINT}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(){var e=J(),t=lt().customMarkets,n=ht(),r=Object(l.a)(n,1)[0],a=nt(t),o=Object(l.a)(a,1)[0],c=(r||[]).map((function(e){return e.effectiveMint})).concat((o||[]).map((function(e){return e.market.baseMintAddress}))).concat((o||[]).map((function(e){return e.market.quoteMintAddress}))),i=Object(j.a)(new Set(c.map((function(e){return e.toBase58()})))).map((function(e){return new m.PublicKey(e)}));return L(function(){var t=Object(s.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pe(e,i);case 2:return n=t.sent,t.abrupt("return",Object.fromEntries(Object.entries(n.value).map((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];return[n,r&&Qe(r.data)]}))));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Object(C.a)("getAllMintInfo",e,(r||[]).length,(o||[]).length),{refreshInterval:5e6})}var et=function(){function e(){Object(D.a)(this,e)}return Object(I.a)(e,null,[{key:"get",value:function(){var e=Object(s.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(this.URL+t);case 3:if(!(n=e.sent).ok){e.next=9;break}return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r.success?r.data:null);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Error fetching from Bonfida API ".concat(t,": ").concat(e.t0));case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getRecentTrades",value:function(){var t=Object(s.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.get("trades/address/".concat(n)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}();et.URL="https://serum-api.bonfida.com/";var tt=H.MARKETS;function nt(e){var t=J();return L(function(){var n=Object(s.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(xt(e).map(function(){var e=Object(s.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.Market.load(t,n.address,{},n.programId);case 3:return r=e.sent,e.abrupt("return",{market:r,marketName:n.name,programId:n.programId});case 7:return e.prev=7,e.t0=e.catch(0),re({message:"Error loading all market",description:e.t0.message,type:"error"}),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));case 2:return r=n.sent,n.abrupt("return",r.filter((function(e){return!!e})));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Object(C.a)("getAllMarkets",e.length,t),{refreshInterval:ot})}function rt(){var e,t=J(),n=ie().wallet;function r(){return(r=Object(s.a)(u.a.mark((function e(){var r,a,o,c,i,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&t&&n.publicKey){e.next=2;break}return e.abrupt("return",[]);case 2:console.log("refreshing useUnmigratedOpenOrdersAccounts"),r=[],a=Array.from(new Set(tt.filter((function(e){return e.deprecated})).map((function(e){return e.programId.toBase58()})))).map((function(e){return new m.PublicKey(e)})),c=Object(d.a)(a),e.prev=6,c.s();case 8:if((i=c.n()).done){e.next=22;break}return o=i.value,e.prev=10,e.next=13,H.OpenOrders.findForOwner(t,n.publicKey,o);case 13:s=e.sent,r=r.concat(s.filter((function(e){return e.baseTokenTotal.toNumber()||e.quoteTokenTotal.toNumber()})).filter((function(e){return tt.some((function(t){return t.deprecated&&t.address.equals(e.market)}))}))),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(10),console.log("Error loading deprecated markets",null===(l=o)||void 0===l?void 0:l.toBase58(),e.t0.message);case 20:e.next=8;break;case 22:e.next=27;break;case 24:e.prev=24,e.t1=e.catch(6),c.e(e.t1);case 27:return e.prev=27,c.f(),e.finish(27);case 30:return e.abrupt("return",r);case 31:case"end":return e.stop()}}),e,null,[[6,24,27,30],[10,17]])})))).apply(this,arguments)}var a=Object(C.a)("getUnmigratedOpenOrdersAccounts",t,null===n||void 0===n||null===(e=n.publicKey)||void 0===e?void 0:e.toBase58()),o=L((function(){return r.apply(this,arguments)}),a,{refreshInterval:ot});return{accounts:Object(l.a)(o,1)[0],refresh:function(e){return B(a,e)}}}var at=a.a.createContext(null),ot=5e6,ct=tt.find((function(e){var t=e.name,n=e.deprecated;return"SRM/USDT"===t&&!n}));function it(e,t){var n,r;if(!e)return{};var a=xt(t).find((function(t){return t.address.equals(e.address)})),o=(null===e||void 0===e?void 0:e.baseMintAddress)&&(null===(n=H.TOKEN_MINTS.find((function(t){return t.address.equals(e.baseMintAddress)})))||void 0===n?void 0:n.name)||(null===a||void 0===a?void 0:a.baseLabel)&&"".concat(null===a||void 0===a?void 0:a.baseLabel,"*")||"UNKNOWN",c=(null===e||void 0===e?void 0:e.quoteMintAddress)&&(null===(r=H.TOKEN_MINTS.find((function(t){return t.address.equals(e.quoteMintAddress)})))||void 0===r?void 0:r.name)||(null===a||void 0===a?void 0:a.quoteLabel)&&"".concat(null===a||void 0===a?void 0:a.quoteLabel,"*")||"UNKNOWN";return Object(G.a)(Object(G.a)({},a),{},{marketName:null===a||void 0===a?void 0:a.name,baseCurrency:o,quoteCurrency:c,marketInfo:a})}function ut(e){var t=e.children,n=x("marketAddress",null===ct||void 0===ct?void 0:ct.address.toBase58()),o=Object(l.a)(n,2),c=o[0],i=o[1],u=x("customMarkets",[]),s=Object(l.a)(u,2),d=s[0],p=s[1],f=c&&new m.PublicKey(c),b=J(),v=xt(d),h=f&&v.find((function(e){return e.address.equals(f)}));Object(r.useEffect)((function(){h&&h.deprecated&&(console.log("Switching markets from deprecated",h),ct&&i(ct.address.toBase58()))}),[]);var y=Object(r.useState)(),k=Object(l.a)(y,2),g=k[0],E=k[1];return Object(r.useEffect)((function(){var e;g&&h&&(null===(e=g._decoded.ownAddress)||void 0===e?void 0:e.equals(null===h||void 0===h?void 0:h.address))||(E(null),h&&h.address?H.Market.load(b,h.address,{},h.programId).then(E).catch((function(e){return re({message:"Error loading market",description:e.message,type:"error"})})):re({message:"Error loading market",description:"Please select a market from the dropdown",type:"error"}))}),[b,h]),a.a.createElement(at.Provider,{value:Object(G.a)(Object(G.a)({market:g},it(g,d)),{},{setMarketAddress:i,customMarkets:d,setCustomMarkets:p})},t)}function st(){var e=x("selectedTokenAccounts",{}),t=Object(l.a)(e,2);return[t[0],t[1]]}function lt(){var e=Object(r.useContext)(at);if(!e)throw new Error("Missing market context");return e}function dt(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1],o=ft(),c=Object(l.a)(o,1)[0],i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=mt(e);if(!t)return null;return t.filter((function(e){return e.eventFlags.maker})).map((function(e){return Object(G.a)(Object(G.a)({},e),{},{side:"buy"===e.side?"sell":"buy"})}))}();return Object(r.useEffect)((function(){var e,t,n=(null===c||void 0===c||null===(e=c.bids)||void 0===e?void 0:e.length)>0&&Number(c.bids[0][0]),r=(null===c||void 0===c||null===(t=c.asks)||void 0===t?void 0:t.length)>0&&Number(c.asks[0][0]),o=i&&i.length>0&&i[0].price,u=n&&r?o?[n,r,o].sort((function(e,t){return e-t}))[1]:(n+r)/2:null;a(u)}),[c,i]),n}function mt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=lt(),n=t.market,r=J();function a(){return o.apply(this,arguments)}function o(){return(o=Object(s.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&r){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,n.loadFills(r,e);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var c=L(a,Object(C.a)("getUnfilteredTrades",n,r),{refreshInterval:5e3}),i=Object(l.a)(c,1),d=i[0];return d}function pt(){var e=lt().market,t=V(e&&e._decoded.bids),n=V(e&&e._decoded.asks);return{bidOrderbook:e&&t?H.Orderbook.decode(e,t):null,askOrderbook:e&&n?H.Orderbook.decode(e,n):null}}function ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=pt(),n=t.bidOrderbook,r=t.askOrderbook,a=lt(),o=a.market,c=n&&o?n.getL2(e).map((function(e){var t=Object(l.a)(e,2);return[t[0],t[1]]})):[],i=r&&o?r.getL2(e).map((function(e){var t=Object(l.a)(e,2);return[t[0],t[1]]})):[];return[{bids:c,asks:i},!!c||!!i]}function bt(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=lt(),n=t.market,r=ie(),a=r.connected,o=r.wallet,c=J();function i(){return l.apply(this,arguments)}function l(){return(l=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",null);case 2:if(n){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,n.findOpenOrdersAccountsForOwner(c,o.publicKey);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return L(i,Object(C.a)("getOpenOrdersAccounts",o,n,a),{refreshInterval:e?1e3:5e3})}function vt(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=bt(e),n=Object(l.a)(t,1),r=n[0];return r?r[0]:null}function ht(){var e=ie(),t=e.connected,n=e.wallet,r=J();function a(){return(a=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,He(r,n.publicKey);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return L((function(){return a.apply(this,arguments)}),Object(C.a)("getTokenAccounts",n,t),{refreshInterval:5e3})}function yt(e,t,n){if(!e||!t)return null;var r=e.filter((function(e){var r=e.effectiveMint,a=e.pubkey;return t.equals(r)&&(!n||("string"===typeof n?n:n.toBase58())===a.toBase58())}));return r&&r[0]}function kt(){var e=ht(),t=Object(l.a)(e,1)[0],n=lt().market,r=st(),a=Object(l.a)(r,1)[0],o=null===n||void 0===n?void 0:n.quoteMintAddress;return yt(t,o,o&&a[o.toBase58()])}function gt(){var e=ht(),t=Object(l.a)(e,1)[0],n=lt().market,r=st(),a=Object(l.a)(r,1)[0],o=null===n||void 0===n?void 0:n.baseMintAddress;return yt(t,o,o&&a[o.toBase58()])}function Et(){var e,t=kt(),n=lt().market,r=Y(null===t||void 0===t?void 0:t.pubkey),a=Object(l.a)(r,2),o=a[0],c=a[1];return n&&t&&c&&o?n.quoteMintAddress.equals(H.TokenInstructions.WRAPPED_SOL_MINT)?null!==(e=(null===o||void 0===o?void 0:o.lamports)/1e9)&&void 0!==e?e:0:n.quoteSplSizeToNumber(new f.a(o.data.slice(64,72),10,"le")):null}function wt(){var e,t=gt(),n=lt().market,r=Y(null===t||void 0===t?void 0:t.pubkey),a=Object(l.a)(r,2),o=a[0],c=a[1];return n&&t&&c&&o?n.baseMintAddress.equals(H.TokenInstructions.WRAPPED_SOL_MINT)?null!==(e=(null===o||void 0===o?void 0:o.lamports)/1e9)&&void 0!==e?e:0:n.baseSplSizeToNumber(new f.a(o.data.slice(64,72),10,"le")):null}function Ot(){var e,t=ie(),n=t.wallet,r=t.connected,a=J(),o=lt().customMarkets,c=xt(o),i=Object(j.a)(new Set(c.map((function(e){return e.programId.toBase58()})))).map((function(e){return new m.PublicKey(e)}));return L(function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,Promise.all(i.map((function(e){return H.OpenOrders.findForOwner(a,n.publicKey,e)})));case 4:return e.abrupt("return",e.sent.flat());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Object(C.a)("getAllOpenOrdersAccounts",a,r,null===n||void 0===n||null===(e=n.publicKey)||void 0===e?void 0:e.toBase58(),o.length,(i||[]).length),{refreshInterval:5e3})}function St(){var e=wt(),t=Et(),n=vt(!0),r=lt(),a=r.baseCurrency,o=r.quoteCurrency,c=r.market,i=n&&n.baseTokenTotal&&n.baseTokenFree,u=n&&n.quoteTokenTotal&&n.quoteTokenFree;return"UNKNOWN"!==a&&"UNKNOWN"!==o&&a&&o?[{market:c,key:"".concat(a).concat(o).concat(a),coin:a,wallet:e,orders:i&&c&&n?c.baseSplSizeToNumber(n.baseTokenTotal.sub(n.baseTokenFree)):null,openOrders:n,unsettled:i&&c&&n?c.baseSplSizeToNumber(n.baseTokenFree):null},{market:c,key:"".concat(o).concat(a).concat(o),coin:o,wallet:t,openOrders:n,orders:u&&c&&n?c.quoteSplSizeToNumber(n.quoteTokenTotal.sub(n.quoteTokenFree)):null,unsettled:u&&c&&n?c.quoteSplSizeToNumber(n.quoteTokenFree):null}]:[]}function Tt(){var e=J(),t=rt().accounts,n=t&&Array.from(new Set(t.map((function(e){return e.market})))),r=n&&n.map((function(e){return e.toBase58()})),a=L(function(){var t=Object(s.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",null);case 2:return r=function(){var t=Object(s.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=tt.find((function(e){return e.address.equals(n)}))){t.next=5;break}return console.log("Failed loading market"),re({message:"Error loading market",type:"error"}),t.abrupt("return",null);case 5:return t.prev=5,console.log("Loading market",r.name),t.next=9,H.Market.load(e,r.address,{},r.programId);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(5),console.log("Failed loading market",r.name,t.t0),re({message:"Error loading market",description:t.t0.message,type:"error"}),t.abrupt("return",null);case 17:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e){return t.apply(this,arguments)}}(),t.next=5,Promise.all(n.map(r));case 5:return t.abrupt("return",t.sent.filter((function(e){return e})));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Object(C.a)("useUnmigratedDeprecatedMarketsInner",e,r&&r.toString()),{refreshInterval:ot}),o=Object(l.a)(a,1)[0];return o?o.map((function(e){return{market:e,openOrdersList:null===t||void 0===t?void 0:t.filter((function(t){return e&&t.market.equals(e.address)}))}})):null}function xt(e){var t=e.map((function(e){return Object(G.a)(Object(G.a)({},e),{},{address:new m.PublicKey(e.address),programId:new m.PublicKey(e.programId),deprecated:!1})}));return[].concat(Object(j.a)(t),Object(j.a)(tt))}function At(e,t,n){if(e.isBids)return e.market.tickSize;var r,a,o,c=0,i=e.getL2(1e3),u=Object(d.a)(i);try{for(u.s();!(o=u.n()).done;){var s=Object(l.a)(o.value,2);if(c+(a=(r=s[0])*s[1])>t)break;c+=a}}catch(p){u.e(p)}finally{u.f()}var m=Math.min(1.02*r,1.05*i[0][0]);return n?k(m,n):m}function jt(e,t,n){var r,a,o,c,i=0,u=0,s=Object(d.a)(e.getL2(1e3));try{for(s.s();!(c=s.n()).done;){var m=Object(l.a)(c.value,2);if(r=m[0],a=m[1],i+(o=(e.isBids?1:r)*a)>t){u+=(t-i)*r,i=t;break}u+=o*r,i+=o}}catch(f){s.e(f)}finally{s.f()}var p=u/Math.min(t,i);return n?k(p,n):p}var It=n(38),Dt=n(39);function Mt(){var e=Object(It.a)(["\nhtml,body{\n  background: #11161D;\n}\ninput[type=number]::-webkit-inner-spin-button {\n  opacity: 0;\n}\ninput[type=number]:hover::-webkit-inner-spin-button,\ninput[type=number]:focus::-webkit-inner-spin-button {\n  opacity: 0.25;\n}\n/* width */\n::-webkit-scrollbar {\n  width: 15px;\n}\n/* Track */\n::-webkit-scrollbar-track {\n  background: #2d313c;\n}\n/* Handle */\n::-webkit-scrollbar-thumb {\n  background: #5b5f67;\n}\n/* Handle on hover */\n::-webkit-scrollbar-thumb:hover {\n  background: #5b5f67;\n}\n.ant-slider-track, .ant-slider:hover .ant-slider-track {\n  background-color: #2abdd2;\n  opacity: 0.75;\n}\n.ant-slider-track,\n.ant-slider ant-slider-track:hover {\n  background-color: #2abdd2;\n  opacity: 0.75;\n}\n.ant-slider-dot-active,\n.ant-slider-handle,\n.ant-slider-handle-click-focused,\n.ant-slider:hover .ant-slider-handle:not(.ant-tooltip-open)  {\n  border: 2px solid #2abdd2; \n}\n.ant-table-tbody > tr.ant-table-row:hover > td {\n  background: #273043;\n}\n.ant-table-tbody > tr > td {\n  border-bottom: 8px solid #1A2029;\n}\n.ant-table-container table > thead > tr:first-child th {\n  border-bottom: none;\n}\n.ant-divider-horizontal.ant-divider-with-text::before, .ant-divider-horizontal.ant-divider-with-text::after {\n  border-top: 1px solid #434a59 !important;\n}\n.ant-layout {\n    background: #11161D\n  }\n  .ant-table {\n    background: #212734;\n  }\n  .ant-table-thead > tr > th {\n    background: #1A2029;\n  }\n.ant-select-item-option-content {\n  img {\n    margin-right: 4px;\n  }\n}\n.ant-modal-content {\n  background-color: #212734;\n}\n\n@-webkit-keyframes highlight {\n  from { background-color: #2abdd2;}\n  to {background-color: #1A2029;}\n}\n@-moz-keyframes highlight {\n  from { background-color: #2abdd2;}\n  to {background-color: #1A2029;}\n}\n@-keyframes highlight {\n  from { background-color: #2abdd2;}\n  to {background-color: #1A2029;}\n}\n.flash {\n  -moz-animation: highlight 0.5s ease 0s 1 alternate ;\n  -webkit-animation: highlight 0.5s ease 0s 1 alternate;\n  animation: highlight 0.5s ease 0s 1 alternate;\n}"]);return Mt=function(){return e},e}var Rt=Object(Dt.a)(Mt()),Nt=n(349),Ut=n(226),zt=n(222),_t=n(671),Ft=_t.a.Title,Lt=function(e){Object(Ut.a)(n,e);var t=Object(zt.a)(n);function n(){var e;Object(D.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(I.a)(n,[{key:"render",value:function(){return this.state.hasError?a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(Ft,{level:2},"Something went wrong."),a.a.createElement(Ft,{level:4},"Please try again later."))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(r.Component),Bt=n(61),Ct=n(182),Pt=n(663),qt=n(664),Wt=n(365),Kt=n(83);function Jt(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current&&n.current()}),t);return function(){clearInterval(e)}}}),[t])}function Qt(){var e=Object(It.a)(["\n  margin: 5px;\n  padding: 20px;\n  background-color: #1a2029;\n"]);return Qt=function(){return e},e}var Xt=Dt.c.div(Qt());function Yt(e){var t=e.style,n=void 0===t?void 0:t,r=e.children,o=e.stretchVertical,c=void 0!==o&&o;return a.a.createElement(Xt,{style:Object(G.a)({height:c?"calc(100% - 10px)":void 0},n)},r)}var Vt=n(677),Gt=n(678);function Ht(){var e=Object(It.a)(["\n  position: absolute;\n  right: 5px;\n  color: white;\n"]);return Ht=function(){return e},e}function Zt(){var e=Object(It.a)(["\n      background-color: ",";\n    "]);return Zt=function(){return e},e}function $t(){var e=Object(It.a)(["\n      width: ",";\n    "]);return $t=function(){return e},e}function en(){var e=Object(It.a)(["\n  text-align: right;\n  float: right;\n  height: 100%;\n  ","\n  ","\n"]);return en=function(){return e},e}function tn(){var e=Object(It.a)(["\n  padding: 20px 0 14px;\n  font-weight: 700;\n"]);return tn=function(){return e},e}function nn(){var e=Object(It.a)(["\n  padding: 20px 0 14px;\n  color: #434a59;\n"]);return nn=function(){return e},e}function rn(){var e=Object(It.a)(["\n  color: rgba(255, 255, 255, 1);\n"]);return rn=function(){return e},e}var an=Dt.c.div(rn()),on=Object(Dt.c)(Pt.a)(nn()),cn=Object(Dt.c)(Pt.a)(tn()),un=Dt.c.div(en(),(function(e){return e["data-width"]&&Object(Dt.b)($t(),e["data-width"])}),(function(e){return e["data-bgcolor"]&&Object(Dt.b)(Zt(),e["data-bgcolor"])})),sn=Dt.c.div(Ht());function ln(e){var t=e.smallScreen,n=e.depth,o=void 0===n?7:n,c=e.onPrice,i=e.onSize,u=dt(),s=ft(),d=Object(l.a)(s,1)[0],m=lt(),p=m.baseCurrency,f=m.quoteCurrency,b=Object(r.useRef)(null),v=Object(r.useRef)(null),h=Object(r.useState)(null),y=Object(l.a)(h,2),k=y[0],g=y[1];function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.slice(0,o).reduce((function(e,n,r){var a,o=Object(l.a)(n,2),c=o[0],i=o[1],u=((null===(a=e[r-1])||void 0===a?void 0:a.cumulativeSize)||0)+i;return e.push({price:c,size:i,cumulativeSize:u,sizePercent:Math.round(u/(t||1)*100)}),e}),[]);return n&&(r=r.reverse()),r}return Jt((function(){if(!b.current||JSON.stringify(b.current)!==JSON.stringify(v.current)){var e=(null===d||void 0===d?void 0:d.bids)||[],t=(null===d||void 0===d?void 0:d.asks)||[],n=function(e,t,n){var r=Object(l.a)(t,2)[1];return n<o?e+r:e},r=e.reduce(n,0)+t.reduce(n,0),a=E(e,r,!1),c=E(t,r,!0);b.current={bids:null===d||void 0===d?void 0:d.bids,asks:null===d||void 0===d?void 0:d.asks},g({bids:a,asks:c})}}),250),Object(r.useEffect)((function(){v.current={bids:null===d||void 0===d?void 0:d.bids,asks:null===d||void 0===d?void 0:d.asks}}),[d]),a.a.createElement(Yt,{style:t?{flex:1}:{height:"500px",overflow:"hidden"}},a.a.createElement(an,null,"Orderbook"),a.a.createElement(on,null,a.a.createElement(qt.a,{span:12,style:{textAlign:"left"}},"Size (",p,")"),a.a.createElement(qt.a,{span:12,style:{textAlign:"right"}},"Price (",f,")")),null===k||void 0===k?void 0:k.asks.map((function(e){var t=e.price,n=e.size,r=e.sizePercent;return a.a.createElement(dn,{key:t+"",price:t,size:n,side:"sell",sizePercent:r,onPriceClick:function(){return c(t)},onSizeClick:function(){return i(n)}})})),a.a.createElement(mn,{markPrice:u}),null===k||void 0===k?void 0:k.bids.map((function(e){var t=e.price,n=e.size,r=e.sizePercent;return a.a.createElement(dn,{key:t+"",price:t,size:n,side:"buy",sizePercent:r,onPriceClick:function(){return c(t)},onSizeClick:function(){return i(n)}})})))}var dn=a.a.memo((function(e){var t=e.side,n=e.price,o=e.size,c=e.sizePercent,i=e.onSizeClick,u=e.onPriceClick,s=Object(r.useRef)(),l=lt().market;Object(r.useEffect)((function(){var e,t;!(null===(e=s.current)||void 0===e?void 0:e.classList.contains("flash"))&&(null===(t=s.current)||void 0===t||t.classList.add("flash"));var n=setTimeout((function(){var e,t;return(null===(e=s.current)||void 0===e?void 0:e.classList.contains("flash"))&&(null===(t=s.current)||void 0===t?void 0:t.classList.remove("flash"))}),250);return function(){return clearTimeout(n)}}),[n,o]);var d=(null===l||void 0===l?void 0:l.minOrderSize)&&!isNaN(o)?Number(o).toFixed(E(l.minOrderSize)+1):o,m=(null===l||void 0===l?void 0:l.tickSize)&&!isNaN(n)?Number(n).toFixed(E(l.tickSize)+1):n;return a.a.createElement(Pt.a,{ref:s,style:{marginBottom:1},onClick:i},a.a.createElement(qt.a,{span:12,style:{textAlign:"left"}},d),a.a.createElement(qt.a,{span:12,style:{textAlign:"right"}},a.a.createElement(un,{"data-width":c+"%","data-bgcolor":"buy"===t?"rgba(65, 199, 122, 0.6)":"rgba(242, 60, 105, 0.6)"}),a.a.createElement(sn,{onClick:u},m)))}),(function(e,t){return A(e,t,["price","size","sizePercent"])})),mn=a.a.memo((function(e){var t=e.markPrice,n=lt().market,o=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e}),[e]),t.current}(t),c=t>o?"#41C77A":t<o?"#F23B69":"white",i=t&&(null===n||void 0===n?void 0:n.tickSize)&&t.toFixed(E(n.tickSize));return a.a.createElement(cn,{justify:"center"},a.a.createElement(qt.a,{style:{color:c}},t>o&&a.a.createElement(Vt.a,{style:{marginRight:5}}),t<o&&a.a.createElement(Gt.a,{style:{marginRight:5}}),i||"----"))}),(function(e,t){return A(e,t,["markPrice"])})),pn=n(33),fn=n(667);function bn(e){var t=e.dataSource,n=e.columns,r=e.emptyLabel,o=void 0===r?"No data":r,c=e.pagination,i=void 0!==c&&c,u=e.loading,s=void 0!==u&&u,l=e.pageSize,d=void 0===l?10:l;return a.a.createElement(pn.b,{renderEmpty:function(){return a.a.createElement("div",{style:{padding:"20px",display:"flex",justifyContent:"center",alignItems:"center"}},o)}},a.a.createElement(fn.a,{dataSource:t,columns:n,pagination:!!i&&{pagination:!0,pageSize:d},loading:s}))}function vn(e){var t=e.balances,n=e.showMarket,r=e.hideWalletBalance,o=e.onSettleSuccess,c=ht(),i=Object(l.a)(c,1)[0],d=Q(),m=ie().wallet;function p(){return(p=Object(s.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve({market:t,openOrders:n,connection:d,wallet:m,baseCurrencyAccount:yt(i,null===t||void 0===t?void 0:t.baseMintAddress),quoteCurrencyAccount:yt(i,null===t||void 0===t?void 0:t.quoteMintAddress)});case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),re({message:"Error settling funds",description:e.t0.message,type:"error"}),e.abrupt("return");case 9:o&&o();case 10:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var f=[n?{title:"Market",dataIndex:"marketName",key:"marketName"}:null,{title:"Coin",dataIndex:"coin",key:"coin"},r?null:{title:"Wallet Balance",dataIndex:"wallet",key:"wallet"},{title:"Orders",dataIndex:"orders",key:"orders"},{title:"Unsettled",dataIndex:"unsettled",key:"unsettled"},{key:"action",render:function(e){var t=e.market,n=e.openOrders,r=e.marketName;return a.a.createElement("div",{style:{textAlign:"right"}},a.a.createElement(Kt.a,{ghost:!0,style:{marginRight:12},onClick:function(){return function(e,t){return p.apply(this,arguments)}(t,n)}},"Settle ",r))}}].filter((function(e){return e}));return a.a.createElement(bn,{emptyLabel:"No balances",dataSource:t,columns:f,pagination:!1})}var hn=n(675),yn=n(679);function kn(){var e=Object(It.a)(["\n  color: #f23b69;\n  border: 1px solid #f23b69;\n"]);return kn=function(){return e},e}var gn=Object(Dt.c)(Kt.a)(kn());function En(e){var t=e.openOrders,n=e.onCancelSuccess,o=e.pageSize,c=e.loading,i=e.marketFilter,d=ie().wallet,m=Q(),p=Object(r.useState)(null),f=Object(l.a)(p,2),b=f[0],v=f[1];function h(){return(h=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(null===t||void 0===t?void 0:t.orderId),e.prev=1,e.next=4,ge({order:t,market:t.market,connection:m,wallet:d});case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),re({message:"Error cancelling order",description:e.t0.message,type:"error"}),e.abrupt("return");case 10:return e.prev=10,v(null),e.finish(10);case 13:n&&n();case 14:case"end":return e.stop()}}),e,null,[[1,6,10,13]])})))).apply(this,arguments)}var y=Object(j.a)(new Set((t||[]).map((function(e){return e.marketName})))).map((function(e){return{text:e,value:e}})),k=[{title:"Market",dataIndex:"marketName",key:"marketName",filters:i?y:void 0,onFilter:function(e,t){return 0===t.marketName.indexOf(e)}},{title:"Side",dataIndex:"side",key:"side",render:function(e){return a.a.createElement(hn.a,{color:"buy"===e?"#41C77A":"#F23B69",style:{fontWeight:700}},e.charAt(0).toUpperCase()+e.slice(1))},sorter:function(e,t){return e.side===t.side?0:"buy"===e.side?1:-1},showSorterTooltip:!1},{title:"Size",dataIndex:"size",key:"size",sorter:function(e,t){return t.size-e.size},showSorterTooltip:!1},{title:"Price",dataIndex:"price",key:"price",sorter:function(e,t){return t.price-e.price},showSorterTooltip:!1},{key:"orderId",render:function(e){return a.a.createElement("div",{style:{textAlign:"right"}},a.a.createElement(gn,{icon:a.a.createElement(yn.a,null),onClick:function(){return function(e){return h.apply(this,arguments)}(e)},loading:b+""===(null===e||void 0===e?void 0:e.orderId)+""},"Cancel"))}}],g=(t||[]).map((function(e){return Object(G.a)(Object(G.a)({},e),{},{key:e.orderId})}));return a.a.createElement(Pt.a,null,a.a.createElement(qt.a,{span:24},a.a.createElement(bn,{emptyLabel:"No open orders",dataSource:g,columns:k,pagination:!0,pageSize:o||5,loading:void 0!==c&&c})))}var wn=n(668);function On(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=lt(),n=t.marketName,r=mt(e),a=bt(),o=Object(l.a)(a,1),c=o[0];return c&&0!==c.length&&r?r.filter((function(e){return c.some((function(t){return e.openOrders.equals(t.publicKey)}))})).map((function(e){return Object(G.a)(Object(G.a)({},e),{},{marketName:n})})):null}(),t=lt().quoteCurrency,n=[{title:"Market",dataIndex:"marketName",key:"marketName"},{title:"Side",dataIndex:"side",key:"side",render:function(e){return a.a.createElement(hn.a,{color:"buy"===e?"#41C77A":"#F23B69",style:{fontWeight:700}},e.charAt(0).toUpperCase()+e.slice(1))}},{title:"Size",dataIndex:"size",key:"size"},{title:"Price",dataIndex:"price",key:"price"},{title:"Liquidity",dataIndex:"liquidity",key:"liquidity"},{title:t?"Fees (".concat(t,")"):"Fees",dataIndex:"feeCost",key:"feeCost"}],r=(e||[]).map((function(e){return Object(G.a)(Object(G.a)({},e),{},{key:"".concat(e.orderId).concat(e.side),liquidity:e.eventFlags.maker?"Maker":"Taker"})}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt.a,null,a.a.createElement(qt.a,{span:24},a.a.createElement(bn,{dataSource:r,columns:n,pagination:!0,pageSize:5,emptyLabel:"No fills"}))))}function Sn(){var e=function(){var e=lt().market,t=ie(),n=t.connected,r=t.wallet,a=J();function o(){return(o=Object(s.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",null);case 2:if(e){t.next=4;break}return t.abrupt("return",null);case 4:return t.next=6,e.findFeeDiscountKeys(a,r.publicKey);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return L((function(){return o.apply(this,arguments)}),Object(C.a)("getFeeDiscountKeys",r,e,n),{refreshInterval:5e3})}(),t=[{title:"Fee Tier",dataIndex:"feeTier",key:"feeTier",render:function(e,t){return a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(_t.a,null,e),0===t.index?a.a.createElement("div",{style:{marginLeft:10}},a.a.createElement(hn.a,{color:"#41C77A",style:{fontWeight:700}},"Selected")):null)}},{title:"Taker",dataIndex:"taker",key:"taker",render:function(e,t){return y.format(Object(H.getFeeRates)(t.feeTier).taker)}},{title:"Maker",dataIndex:"maker",key:"maker",render:function(e,t){return y.format(Object(H.getFeeRates)(t.feeTier).maker)}},{title:"Public Key",dataIndex:"pubkey",key:"pubkey",render:function(e){return e.toBase58()}},{title:"Balance",dataIndex:"balance",key:"balance"},{title:"Mint",dataIndex:"mint",key:"mint",render:function(e,t){return t.mint.equals(H.TokenInstructions.SRM_MINT)?"SRM":t.mint.equals(H.TokenInstructions.MSRM_MINT)?"MSRM":"UNKNOWN"}}],n=(Object(l.a)(e,1)[0]||[]).map((function(e,t){return Object(G.a)(Object(G.a)({},e),{},{index:t,key:e.pubkey.toBase58()})}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt.a,null,a.a.createElement(qt.a,{span:24},a.a.createElement(bn,{dataSource:n,columns:t,pagination:!0,pageSize:5,emptyLabel:"No (M)SRM accounts"}))),a.a.createElement(Pt.a,{style:{marginTop:8}},a.a.createElement(qt.a,null,a.a.createElement(_t.a,null,"Holding SRM or MSRM makes you eligible for fee discounts:"),a.a.createElement(Tn,null))))}function Tn(){var e=[{title:"Fee Tier",dataIndex:"feeTier",key:"feeTier"},{title:"Taker",dataIndex:"taker",key:"taker",render:function(e,t){return y.format(Object(H.getFeeRates)(t.feeTier).taker)}},{title:"Maker",dataIndex:"maker",key:"maker",render:function(e,t){return y.format(Object(H.getFeeRates)(t.feeTier).maker)}},{title:"Requirements",dataIndex:"requirements",key:"requirements",render:function(e,t){return a.a.createElement(_t.a,null,t.balance?"\u2265 ".concat(t.balance," ").concat(t.token):"None")}}];return a.a.createElement(bn,{dataSource:[{feeTier:0,taker:.0022,maker:-3e-4,token:"",balance:""},{feeTier:1,taker:.002,maker:-3e-4,token:"SRM",balance:100},{feeTier:2,taker:.0018,maker:-3e-4,token:"SRM",balance:1e3},{feeTier:3,taker:.0016,maker:-3e-4,token:"SRM",balance:1e4},{feeTier:4,taker:.0014,maker:-3e-4,token:"SRM",balance:1e5},{feeTier:5,taker:.0012,maker:-3e-4,token:"SRM",balance:1e6},{feeTier:6,taker:.001,maker:-5e-4,token:"MSRM",balance:1}].map((function(e){return Object(G.a)(Object(G.a)({},e),{},{key:e.feeTier})})),columns:e})}var xn=_t.a.Paragraph,An=wn.a.TabPane;function jn(){var e=lt().market;return a.a.createElement(Yt,{style:{flex:1,paddingTop:20}},a.a.createElement(_t.a,null,a.a.createElement(xn,{style:{color:"rgba(255,255,255,0.5)"}},"Make sure to go to Balances and click Settle to send out your funds."),a.a.createElement(xn,{style:{color:"rgba(255,255,255,0.5)"}},"To fund your wallet, ",a.a.createElement("a",{href:"https://www.sollet.io"},"sollet.io"),". You can get SOL from FTX, Binance, BitMax, and others. You can get other tokens from FTX."," ")),a.a.createElement(wn.a,{defaultActiveKey:"orders"},a.a.createElement(An,{tab:"Open Orders",key:"orders"},a.a.createElement(In,null)),a.a.createElement(An,{tab:"Recent Trade History",key:"fills"},a.a.createElement(On,null)),a.a.createElement(An,{tab:"Balances",key:"balances"},a.a.createElement(Dn,null)),e&&e.supportsSrmFeeDiscounts?a.a.createElement(An,{tab:"Fee discounts",key:"fees"},a.a.createElement(Sn,null)):null))}var In=function(){var e=function(){var e=lt(),t=e.market,n=e.marketName,r=vt(),a=pt(),o=a.bidOrderbook,c=a.askOrderbook;return t&&r&&o&&c?t.filterForOpenOrders(o,c,[r]).map((function(e){return Object(G.a)(Object(G.a)({},e),{},{marketName:n,market:t})})):null}();return a.a.createElement(En,{openOrders:e})},Dn=function(){var e=St();return a.a.createElement(vn,{balances:e})},Mn=n(665),Rn=n(672);function Nn(e){var t,n,r,o=e.onClose,c=e.baseOrQuote,i=lt(),u=i.market,s=i.baseCurrency,l=i.quoteCurrency,d=ie(),m=d.providerName,p=d.providerUrl,f=gt(),b=kt();return"base"===c?(t=null===u||void 0===u?void 0:u.baseMintAddress,n=f,r=s):"quote"===c?(t=null===u||void 0===u?void 0:u.quoteMintAddress,n=b,r=l):n=null,t?a.a.createElement(Rn.a,{title:r,visible:!!t,onOk:o,onCancel:o},a.a.createElement("div",{style:{paddingTop:"20px"}},a.a.createElement("p",{style:{color:"white"}},"Mint address:"),a.a.createElement("p",{style:{color:"rgba(255,255,255,0.5)"}},t.toBase58()),a.a.createElement("div",null,a.a.createElement("p",{style:{color:"white"}},"SPL Deposit address:"),a.a.createElement("p",{style:{color:"rgba(255,255,255,0.5)"}},n?n.pubkey.toBase58():a.a.createElement(a.a.Fragment,null,"Visit"," ",a.a.createElement(ne,{external:!0,to:p},m)," ","to create an account for this mint"))))):null}var Un=n(680);function zn(e){var t,n=e.accounts,r=e.mint,o=e.label,c=st(),i=Object(l.a)(c,2),u=i[0],s=i[1];t=r&&r in u?u[r]:n&&(null===n||void 0===n?void 0:n.length)>0?n[0].pubkey.toBase58():void 0;return a.a.createElement(a.a.Fragment,null,o&&a.a.createElement(qt.a,{span:8},"Token account:"),a.a.createElement(qt.a,{span:o?13:21},a.a.createElement(Ct.a,{style:{width:"100%"},value:t,onSelect:function(e){if(r){var t=Object(G.a)({},u);t[r]=e,s(t)}else re({message:"Error selecting token account",description:"Mint is undefined",type:"error"})}},null===n||void 0===n?void 0:n.map((function(e){return a.a.createElement(Ct.a.Option,{key:e.pubkey.toBase58(),value:e.pubkey.toBase58()},a.a.createElement(_t.a.Text,{code:!0},o?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=e.toBase58();return n.slice(0,t)+"\u2026"+n.slice(-t)}(e.pubkey,8):e.pubkey.toBase58()))})))),a.a.createElement(qt.a,{span:2,offset:1},a.a.createElement(Kt.a,{shape:"round",icon:a.a.createElement(Un.a,null),size:"small",onClick:function(){return t&&navigator.clipboard.writeText(t)}})))}function _n(){var e=Object(It.a)(["\n  color: #2abdd2;\n  background-color: #212734;\n  border-width: 0px;\n"]);return _n=function(){return e},e}function Fn(){var e=Object(It.a)(["\n  font-size: 12px;\n  padding-top: 6px;\n"]);return Fn=function(){return e},e}function Ln(){var e=Object(It.a)(["\n  padding-bottom: 20px;\n"]);return Ln=function(){return e},e}var Bn=Object(Dt.c)(Pt.a)(Ln()),Cn=Dt.c.p(Fn()),Pn=Object(Dt.c)(Kt.a)(_n());function qn(){var e=lt(),t=e.baseCurrency,n=e.quoteCurrency,o=e.market,c=St(),i=vt(!0),d=Q(),m=ie(),p=m.providerUrl,f=m.providerName,b=m.wallet,v=m.connected,h=Object(r.useState)(""),y=Object(l.a)(h,2),k=y[0],g=y[1],E=gt(),w=kt(),O=ht(),S=Object(l.a)(O,1)[0],T=c&&c.find((function(e){return e.coin===t})),x=c&&c.find((function(e){return e.coin===n}));function A(){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=3;break}return re({message:"Error settling funds",description:"market is undefined",type:"error"}),e.abrupt("return");case 3:if(i){e.next=6;break}return re({message:"Error settling funds",description:"Open orders account is undefined",type:"error"}),e.abrupt("return");case 6:if(E){e.next=9;break}return re({message:"Error settling funds",description:"Open orders account is undefined",type:"error"}),e.abrupt("return");case 9:if(w){e.next=12;break}return re({message:"Error settling funds",description:"Open orders account is undefined",type:"error"}),e.abrupt("return");case 12:return e.prev=12,e.next=15,ve({market:o,openOrders:i,connection:d,wallet:b,baseCurrencyAccount:E,quoteCurrencyAccount:w});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),re({message:"Error settling funds",description:e.t0.message,type:"error"});case 20:case"end":return e.stop()}}),e,null,[[12,17]])})))).apply(this,arguments)}var I=[[t,T,"base",null===o||void 0===o?void 0:o.baseMintAddress.toBase58()],[n,x,"quote",null===o||void 0===o?void 0:o.quoteMintAddress.toBase58()]];return a.a.createElement(Yt,{style:{flex:1,paddingTop:10}},I.map((function(e,t){var n=Object(l.a)(e,4),r=n[0],o=n[1],c=n[2],i=n[3];return a.a.createElement(a.a.Fragment,{key:t},a.a.createElement(Mn.a,{style:{borderColor:"white"}},r),v&&a.a.createElement(Bn,{align:"middle",style:{paddingBottom:10}},a.a.createElement(zn,{accounts:null===S||void 0===S?void 0:S.filter((function(e){return e.effectiveMint.toBase58()===i})),mint:i,label:!0})),a.a.createElement(Bn,{align:"middle",justify:"space-between",style:{paddingBottom:12}},a.a.createElement(qt.a,null,"Wallet balance:"),a.a.createElement(qt.a,null,o&&o.wallet)),a.a.createElement(Bn,{align:"middle",justify:"space-between",style:{paddingBottom:12}},a.a.createElement(qt.a,null,"Unsettled balance:"),a.a.createElement(qt.a,null,o&&o.unsettled)),a.a.createElement(Bn,{align:"middle",justify:"space-around"},a.a.createElement(qt.a,{style:{width:150}},a.a.createElement(Pn,{block:!0,size:"large",onClick:function(){return g(c)}},"Deposit")),a.a.createElement(qt.a,{style:{width:150}},a.a.createElement(Pn,{block:!0,size:"large",onClick:A},"Settle"))),a.a.createElement(Cn,null,"All deposits go to your"," ",a.a.createElement(ne,{external:!0,to:p},f)," ","wallet"))})),a.a.createElement(Nn,{baseOrQuote:k,onClose:function(){return g("")}}))}var Wn=n(223),Kn=n(674),Jn=n(669),Qn=n(676);function Xn(){var e=Object(It.a)(["\n  margin: 20px 0px 0px 0px;\n  background: #02bf76;\n  border-color: #02bf76;\n"]);return Xn=function(){return e},e}function Yn(){var e=Object(It.a)(["\n  margin: 20px 0px 0px 0px;\n  background: #f23b69;\n  border-color: #f23b69;\n"]);return Yn=function(){return e},e}var Vn=Object(Dt.c)(Kt.a)(Yn()),Gn=Object(Dt.c)(Kt.a)(Xn()),Hn={0:"0%",25:"25%",50:"50%",75:"75%",100:"100%"};function Zn(e){var t=e.style,n=e.setChangeOrderRef,o=Object(r.useState)("buy"),c=Object(l.a)(o,2),i=c[0],d=c[1],m=lt(),p=m.baseCurrency,f=m.quoteCurrency,b=m.market,v=wt(),h=Et(),y=gt(),w=kt(),O=vt(!0),S=ie().wallet,T=Q(),x=dt(),A=Object(r.useState)(!1),j=Object(l.a)(A,2),I=j[0],D=j[1],M=Object(r.useState)(!1),R=Object(l.a)(M,2),N=R[0],U=R[1],z=Object(r.useState)(void 0),_=Object(l.a)(z,2),F=_[0],L=_[1],B=Object(r.useState)(void 0),C=Object(l.a)(B,2),P=C[0],q=C[1],W=Object(r.useState)(void 0),K=Object(l.a)(W,2),J=K[0],X=K[1],Y=Object(r.useState)(!1),V=Object(l.a)(Y,2),H=V[0],Z=V[1],$=Object(r.useState)(0),ee=Object(l.a)($,2),te=ee[0],ne=ee[1],ae=(h||0)+((O&&b?b.quoteSplSizeToNumber(O.quoteTokenFree):0)||0),oe=v||0,ce=(null===b||void 0===b?void 0:b.minOrderSize)&&E(b.minOrderSize),ue=(null===b||void 0===b?void 0:b.tickSize)&&E(b.tickSize);Object(r.useEffect)((function(){n&&n(le)}),[n]),Object(r.useEffect)((function(){F&&J&&me(te)}),[i]),Object(r.useEffect)((function(){de()}),[J,F]);var se=function(e){if(L(e),e){var t=J||x;if(t){var n=e&&g(e*t,ce);q(n)}else q(void 0)}else q(void 0)},le=function(e){var t=e.size,n=e.price,r=t&&g(t,ce),a=n&&g(n,ue);r&&se(r),a&&X(a)},de=function(){var e=k("buy"===i?ae/(J||x||1):oe,ce),t=Math.min((F||0)/e*100,100);ne(t)},me=function(e){if(!J&&x){var t=ue?x.toFixed(ue):x;X("number"===typeof t?t:parseFloat(t))}var n;"buy"===i?(J||x)&&(n=ae/(J||x||1)*e/100):n=oe*e/100;var r=k(n,ce);se(r)};function pe(){return fe.apply(this,arguments)}function fe(){return(fe=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J){e.next=6;break}return console.warn("Missing price"),re({message:"Missing price",type:"error"}),e.abrupt("return");case 6:if(F){e.next=10;break}return console.warn("Missing size"),re({message:"Missing size",type:"error"}),e.abrupt("return");case 10:return Z(!0),e.prev=11,e.next=14,Se({side:i,price:J,size:F,orderType:N?"ioc":I?"postOnly":"limit",market:b,connection:T,wallet:S,baseCurrencyAccount:null===y||void 0===y?void 0:y.pubkey,quoteCurrencyAccount:null===w||void 0===w?void 0:w.pubkey});case 14:X(void 0),se(void 0),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(11),console.warn(e.t0),re({message:"Error placing order",description:e.t0.message,type:"error"});case 22:return e.prev=22,Z(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[11,18,22,25]])})))).apply(this,arguments)}return a.a.createElement(Yt,{style:Object(G.a)({display:"flex",flexDirection:"column"},t)},a.a.createElement("div",{style:{flex:1}},a.a.createElement(Wn.a.Group,{onChange:function(e){return d(e.target.value)},value:i,buttonStyle:"solid",style:{marginBottom:8,width:"100%"}},a.a.createElement(Wn.a.Button,{value:"buy",style:{width:"50%",textAlign:"center",background:"buy"===i?"#02bf76":"",borderColor:"buy"===i?"#02bf76":""}},"BUY"),a.a.createElement(Wn.a.Button,{value:"sell",style:{width:"50%",textAlign:"center",background:"sell"===i?"#F23B69":"",borderColor:"sell"===i?"#F23B69":""}},"SELL")),a.a.createElement(Kn.a,{style:{textAlign:"right",paddingBottom:8},addonBefore:a.a.createElement("div",{style:{width:"30px"}},"Price"),suffix:a.a.createElement("span",{style:{fontSize:10,opacity:.5}},f),value:J,type:"number",step:(null===b||void 0===b?void 0:b.tickSize)||1,onChange:function(e){return X(parseFloat(e.target.value))}}),a.a.createElement(Kn.a.Group,{compact:!0,style:{paddingBottom:8}},a.a.createElement(Kn.a,{style:{width:"calc(50% + 30px)",textAlign:"right"},addonBefore:a.a.createElement("div",{style:{width:"30px"}},"Size"),suffix:a.a.createElement("span",{style:{fontSize:10,opacity:.5}},p),value:F,type:"number",step:(null===b||void 0===b?void 0:b.minOrderSize)||1,onChange:function(e){return se(parseFloat(e.target.value))}}),a.a.createElement(Kn.a,{style:{width:"calc(50% - 30px)",textAlign:"right"},suffix:a.a.createElement("span",{style:{fontSize:10,opacity:.5}},f),value:P,type:"number",step:(null===b||void 0===b?void 0:b.minOrderSize)||1,onChange:function(e){return function(e){if(q(e),e){var t=J||x;if(t){var n=e&&g(e/t,ce);L(n)}else L(void 0)}else L(void 0)}(parseFloat(e.target.value))}})),a.a.createElement(Jn.a,{value:te,tipFormatter:function(e){return"".concat(e,"%")},marks:Hn,onChange:me}),a.a.createElement("div",{style:{paddingTop:18}},"POST ",a.a.createElement(Qn.a,{checked:I,onChange:function(e){e&&U(!1),D(e)},style:{marginRight:40}}),"IOC ",a.a.createElement(Qn.a,{checked:N,onChange:function(e){e&&D(!1),U(e)}}))),"buy"===i?a.a.createElement(Gn,{disabled:!J||!F,onClick:pe,block:!0,type:"primary",size:"large",loading:H},"Buy ",p):a.a.createElement(Vn,{disabled:!J||!F,onClick:pe,block:!0,type:"primary",size:"large",loading:H},"Sell ",p))}function $n(){var e=Object(It.a)(["\n  padding: 20px 0 14px;\n  color: #434a59;\n"]);return $n=function(){return e},e}function er(){var e=Object(It.a)(["\n  color: rgba(255, 255, 255, 1);\n"]);return er=function(){return e},e}var tr=Dt.c.div(er()),nr=Object(Dt.c)(Pt.a)($n());function rr(e){var t=e.smallScreen,n=lt(),r=n.baseCurrency,o=n.quoteCurrency,c=n.market,i=function(){var e=lt().market,t=null===e||void 0===e?void 0:e.address.toBase58();function n(){return(n=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,et.getRecentTrades(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return L((function(){return n.apply(this,arguments)}),Object(C.a)("getBonfidaTrades",t),{refreshInterval:5e3},!1)}(),d=Object(l.a)(i,2),m=d[0],p=d[1];return a.a.createElement(Yt,{style:t?{flex:1}:{marginTop:"10px",minHeight:"270px",maxHeight:"calc(100vh - 700px)"}},a.a.createElement(tr,null,"Recent Market trades"),a.a.createElement(nr,null,a.a.createElement(qt.a,{span:8},"Price (",o,") "),a.a.createElement(qt.a,{span:8,style:{textAlign:"right"}},"Size (",r,")"),a.a.createElement(qt.a,{span:8,style:{textAlign:"right"}},"Time")),!!m&&p&&a.a.createElement("div",{style:{marginRight:"-20px",paddingRight:"5px",overflowY:"scroll",maxHeight:t?"calc(100% - 75px)":"calc(100vh - 800px)"}},m.map((function(e,t){return a.a.createElement(Pt.a,{key:t,style:{marginBottom:4}},a.a.createElement(qt.a,{span:8,style:{color:"buy"===e.side?"#41C77A":"#F23B69"}},(null===c||void 0===c?void 0:c.tickSize)&&!isNaN(e.price)?Number(e.price).toFixed(E(c.tickSize)):e.price),a.a.createElement(qt.a,{span:8,style:{textAlign:"right"}},(null===c||void 0===c?void 0:c.minOrderSize)&&!isNaN(e.size)?Number(e.size).toFixed(E(c.minOrderSize)):e.size),a.a.createElement(qt.a,{span:8,style:{textAlign:"right",color:"#434a59"}},e.time&&new Date(e.time).toLocaleTimeString()))}))))}var ar=n(681);function or(e){var t=e.title,n=e.address;return a.a.createElement("div",null,t&&a.a.createElement("p",{style:{color:"white"}},t),a.a.createElement(Kt.a,{type:"link",icon:a.a.createElement(ar.a,null),href:"https://explorer.solana.com/address/"+n,target:"_blank",rel:"noopener noreferrer"},n))}var cr=n(212),ir=n.n(cr),ur=n(354),sr=n.n(ur),lr=_t.a.Title;function dr(e){var t=e.switchToLiveMarkets,n=function(){var e=Tt(),t=x("customMarkets",[]),n=Object(l.a)(t,1)[0];if(!e)return null;var r=[];return e.forEach((function(e){var t=e.market,a=e.openOrdersList,o=it(t,n),c=o.baseCurrency,i=o.quoteCurrency,u=o.marketName;c&&i&&t&&(a||[]).forEach((function(e){var n=(null===e||void 0===e?void 0:e.baseTokenTotal)&&(null===e||void 0===e?void 0:e.baseTokenFree)&&t.baseSplSizeToNumber(e.baseTokenTotal.sub(e.baseTokenFree)),a=(null===e||void 0===e?void 0:e.quoteTokenTotal)&&(null===e||void 0===e?void 0:e.quoteTokenFree)&&t.baseSplSizeToNumber(e.quoteTokenTotal.sub(e.quoteTokenFree)),o=(null===e||void 0===e?void 0:e.baseTokenFree)&&t.baseSplSizeToNumber(e.baseTokenFree),s=(null===e||void 0===e?void 0:e.quoteTokenFree)&&t.baseSplSizeToNumber(e.quoteTokenFree);r.push({marketName:u,market:t,coin:c,key:"".concat(u).concat(c),orders:n,unsettled:o,openOrders:e}),r.push({marketName:u,market:t,coin:i,key:"".concat(u).concat(i),orders:a,unsettled:s,openOrders:e})}))})),r}(),r=function(){var e=ie(),t=e.connected,n=e.wallet,r=x("customMarkets",[]),a=Object(l.a)(r,1)[0],o=J(),c=Tt(),i=c&&c.map((function(e){return e.market})),d=i&&i.filter((function(e){return!!e})).map((function(e){return e.address.toBase58()}));function m(){return(m=Object(s.a)(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if(i){e.next=4;break}return e.abrupt("return",null);case 4:return console.log("refreshing getOpenOrdersForDeprecatedMarkets"),r=function(){var e=Object(s.a)(u.a.mark((function e(t){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return r=it(t,a),c=r.marketName,e.prev=3,console.log("Fetching open orders for",c),e.next=7,t.loadOrdersForOwner(o,n.publicKey);case 7:return e.abrupt("return",e.sent.map((function(e){return Object(G.a)({marketName:c,market:t},e)})));case 10:return e.prev=10,e.t0=e.catch(3),console.log("Failed loading open orders",t.address.toBase58(),e.t0),re({message:"Error loading open orders for deprecated ".concat(c),description:e.t0.message,type:"error"}),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),e.next=8,Promise.all(i.map(r));case 8:return e.abrupt("return",e.sent.filter((function(e){return!!e})).flat());case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=Object(C.a)("getOpenOrdersForDeprecatedMarkets",t,o,n,d&&d.toString()),f=L((function(){return m.apply(this,arguments)}),p,{refreshInterval:ot}),b=Object(l.a)(f,2),v=b[0],h=b[1];return console.log("openOrders",v),{openOrders:v,loaded:h,refreshOpenOrders:function(){return B(p)}}}(),o=r.openOrders,c=r.loaded,i=r.refreshOpenOrders,d=rt().refresh,m=!o||o.length>0,p=n&&n.filter((function(e){var t=e.orders,n=e.unsettled;return t>0||n>0})),f=p&&p.length>0;return a.a.createElement(Yt,null,a.a.createElement(lr,{level:4,style:{color:"rgba(255, 255, 255, 1)"}},"Migrate to new USDC markets"),a.a.createElement(_t.a,null,a.a.createElement(ne,{external:!0,to:"https://explorer.solana.com/address/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},"Native USDC")," ","has arrived on Solana! See"," ",a.a.createElement(ne,{external:!0,to:"https://www.circle.com/blog/circle-partners-with-alameda-research-ftx-project-serum-to-introduce-support-for-usdc-on-solana"},"Circle's announcement")," ","for more information."),a.a.createElement("br",null),a.a.createElement(_t.a,null,"Serum is transitioning from the previous"," ",a.a.createElement(ne,{external:!0,to:"https://explorer.solana.com/address/BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW"},"Wrapped USDC"),", now called WUSDC, to Native USDC. You can convert from WUSDC to USDC directly on"," ",a.a.createElement(ne,{external:!0,to:"https://sollet.io"},"sollet.io"),", or can deposit WUSDC and be credited USDC on exchanges like"," ",a.a.createElement(ne,{external:!0,to:"https://ftx.com"},"FTX"),"."),a.a.createElement("br",null),a.a.createElement(_t.a,null,"Markets with WUSDC as the quote curency are now deprecated. To migrate over to the new USDC markets, please cancel your orders and settle your funds on old markets."),a.a.createElement("div",{style:{marginTop:20,display:"flex",justifyContent:"center"}},a.a.createElement(Kt.a,{onClick:function(){return d(!0)}},a.a.createElement(sr.a,null)," Refresh data")),n?a.a.createElement(a.a.Fragment,null,a.a.createElement(Mn.a,null,!m&&a.a.createElement(ir.a,null)," Cancel your orders"),m?c?a.a.createElement(En,{openOrders:o,onCancelSuccess:function(){setTimeout((function(){d(),i()}),1e3)}}):a.a.createElement(Nt.a,{size:"large"}):null,a.a.createElement(Mn.a,null,!f&&a.a.createElement(ir.a,null)," Settle your funds"),f&&a.a.createElement(vn,{balances:p,hideWalletBalance:!0,showMarket:!0,onSettleSuccess:function(){setTimeout(d,1e3)}}),a.a.createElement(Mn.a,null,"Switch to upgraded markets"),a.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},a.a.createElement(Kt.a,{onClick:t,disabled:f||m},"Switch to new markets"))):a.a.createElement(Nt.a,{size:"large"}))}var mr=n(683),pr=n(684),fr=n(682),br=_t.a.Text;function vr(e){var t,n,o=e.visible,c=e.onAddCustomMarket,i=e.onClose,u=J(),s=Object(r.useState)(""),d=Object(l.a)(s,2),p=d[0],f=d[1],v=Object(r.useState)(""),h=Object(l.a)(v,2),y=h[0],k=h[1],g=Object(r.useState)(""),E=Object(l.a)(g,2),w=E[0],O=E[1],S=Object(r.useState)(""),T=Object(l.a)(S,2),x=T[0],A=T[1],j=Object(r.useState)(null),I=Object(l.a)(j,2),D=I[0],M=I[1],R=Object(r.useState)(!1),N=Object(l.a)(R,2),U=N[0],z=N[1],_=b(p),F=Y(_?new m.PublicKey(p):null),L=Object(l.a)(F,1)[0],B=L?L.owner.toBase58():H.MARKETS.find((function(e){return!e.deprecated})).programId.toBase58();Object(r.useEffect)((function(){_&&B?(z(!0),H.Market.load(u,new m.PublicKey(p),{},new m.PublicKey(B)).then((function(e){M(e)})).catch((function(){C(),M(null)})).finally((function(){return z(!1)}))):C()}),[u,p,B]);var C=function(){k(null),O(null),A(null)},P=H.MARKETS.find((function(e){return e.address.toBase58()===p&&e.programId.toBase58()===B})),q=H.MARKETS.find((function(e){return e.programId.toBase58()===B})),W=(null===D||void 0===D?void 0:D.baseMintAddress)&&(null===(t=H.TOKEN_MINTS.find((function(e){return e.address.equals(D.baseMintAddress)})))||void 0===t?void 0:t.name),K=(null===D||void 0===D?void 0:D.quoteMintAddress)&&(null===(n=H.TOKEN_MINTS.find((function(e){return e.address.equals(D.quoteMintAddress)})))||void 0===n?void 0:n.name),Q=!U&&!!D&&D.publicKey.toBase58()===p&&p&&B&&y&&(W||w)&&(K||x)&&_,X=function(){C(),M(null),f(null),i()};return a.a.createElement(Rn.a,{title:"Add custom market",visible:o,onOk:function(){if(Q){var e={address:p,programId:B,name:y};W||(e.baseLabel=w),K||(e.quoteLabel=x),c(e),X()}else re({message:"Please fill in all fields with valid values",type:"error"})},okText:"Add",onCancel:X,okButtonProps:{disabled:!Q}},a.a.createElement("div",null,_?a.a.createElement(a.a.Fragment,null,!D&&!U&&a.a.createElement(Pt.a,{style:{marginBottom:8}},a.a.createElement(br,{type:"danger"},"Not a valid market")),D&&P&&a.a.createElement(Pt.a,{style:{marginBottom:8}},a.a.createElement(br,{type:"warning"},"Market known: ",P.name)),D&&!q&&a.a.createElement(Pt.a,{style:{marginBottom:8}},a.a.createElement(br,{type:"danger"},"Warning: unknown DEX program")),D&&q&&q.deprecated&&a.a.createElement(Pt.a,{style:{marginBottom:8}},a.a.createElement(br,{type:"warning"},"Warning: deprecated DEX program"))):a.a.createElement(a.a.Fragment,null,p&&!_&&a.a.createElement(Pt.a,{style:{marginBottom:8}},a.a.createElement(br,{type:"danger"},"Invalid market ID"))),a.a.createElement(Pt.a,{style:{marginBottom:8}},a.a.createElement(qt.a,{span:24},a.a.createElement(Kn.a,{placeholder:"Market Id",value:p,onChange:function(e){return f(e.target.value)},suffix:U?a.a.createElement(fr.a,null):null}))),a.a.createElement(Pt.a,{style:{marginBottom:8,marginTop:8}},a.a.createElement(qt.a,{span:24},a.a.createElement(Kn.a,{placeholder:"Market Label",disabled:!D,value:y,onChange:function(e){return k(e.target.value)}}))),a.a.createElement(Pt.a,{gutter:[8],style:{marginBottom:8}},a.a.createElement(qt.a,{span:12},a.a.createElement(Kn.a,{placeholder:"Base label",disabled:!D||W,value:W||w,onChange:function(e){return O(e.target.value)}}),D&&!W&&a.a.createElement("div",{style:{marginTop:8}},a.a.createElement(br,{type:"warning"},"Warning: unknown token"))),a.a.createElement(qt.a,{span:12},a.a.createElement(Kn.a,{placeholder:"Quote label",disabled:!D||K,value:K||x,onChange:function(e){return A(e.target.value)}}),D&&!K&&a.a.createElement("div",{style:{marginTop:8}},a.a.createElement(br,{type:"warning"},"Warning: unknown token"))))))}function hr(){var e=Object(It.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 16px 16px;\n  .borderNone .ant-select-selector {\n    border: none !important;\n  }\n"]);return hr=function(){return e},e}var yr=Ct.a.Option,kr=Ct.a.OptGroup,gr=Dt.c.div(hr());function Er(){var e=lt(),t=e.market,n=e.marketName,o=e.customMarkets,c=e.setCustomMarkets,i=e.setMarketAddress,u=tt.filter((function(e){return!e.deprecated})),s=Object(r.useState)(!1),d=Object(l.a)(s,2),m=d[0],p=d[1],f=Object(r.useState)(!1),b=Object(l.a)(f,2),v=b[0],h=b[1],y=Tt(),k=Object(r.useState)({height:window.innerHeight,width:window.innerWidth}),g=Object(l.a)(k,2),E=g[0],w=g[1];Object(r.useEffect)((function(){document.title=n?"".concat(n," \u2014 Serum"):"Serum"}),[n]);var O=Object(r.useRef)();Object(r.useEffect)((function(){var e=function(){w({height:window.innerHeight,width:window.innerWidth})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var S=null===E||void 0===E?void 0:E.width,T={onChangeOrderRef:function(e){return O.current=e},onPrice:Object(r.useCallback)((function(e){return O.current&&O.current({price:e})}),[]),onSize:Object(r.useCallback)((function(e){return O.current&&O.current({size:e})}),[])},x=Object(r.useCallback)((function(){return m?a.a.createElement(Or,{switchToLiveMarkets:function(){return p(!1)}}):S<1e3?a.a.createElement(xr,T):S<1450?a.a.createElement(Tr,T):a.a.createElement(Sr,T)}),[S,T,m]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(vr,{visible:v,onClose:function(){return h(!1)},onAddCustomMarket:function(e){if(xt(o).some((function(t){return t.address.toBase58()===e.address})))re({message:"A market with the given ID already exists",type:"error"});else{var t=[].concat(Object(j.a)(o),[e]);c(t),i(e.address)}}}),a.a.createElement(gr,null,a.a.createElement(Pt.a,{align:"middle",style:{paddingLeft:5,paddingRight:5},gutter:16},a.a.createElement(qt.a,null,a.a.createElement(wr,{markets:u,setHandleDeprecated:p,placeholder:"Select market",customMarkets:o,onDeleteCustomMarket:function(e){var t=o.filter((function(t){return t.address!==e}));c(t)}})),t?a.a.createElement(qt.a,null,a.a.createElement(Wt.a,{content:a.a.createElement(or,{address:t.publicKey.toBase58()}),placement:"bottomRight",title:"Market address",trigger:"click"},a.a.createElement(mr.a,{style:{color:"#2abdd2"}}))):null,a.a.createElement(qt.a,null,a.a.createElement(pr.a,{style:{color:"#2abdd2"},onClick:function(){return h(!0)}})),y&&y.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement(qt.a,null,a.a.createElement(_t.a,null,"You have unsettled funds on old markets! Please go through them to claim your funds.")),a.a.createElement(qt.a,null,a.a.createElement(Kt.a,{onClick:function(){return p(!m)}},m?"View new markets":"Handle old markets")))),x()))}function wr(e){var t,n,r=e.markets,o=e.placeholder,c=e.setHandleDeprecated,i=e.customMarkets,u=e.onDeleteCustomMarket,s=lt(),l=s.market,d=s.setMarketAddress,m=function(e){return e.split("/")[0]},p=function(e){return e.split("/")[1]},f=null===(t=xt(i).find((function(e){return(null===l||void 0===l?void 0:l.address)&&e.address.equals(l.address)})))||void 0===t||null===(n=t.address)||void 0===n?void 0:n.toBase58();return a.a.createElement(Ct.a,{showSearch:!0,size:"large",style:{width:200},placeholder:o||"Select a market",optionFilterProp:"name",onSelect:function(e){c(!1),d(e)},listHeight:400,value:f,filterOption:function(e,t){var n;return(null===t||void 0===t||null===(n=t.name)||void 0===n?void 0:n.toLowerCase().indexOf(e.toLowerCase()))>=0}},i&&i.length>0&&a.a.createElement(kr,{label:"Custom"},i.map((function(e,t){var n=e.address,r=e.name;return a.a.createElement(yr,{value:n,key:n,name:r,style:{padding:"10px",backgroundColor:t%2===0?"rgb(39, 44, 61)":null}},a.a.createElement(Pt.a,null,a.a.createElement(qt.a,{flex:"auto"},r),f!==n&&a.a.createElement(qt.a,null,a.a.createElement(yn.a,{onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),u&&u(n)}}))))}))),a.a.createElement(kr,{label:"Markets"},r.sort((function(e,t){return"USDT"===p(e.name)&&"USDT"!==p(t.name)?-1:"USDT"!==p(e.name)&&"USDT"===p(t.name)?1:0})).sort((function(e,t){return m(e.name)<m(t.name)?-1:m(e.name)>m(t.name)?1:0})).map((function(e,t){var n=e.address,r=e.name,o=e.deprecated;return a.a.createElement(yr,{value:n.toBase58(),key:n,name:r,style:{padding:"10px",backgroundColor:t%2===0?"rgb(39, 44, 61)":null}},r," ",o?" (Deprecated)":null)}))))}var Or=function(e){var t=e.switchToLiveMarkets;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt.a,null,a.a.createElement(qt.a,{flex:"auto"},a.a.createElement(dr,{switchToLiveMarkets:t}))))},Sr=function(e){var t=e.onChangeOrderRef,n=e.onPrice,r=e.onSize;return a.a.createElement(Pt.a,{style:{minHeight:"900px",flexWrap:"nowrap"}},a.a.createElement(qt.a,{flex:"auto",style:{height:"100%",display:"flex"}},a.a.createElement(jn,null)),a.a.createElement(qt.a,{flex:"360px",style:{height:"100%"}},a.a.createElement(ln,{smallScreen:!1,onPrice:n,onSize:r}),a.a.createElement(rr,{smallScreen:!1})),a.a.createElement(qt.a,{flex:"400px",style:{height:"100%",display:"flex",flexDirection:"column"}},a.a.createElement(Zn,{setChangeOrderRef:t}),a.a.createElement(qn,null)))},Tr=function(e){var t=e.onChangeOrderRef,n=e.onPrice,r=e.onSize;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt.a,{style:{height:"900px"}},a.a.createElement(qt.a,{flex:"auto",style:{height:"100%",display:"flex"}},a.a.createElement(ln,{smallScreen:!0,depth:13,onPrice:n,onSize:r})),a.a.createElement(qt.a,{flex:"auto",style:{height:"100%",display:"flex"}},a.a.createElement(rr,{smallScreen:!0})),a.a.createElement(qt.a,{flex:"400px",style:{height:"100%",display:"flex",flexDirection:"column"}},a.a.createElement(Zn,{setChangeOrderRef:t}),a.a.createElement(qn,null))),a.a.createElement(Pt.a,null,a.a.createElement(qt.a,{flex:"auto"},a.a.createElement(jn,null))))},xr=function(e){var t=e.onChangeOrderRef,n=e.onPrice,r=e.onSize;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt.a,null,a.a.createElement(qt.a,{xs:24,sm:12,style:{height:"100%",display:"flex"}},a.a.createElement(Zn,{style:{flex:1},setChangeOrderRef:t})),a.a.createElement(qt.a,{xs:24,sm:12},a.a.createElement(qn,null))),a.a.createElement(Pt.a,{style:{height:"500px"}},a.a.createElement(qt.a,{xs:24,sm:12,style:{height:"100%",display:"flex"}},a.a.createElement(ln,{smallScreen:!0,onPrice:n,onSize:r})),a.a.createElement(qt.a,{xs:24,sm:12,style:{height:"100%",display:"flex"}},a.a.createElement(rr,{smallScreen:!0}))),a.a.createElement(Pt.a,null,a.a.createElement(qt.a,{flex:"auto"},a.a.createElement(jn,null))))};function Ar(){var e=function(){var e,t=J(),n=ie().connected,r=Ot(),a=Object(l.a)(r,2),o=a[0],c=a[1],i=nt(lt().customMarkets),m=Object(l.a)(i,2),p=m[0],f=m[1],b={},v=Object(d.a)(o||[]);try{for(v.s();!(e=v.n()).done;){var h=e.value,y=h.market.toBase58();y in b||(b[y]=[]),b[y].push(h)}}catch(S){v.e(S)}finally{v.f()}var k=Object.fromEntries((p||[]).map((function(e){return[e.market.publicKey.toBase58(),e]}))),g=function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Object.keys(b).map(function(){var e=Object(s.a)(u.a.mark((function e(n){var r,a,o,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k[n].market,e.next=3,Promise.all([r.loadBids(t),r.loadAsks(t)]);case 3:return a=e.sent,o=Object(l.a)(a,2),c=o[0],i=o[1],e.abrupt("return",{orders:r.filterForOpenOrders(c,i,b[n]),marketAddress:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=Object(C.a)("getAllOpenOrders",c,(o||[]).length,t,n,f),w=L(g,E,{refreshInterval:ot}),O=Object(l.a)(w,2);return{openOrders:O[0],loaded:O[1],refreshOpenOrders:function(){return B(E)}}}(),t=e.openOrders,n=e.loaded,r=e.refreshOpenOrders,o=lt().customMarkets,c=xt(o),i=Object.fromEntries(c.map((function(e){return[e.address.toBase58(),e.name]}))),m=nt(o),p=Object(l.a)(m,1)[0],f=Object.fromEntries((p||[]).map((function(e){return[e.market.address.toBase58(),e.market]}))),b=(t||[]).map((function(e){return e.orders.map((function(t){return Object(G.a)({marketName:i[e.marketAddress],market:f[e.marketAddress]},t)}))})).flat();return a.a.createElement(Yt,{style:{flex:1,paddingTop:10}},a.a.createElement(Kt.a,{onClick:r,loading:!n},"Refresh"),a.a.createElement(En,{openOrders:b,pageSize:25,loading:!n,onCancelSuccess:r,marketFilter:!0}))}function jr(e){var t=e.walletBalances,n=J(),o=ie(),c=o.wallet,i=o.connected,d=st(),m=Object(l.a)(d,1)[0],p=ht(),f=Object(l.a)(p,2),b=f[0],v=f[1],h=nt(lt().customMarkets),y=Object(l.a)(h,2),k=y[0],g=y[1],E=Object(r.useState)(!1),w=Object(l.a)(E,2),O=w[0],S=w[1];function T(){return(T=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(!0),e.prev=1,b&&v){e.next=5;break}return re({message:"Error settling funds",description:"TokenAccounts not connected",type:"error"}),e.abrupt("return");case 5:if(k&&g){e.next=8;break}return re({message:"Error settling funds",description:"Markets not connected",type:"error"}),e.abrupt("return");case 8:return e.next=10,ye({connection:n,tokenAccounts:b,selectedTokenAccounts:m,wallet:c,markets:k.map((function(e){return e.market}))});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),re({message:"Error settling funds",description:e.t0.message,type:"error"});case 15:return e.prev=15,S(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})))).apply(this,arguments)}var x=[{title:"Coin",dataIndex:"coin",key:"coin",width:"20%"},{title:"Wallet Balance",dataIndex:"walletBalance",key:"walletBalance",width:"20%"},{title:"Open orders total balances",dataIndex:"openOrdersTotal",key:"openOrdersTotal",width:"20%"},{title:"Unsettled balances",dataIndex:"openOrdersFree",key:"openOrdersFree",width:"20%"},{title:"Selected token account",key:"selectTokenAccount",width:"20%",render:function(e){return a.a.createElement(Pt.a,{align:"middle",style:{width:"430px"}},a.a.createElement(zn,{accounts:null===b||void 0===b?void 0:b.filter((function(t){return t.effectiveMint.toBase58()===e.mint})),mint:e.mint}))}}];return a.a.createElement(a.a.Fragment,null,a.a.createElement(bn,{emptyLabel:"No balances",dataSource:t,columns:x,pagination:!1}),i&&a.a.createElement(Kt.a,{onClick:function(){return T.apply(this,arguments)},loading:O},"Settle all funds"))}var Ir=wn.a.TabPane;function Dr(){var e=function(){var e=ht(),t=Object(l.a)(e,1)[0],n=ie().connected,r=$e(),a=Object(l.a)(r,2),o=a[0],c=a[1];if(!n||!c)return[];var i,u={},s=Object(d.a)(t||[]);try{for(s.s();!(i=s.n()).done;){var m=i.value;if(m.account){var p=void 0;(p=m.effectiveMint.equals(de.WRAPPED_SOL_MINT)?{mint:de.WRAPPED_SOL_MINT,owner:m.pubkey,amount:m.account.lamports}:Je(m.account.data)).mint.toBase58()in u||(u[p.mint.toBase58()]=0);var b=o&&o[p.mint.toBase58()],v=w(new f.a(p.amount),O((null===b||void 0===b?void 0:b.decimals)||0));u[p.mint.toBase58()]+=v}}}catch(h){s.e(h)}finally{s.f()}return Object.entries(u).map((function(e){var t=Object(l.a)(e,2);return{mint:t[0],balance:t[1]}}))}(),t=function(){var e,t=lt().customMarkets,n=nt(t),r=Object(l.a)(n,1)[0],a=Object.fromEntries(H.TOKEN_MINTS.map((function(e){return[e.address.toBase58(),e.name]}))),o=Object(d.a)(r||[]);try{var c=function(){var n=e.value,r=t.find((function(e){return e.address===n.market.address.toBase58()}));n.market.baseMintAddress.toBase58()in a||r&&(a[n.market.baseMintAddress.toBase58()]=r.baseLabel||"".concat(r.name,"_BASE")),n.market.quoteMintAddress.toBase58()in a||r&&(a[n.market.quoteMintAddress.toBase58()]=r.quoteLabel||"".concat(r.name,"_QUOTE"))};for(o.s();!(e=o.n()).done;)c()}catch(i){o.e(i)}finally{o.f()}return a}(),n=function(){var e=Ot(),t=Object(l.a)(e,2),n=t[0],r=t[1],a=$e(),o=Object(l.a)(a,2),c=o[0],i=o[1],u=nt(lt().customMarkets),s=Object(l.a)(u,1)[0];if(!r||!i)return{};var m,p=Object.fromEntries((s||[]).map((function(e){return[e.market.address.toBase58(),e]}))),b={},v=Object(d.a)(n||[]);try{for(v.s();!(m=v.n()).done;){var h=m.value,y=p[h.market.toBase58()],k=null===y||void 0===y?void 0:y.market.baseMintAddress.toBase58(),g=null===y||void 0===y?void 0:y.market.quoteMintAddress.toBase58();k in b||(b[k]=[]),g in b||(b[g]=[]);var E=c&&c[k],S=w(new f.a(h.baseTokenFree),O((null===E||void 0===E?void 0:E.decimals)||0)),T=w(new f.a(h.baseTokenTotal),O((null===E||void 0===E?void 0:E.decimals)||0)),x=c&&c[g],A=w(new f.a(h.quoteTokenFree),O((null===x||void 0===x?void 0:x.decimals)||0)),j=w(new f.a(h.quoteTokenTotal),O((null===x||void 0===x?void 0:x.decimals)||0));b[k].push({market:h.market,free:S,total:T}),b[g].push({market:h.market,free:A,total:j})}}catch(I){v.e(I)}finally{v.f()}return b}(),r=(e||[]).map((function(e){var r,a={coin:t[e.mint],mint:e.mint,walletBalance:e.balance,openOrdersFree:0,openOrdersTotal:0},o=Object(d.a)(n[e.mint]||[]);try{for(o.s();!(r=o.n()).done;){var c=r.value;a.openOrdersFree+=c.free,a.openOrdersTotal+=c.total}}catch(i){o.e(i)}finally{o.f()}return a}));return a.a.createElement(Yt,{style:{flex:1,paddingTop:10}},a.a.createElement(wn.a,{defaultActiveKey:"walletBalances"},a.a.createElement(Ir,{tab:"Wallet Balances",key:"walletBalances"},a.a.createElement(jr,{walletBalances:r}))))}var Mr=n(685);function Rr(){var e,t=ie(),n=t.connected,r=t.wallet,o=null===r||void 0===r||null===(e=r.publicKey)||void 0===e?void 0:e.toBase58();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Kt.a,{type:"text",size:"large",onClick:n?r.disconnect:r.connect,style:{color:"#2abdd2"}},a.a.createElement(Mr.a,null),n?"Disconnect":"Connect wallet"),n&&a.a.createElement(Wt.a,{content:a.a.createElement(or,{address:o}),placement:"bottomRight",title:"Wallet public key",trigger:"click"},a.a.createElement(mr.a,{style:{color:"#2abdd2"}})))}var Nr=n(686);function Ur(){var e=Object(It.a)(["\n  background: #02bf76;\n  border-color: #02bf76;\n"]);return Ur=function(){return e},e}function zr(){var e=Object(It.a)(["\n  color: #2abdd2;\n  background-color: #212734;\n  border-width: 0px;\n"]);return zr=function(){return e},e}var _r=Ct.a.Option,Fr=_t.a.Title,Lr=Object(Dt.c)(Kt.a)(zr()),Br=Object(Dt.c)(Kt.a)(Ur());function Cr(){var e=ie(),t=e.connected,n=e.wallet,o=lt().customMarkets,c=xt(o),i=lt(),u=i.market,s=i.setMarketAddress,d=Object(r.useState)(void 0),m=Object(l.a)(d,2),p=m[0],f=m[1],b=Object(r.useState)(void 0),v=Object(l.a)(b,2),h=v[0],y=v[1],k=Object(r.useState)(void 0),g=Object(l.a)(k,2),E=g[0],w=g[1],O=Object.fromEntries(c.map((function(e){return[e.name,e]}))),S=new Map;Object.keys(O).forEach((function(e){var t=e.split("/"),n=Object(l.a)(t,2),r=n[0],a=n[1];S.has(r)?S.set(r,new Set([].concat(Object(j.a)(S.get(r)||[]),[a]))):S.set(r,new Set([a])),S.has(a)?S.set(a,new Set([].concat(Object(j.a)(S.get(a)||[]),[r]))):S.set(a,new Set([r]))}));return a.a.createElement(Yt,{style:{maxWidth:500}},a.a.createElement(Fr,{level:3},"Convert"),!t&&a.a.createElement(Pt.a,{justify:"center"},a.a.createElement(qt.a,null,a.a.createElement(Rr,null))),S&&t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt.a,{style:{marginBottom:8}},a.a.createElement(qt.a,null,a.a.createElement(Ct.a,{style:{minWidth:300},placeholder:"Select a token",value:p,onChange:function(e){f(e),y(void 0)}},Array.from(S.keys()).map((function(e){return a.a.createElement(_r,{value:e,key:e},e)}))))),p&&a.a.createElement(Pt.a,{style:{marginBottom:8}},a.a.createElement(qt.a,null,a.a.createElement(Ct.a,{style:{minWidth:300},value:h,onChange:function(e){var t=c.filter((function(e){return!e.deprecated})).find((function(t){return t.name==="".concat(p,"/").concat(e)||t.name==="".concat(e,"/").concat(p)}));if(!t)return console.warn("Could not find market info for market names ".concat(p,"/").concat(e," or ").concat(e,"/").concat(p)),void re({message:"Invalid market",type:"error"});s(t.address.toBase58()),y(e)}},Object(j.a)(S.get(p)||[]).map((function(e){return a.a.createElement(_r,{value:e,key:e},e)}))))),p&&h&&a.a.createElement(Pr,{size:E,setSize:w,fromToken:p,toToken:h,wallet:n,market:u,customMarkets:o})))}function Pr(e){var t=e.size,n=e.setSize,o=e.fromToken,c=e.toToken,i=e.wallet,d=e.market,m=e.customMarkets,p=ht(),f=Object(l.a)(p,1)[0],b=St(),v=Object(r.useState)(),h=Object(l.a)(v,2),y=h[0],g=h[1],w=Object(r.useState)(),O=Object(l.a)(w,2),S=O[0],T=O[1],x=J(),A=Q(),j=Object(r.useState)(!1),I=Object(l.a)(j,2),D=I[0],M=I[1],R=function(e){var t=it(e,m).marketName;if(!t)throw Error("Cannot determine if coin is quote or base because marketName is missing");var n=t.split("/"),r=Object(l.a)(n,1)[0];return o===r},N=function(){var e=Object(s.a)(u.a.mark((function e(){var n,r,a,o,c,s,m,p,b,v,h,y;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=4;break}return console.warn("Market is null when attempting convert."),re({message:"Invalid market",type:"error"}),e.abrupt("return");case 4:n=yt(f,null===d||void 0===d?void 0:d.baseMintAddress),r=yt(f,null===d||void 0===d?void 0:d.quoteMintAddress),e.prev=6,a=R(d)?"sell":"buy",e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(6),console.warn(e.t0),re({message:"Error placing order",description:e.t0.message,type:"error"}),e.abrupt("return");case 15:return o="buy"===a?d._decoded.asks:d._decoded.bids,e.next=18,x.getAccountInfo(o);case 18:if(null===(c=e.sent)||void 0===c?void 0:c.data){e.next=22;break}return re({message:"Invalid orderbook data",type:"error"}),e.abrupt("return");case 22:if(s=H.Orderbook.decode(d,c.data),m=s&&s.getL2(1).map((function(e){return Object(l.a)(e,1)[0]})),p=Object(l.a)(m,1),p[0]){e.next=27;break}return re({message:"No best price found",type:"error"}),e.abrupt("return");case 27:if(t){e.next=30;break}return re({message:"Size not specified",type:"error"}),e.abrupt("return");case 30:return b=E(d.tickSize),v=At(s,t,b),h=E(d.minOrderSize),y=k("sell"===a?t:t/v,h),M(!0),e.prev=36,e.next=39,Se({side:a,price:v,size:y,orderType:"ioc",market:d,connection:A,wallet:i,baseCurrencyAccount:null===n||void 0===n?void 0:n.pubkey,quoteCurrencyAccount:null===r||void 0===r?void 0:r.pubkey});case 39:e.next=45;break;case 41:e.prev=41,e.t1=e.catch(36),console.warn(e.t1),re({message:"Error placing order",description:e.t1.message,type:"error"});case 45:return e.prev=45,M(!1),e.finish(45);case 48:case"end":return e.stop()}}),e,null,[[6,10],[36,41,45,48]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(s.a)(u.a.mark((function e(){var n,r,a,o,c,i,s,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=R(d)?"sell":"buy",r="buy"===n?d._decoded.asks:d._decoded.bids,e.next=5,x.getAccountInfo(r);case 5:if((null===(a=e.sent)||void 0===a?void 0:a.data)&&d){e.next=8;break}return e.abrupt("return",[null,null]);case 8:if(o=H.Orderbook.decode(d,a.data),c=o&&o.getL2(1).map((function(e){return Object(l.a)(e,1)[0]})),i=Object(l.a)(c,1),i[0]&&t){e.next=12;break}return e.abrupt("return",[null,null]);case 12:if(s=E(d.tickSize),m=jt(o,t,s),"buy"!==n){e.next=18;break}return e.abrupt("return",[m.toFixed(6),1]);case 18:return e.abrupt("return",[1,m.toFixed(6)]);case 19:e.next=25;break;case 21:return e.prev=21,e.t0=e.catch(0),console.log("Got error ".concat(e.t0)),e.abrupt("return",[null,null]);case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){U().then((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];g(n||void 0),T(r||void 0)}))}),[null===d||void 0===d?void 0:d.address.toBase58(),t]);var z=d&&t&&t>0,_=b.find((function(e){return e.coin===o})),F=.99*(((null===_||void 0===_?void 0:_.unsettled)||0)+((null===_||void 0===_?void 0:_.wallet)||0));return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pt.a,{style:{marginBottom:8}},a.a.createElement(qt.a,null,a.a.createElement(Kn.a,{style:{minWidth:300},addonBefore:"Size (".concat(o,")"),placeholder:"Size",value:null===t?void 0:t,type:"number",onChange:function(e){return n(parseFloat(e.target.value)||void 0)}}))),a.a.createElement(Pt.a,{gutter:12,style:{marginBottom:8}},a.a.createElement(qt.a,{span:12},a.a.createElement(Lr,{block:!0,size:"large",onClick:function(){return n(k(F,4))}},"Max: ",F.toFixed(4))),a.a.createElement(qt.a,{span:12},a.a.createElement(Br,{block:!0,type:"primary",size:"large",loading:D,onClick:N,disabled:!z},"Convert"))),z&&a.a.createElement(Pt.a,{align:"middle",justify:"center"},a.a.createElement(qt.a,null,y," ",o),a.a.createElement(qt.a,{offset:1},a.a.createElement(Nr.a,null)),a.a.createElement(qt.a,{offset:1},S," ",c)))}function qr(){var e=Object(It.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 16px 16px;\n  .borderNone .ant-select-selector {\n    border: none !important;\n  }\n"]);return qr=function(){return e},e}var Wr=Dt.c.div(qr());function Kr(){return a.a.createElement(Wr,{style:{flex:1,paddingTop:10}},a.a.createElement(Pt.a,{justify:"center"},a.a.createElement(qt.a,null,a.a.createElement(Cr,null))))}var Jr=n(666),Qr=n(687),Xr=n(111),Yr=n(355),Vr=n.n(Yr),Gr=a.a.createContext(null);function Hr(e){var t=e.children,n=x("autoSettleEnabled",!0),r=Object(l.a)(n,2),o=r[0],c=r[1],i=ht(),d=Object(l.a)(i,1)[0],m=ie(),p=m.connected,f=m.wallet,b=nt(lt().customMarkets),v=Object(l.a)(b,1)[0],h=J(),y=st(),k=Object(l.a)(y,1)[0];return Jt((function(){var e=function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(v||[]).map((function(e){return e.market})),e.prev=1,console.log("Auto settling"),e.next=5,ye({connection:h,wallet:f,tokenAccounts:d||[],markets:t,selectedTokenAccounts:k});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("Error auto settling funds: "+e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();p&&(null===f||void 0===f?void 0:f.autoApprove)&&o&&e()}),1e4),a.a.createElement(Gr.Provider,{value:{autoSettleEnabled:o,setAutoSettleEnabled:c}},t)}var Zr=_t.a.Paragraph;function $r(e){var t=e.autoApprove,n=function(){var e=Object(r.useContext)(Gr);if(!e)throw new Error("Missing preferences context");return{autoSettleEnabled:e.autoSettleEnabled,setAutoSettleEnabled:e.setAutoSettleEnabled}}(),o=n.autoSettleEnabled,c=n.setAutoSettleEnabled;return a.a.createElement("div",null,a.a.createElement(Qn.a,{style:{marginRight:10},disabled:!t,checked:t&&o,onChange:c})," ","Auto settle",!t&&a.a.createElement(Zr,{style:{color:"rgba(255,255,255,0.5)",marginTop:10}},"To use auto settle, first enable auto approval in your wallet"))}function ea(e){var t=e.visible,n=e.testingConnection,o=e.onAddCustomEndpoint,c=e.onClose,i=Object(r.useState)(""),u=Object(l.a)(i,2),s=u[0],d=u[1],m=Object(r.useState)(""),p=Object(l.a)(m,2),f=p[0],b=p[1],v=function(){d(""),b(""),c&&c()},h=""!==s&&""!==f;return a.a.createElement(Rn.a,{title:"Add custom endpoint",visible:t,onOk:function(){o({name:f,endpoint:"https://"+s,custom:!0}),v()},okText:"Add",onCancel:v,okButtonProps:{disabled:!h,loading:n}},a.a.createElement(Pt.a,{style:{marginBottom:8}},a.a.createElement(qt.a,{span:24},a.a.createElement(Kn.a,{placeholder:"Cluster Name",value:f,onChange:function(e){return b(e.target.value)}}))),a.a.createElement(Pt.a,{style:{marginBottom:8}},a.a.createElement(qt.a,{span:24},a.a.createElement(Kn.a,{placeholder:"Cluster Endpoint",value:s,addonBefore:"https://",onChange:function(e){return d(e.target.value)}}))))}function ta(){var e=Object(It.a)(["\n  display: flex;\n  align-items: center;\n  color: #2abdd2;\n  font-weight: bold;\n  cursor: pointer;\n  img {\n    height: 30px;\n    margin-right: 8px;\n  }\n"]);return ta=function(){return e},e}function na(){var e=Object(It.a)(["\n  background-color: #0d1017;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  padding: 0px 30px;\n  flex-wrap: wrap;\n"]);return na=function(){return e},e}var ra=Dt.c.div(na()),aa=Dt.c.div(ta()),oa={"/learn":"https://serum-academy.com/en/serum-dex/","/add-market":"https://serum-academy.com/en/add-market/","/wallet-support":"https://serum-academy.com/en/wallet-support","/dex-list":"https://serum-academy.com/en/dex-list/","/developer-resources":"https://serum-academy.com/en/developer-resources/","/explorer":"https://explorer.solana.com","/srm-faq":"https://projectserum.com/srm-faq","/swap":"https://swap.projectserum.com"};function ca(){var e=ie(),t=e.connected,n=e.wallet,o=e.providerUrl,c=e.setProvider,i=X(),u=i.endpoint,s=i.endpointInfo,d=i.setEndpoint,p=i.availableEndpoints,f=i.setCustomEndpoints,b=Object(r.useState)(!1),v=Object(l.a)(b,2),h=v[0],y=v[1],k=Object(r.useState)(!1),g=Object(l.a)(k,2),E=g[0],w=g[1],O=Object(Bt.g)(),S=Object(Bt.f)(),T=Object(r.useCallback)((function(e){e.key in oa||S.push(e.key)}),[S]),x=s&&s.custom;return Object(r.useEffect)((function(){var e=function(){x&&d(P[0].endpoint)};return window.addEventListener("beforeunload",e),function(){return window.removeEventListener("beforeunload",e)}}),[x,d]),a.a.createElement(a.a.Fragment,null,a.a.createElement(ea,{visible:h,testingConnection:E,onAddCustomEndpoint:function(e){if(p.some((function(t){return t.endpoint===e.endpoint})))re({message:"An endpoint with the given url already exists",type:"error"});else{var t=function(t){console.log("Connection to ".concat(e.endpoint," failed: ").concat(t)),re({message:"Failed to connect to ".concat(e.endpoint),type:"error"})};try{new m.Connection(e.endpoint,"recent").getEpochInfo().then((function(t){w(!0),console.log("testing connection to ".concat(e.endpoint));var n=[].concat(Object(j.a)(p.filter((function(e){return e.custom}))),[e]);d(e.endpoint),f(n)})).catch(t)}catch(n){t(n)}finally{w(!1)}}},onClose:function(){return y(!1)}}),a.a.createElement(ra,null,a.a.createElement(aa,null,a.a.createElement("img",{src:Vr.a,alt:"",onClick:function(){return S.push("/")}}),"SERUM"),a.a.createElement(Xr.a,{mode:"horizontal",onClick:T,selectedKeys:[O.pathname],style:{borderBottom:"none",backgroundColor:"transparent",display:"flex",alignItems:"flex-end",flex:1}},a.a.createElement(Xr.a.Item,{key:"/"},"TRADE"),a.a.createElement(Xr.a.Item,{key:"/swap"},a.a.createElement("a",{href:oa["/swap"],target:"_blank",rel:"noopener noreferrer"},"SWAP")),t&&a.a.createElement(Xr.a.Item,{key:"/balances"},"BALANCES"),t&&a.a.createElement(Xr.a.Item,{key:"/orders"},"ORDERS"),t&&a.a.createElement(Xr.a.Item,{key:"/convert"},"CONVERT"),a.a.createElement(Xr.a.Item,{key:"/list-new-market"},"ADD MARKET"),a.a.createElement(Xr.a.SubMenu,{title:"LEARN",onTitleClick:function(){return window.open(oa["/learn"],"_blank")}},a.a.createElement(Xr.a.Item,{key:"/add-market"},a.a.createElement("a",{href:oa["/add-market"],target:"_blank",rel:"noopener noreferrer"},"Adding a market")),a.a.createElement(Xr.a.Item,{key:"/wallet-support"},a.a.createElement("a",{href:oa["/wallet-support"],target:"_blank",rel:"noopener noreferrer"},"Supported wallets")),a.a.createElement(Xr.a.Item,{key:"/dex-list"},a.a.createElement("a",{href:oa["/dex-list"],target:"_blank",rel:"noopener noreferrer"},"DEX list")),a.a.createElement(Xr.a.Item,{key:"/developer-resources"},a.a.createElement("a",{href:oa["/developer-resources"],target:"_blank",rel:"noopener noreferrer"},"Developer resources")),a.a.createElement(Xr.a.Item,{key:"/explorer"},a.a.createElement("a",{href:oa["/explorer"],target:"_blank",rel:"noopener noreferrer"},"Solana block explorer")),a.a.createElement(Xr.a.Item,{key:"/srm-faq"},a.a.createElement("a",{href:oa["/srm-faq"],target:"_blank",rel:"noopener noreferrer"},"SRM FAQ")))),a.a.createElement("div",null,a.a.createElement(Pt.a,{align:"middle",style:{paddingLeft:5,paddingRight:5},gutter:16},a.a.createElement(qt.a,null,a.a.createElement(pr.a,{style:{color:"#2abdd2"},onClick:function(){return y(!0)}})),a.a.createElement(qt.a,null,a.a.createElement(Wt.a,{content:u,placement:"bottomRight",title:"URL",trigger:"hover"},a.a.createElement(mr.a,{style:{color:"#2abdd2"}}))),a.a.createElement(qt.a,null,a.a.createElement(Ct.a,{onSelect:d,value:u,style:{marginRight:8,width:"150px"}},p.map((function(e){var t=e.name,n=e.endpoint;return a.a.createElement(Ct.a.Option,{value:n,key:n},t)})))))),t&&a.a.createElement("div",null,a.a.createElement(Wt.a,{content:a.a.createElement($r,{autoApprove:null===n||void 0===n?void 0:n.autoApprove}),placement:"bottomRight",title:"Settings",trigger:"click"},a.a.createElement(Kt.a,{style:{marginRight:8}},a.a.createElement(Qr.a,null),"Settings"))),a.a.createElement("div",null,a.a.createElement(Ct.a,{onSelect:c,value:o},ae.map((function(e){var t=e.name,n=e.url;return a.a.createElement(Ct.a.Option,{value:n,key:n},t)})))),a.a.createElement("div",null,a.a.createElement(Rr,null))))}var ia=n(321),ua="https://discord.gg/EDvudv6",sa="https://t.me/ProjectSerum",la="https://github.com/project-serum",da="https://projectserum.com/",ma="https://projectserum.com/developer-resources",pa="https://solanabeach.io",fa=Jr.a.Footer,ba=ia.a.useBreakpoint,va=[{description:"Serum Developer Resources",link:ma},{description:"Discord",link:ua},{description:"Telegram",link:sa},{description:"GitHub",link:la},{description:"Project Serum",link:da},{description:"Solana Network",link:pa}],ha=function(){var e=!ba().lg;return a.a.createElement(fa,{style:{height:"45px",paddingBottom:10,paddingTop:10}},a.a.createElement(Pt.a,{align:"middle",gutter:[16,4]},!e&&a.a.createElement(a.a.Fragment,null,a.a.createElement(qt.a,{flex:"auto"}),va.map((function(e,t){return a.a.createElement(qt.a,{key:t+""},a.a.createElement(ne,{external:!0,to:e.link},e.description))}))),a.a.createElement(qt.a,{flex:"auto"})))},ya=Jr.a.Header,ka=Jr.a.Content;function ga(e){var t=e.children;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Jr.a,{style:{display:"flex",minHeight:"100vh",flexDirection:"column"}},a.a.createElement(ya,{style:{padding:0,minHeight:64,height:"unset"}},a.a.createElement(ca,null)),a.a.createElement(ka,{style:{flex:1}},t),a.a.createElement(ha,null)))}var Ea=n(670),wa=n(89);function Oa(e,t,n){var o=Object(r.useState)(""),c=Object(l.a)(o,2),i=c[0],u=c[1],s=Y(b(i)?new m.PublicKey(i):null),d=Object(l.a)(s,2),p=d[0],f=d[1],v=Object(r.useMemo)((function(){var e="",t=!1,n=null,r=null;if(i)if(t=!0,p)if(p.owner.equals(H.TokenInstructions.TOKEN_PROGRAM_ID)&&82===p.data.length){var a=Qe(p.data);a.initialized?(e="success",r={address:new m.PublicKey(i),decimals:a.decimals}):(e="error",n="Invalid SPL mint")}else e="error",n="Invalid SPL mint address";else b(i)&&!f?e="validating":(e="error",n="Invalid Solana address");return{validateStatus:e,hasFeedback:t,help:n,mintInfo:r}}),[i,p,f]),h=v.validateStatus,y=v.hasFeedback,k=v.help,g=v.mintInfo;return[a.a.createElement(Ea.a.Item,{label:a.a.createElement(wa.a,{title:a.a.createElement(a.a.Fragment,null,n," You can look up token mint addresses on"," ",a.a.createElement(ne,{external:!0,to:"https://sollet.io"},"sollet.io"),".")},t),name:e,validateStatus:h,hasFeedback:y,help:k},a.a.createElement(Kn.a,{value:i,onChange:function(e){return u(e.target.value.trim())}})),g]}function Sa(){var e=Object(It.a)(["\n  max-width: 800px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 24px;\n  margin-bottom: 24px;\n"]);return Sa=function(){return e},e}var Ta=_t.a.Text,xa=_t.a.Title,Aa=Dt.c.div(Sa());function ja(){var e,t,n=J(),o=ie(),c=o.wallet,i=o.connected,d=Oa("baseMint",a.a.createElement(Ta,null,"Base Token Mint Address"," ",a.a.createElement(Ta,{type:"secondary"},"(e.g. BTC solana address:"," ",a.a.createElement(Ta,{type:"secondary",code:!0},"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E"),")")),"The base token is the token being traded. For example, the base token of a BTC/USDT market is BTC."),m=Object(l.a)(d,2),p=m[0],f=m[1],b=Oa("quoteMint",a.a.createElement(Ta,null,"Quote Token Mint Address"," ",a.a.createElement(Ta,{type:"secondary"},"(e.g. USDT solana address:"," ",a.a.createElement(Ta,{type:"secondary",code:!0},"BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4"),")")),"The quote token is the token used to price trades. For example, the quote token of a BTC/USDT market is USDT."),v=Object(l.a)(b,2),h=v[0],y=v[1],k=Object(r.useState)("1"),g=Object(l.a)(k,2),E=g[0],w=g[1],O=Object(r.useState)("0.01"),S=Object(l.a)(O,2),T=S[0],x=S[1],A=H.MARKETS.find((function(e){return!e.deprecated})).programId,j=Object(r.useState)(!1),I=Object(l.a)(j,2),D=I[0],M=I[1],R=Object(r.useState)(null),N=Object(l.a)(R,2),U=N[0],z=N[1];f&&parseFloat(E)>0&&(e=Math.round(Math.pow(10,f.decimals)*parseFloat(E)),y&&parseFloat(T)>0&&(t=Math.round(parseFloat(E)*Math.pow(10,y.decimals)*parseFloat(T))));var _=i&&!!f&&!!y&&!!e&&!!t;function F(){return(F=Object(s.a)(u.a.mark((function r(){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(_){r.next=2;break}return r.abrupt("return");case 2:return M(!0),r.prev=3,r.next=6,xe({connection:n,wallet:c,baseMint:f.address,quoteMint:y.address,baseLotSize:e,quoteLotSize:t,dexProgramId:A});case 6:a=r.sent,z(a),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(3),console.warn(r.t0),re({message:"Error listing new market: "+r.t0.message,type:"error"});case 14:return r.prev=14,M(!1),r.finish(14);case 17:case"end":return r.stop()}}),r,null,[[3,10,14,17]])})))).apply(this,arguments)}return a.a.createElement(Aa,null,a.a.createElement(Yt,null,a.a.createElement(xa,{level:4},"List New Market"),a.a.createElement(Ea.a,{labelCol:{span:24},wrapperCol:{span:24},layout:"vertical",onFinish:function(){return F.apply(this,arguments)}},p,h,a.a.createElement(Ea.a.Item,{label:a.a.createElement(wa.a,{title:"Smallest allowed order size. For a BTC/USDT market, this would be in units of BTC."},"Minimum Order Size"," ",a.a.createElement(Ta,{type:"secondary"},"(Lot size in e.g. BTC)")),name:"lotSize",initialValue:"1",validateStatus:f&&y?e?"success":"error":null,hasFeedback:f&&y},a.a.createElement(Kn.a,{value:E,onChange:function(e){return w(e.target.value.trim())},type:"number",min:"0",step:"any"})),a.a.createElement(Ea.a.Item,{label:a.a.createElement(wa.a,{title:"Smallest amount by which prices can move. For a BTC/USDT market, this would be in units of USDT."},"Tick Size"," ",a.a.createElement(Ta,{type:"secondary"},"(Price increment in e.g. USDT)")),name:"tickSize",initialValue:"0.01",validateStatus:f&&y?t?"success":"error":null,hasFeedback:f&&y},a.a.createElement(Kn.a,{value:T,onChange:function(e){return x(e.target.value.trim())},type:"number",min:"0",step:"any"})),a.a.createElement(Ea.a.Item,{label:" ",colon:!1},a.a.createElement(Kt.a,{type:"primary",htmlType:"submit",disabled:!_,loading:D},i?"Submit":"Not connected to wallet")))),U?a.a.createElement(Yt,null,a.a.createElement(Ta,null,"New market address: ",U.toBase58())):null)}var Ia=n(102);function Da(){var e=Object(It.a)(["\n  margin-top: 16px;\n  margin-bottom: 16px;\n"]);return Da=function(){return e},e}function Ma(){var e=Object(It.a)(["\n  max-width: 800px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 24px;\n  margin-bottom: 24px;\n"]);return Ma=function(){return e},e}var Ra=_t.a.Text,Na=_t.a.Title,Ua=Dt.c.div(Ma()),za=Dt.c.div(Da()),_a="8qZoqDMXTfLZz6BYrDfD5Cuy65JKkaNwktb54hj1yaoK";function Fa(){var e=J(),t=ie(),n=t.wallet,o=t.connected,c=Object(r.useState)(""),i=Object(l.a)(c,2),p=i[0],b=i[1],v=Object(r.useState)(_a),h=Object(l.a)(v,2),y=h[0],k=h[1],g=Object(r.useState)("1"),E=Object(l.a)(g,2),w=E[0],O=E[1],S=Object(r.useState)([{valid:!1},{valid:!1}]),T=Object(l.a)(S,2),x=T[0],A=T[1],j=ht(),I=Object(l.a)(j,1)[0],D=Object(r.useState)(!1),M=Object(l.a)(D,2),R=M[0],N=M[1],U=Object(r.useState)(null),z=Object(l.a)(U,2),_=z[0],F=z[1],L=o&&p.trim()&&y&&parseFloat(w)>0&&x.every((function(e){return e.valid}))&&I;function B(){return(B=Object(s.a)(u.a.mark((function t(){var r,a,o,c,i,s,b,v,h;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(L){t.next=2;break}return t.abrupt("return");case 2:return N(!0),t.prev=3,r=x,t.next=7,Ia.PoolTransactions.initializeSimplePool({connection:e,programId:new m.PublicKey(y),poolName:p,poolStateSpace:1024,poolMintDecimals:6,initialPoolMintSupply:new f.a(Math.round(Math.pow(10,6)*parseFloat(w))),assetMints:r.map((function(e){return e.mint})),initialAssetQuantities:r.map((function(e){return new f.a(e.quantity)})),creator:n.publicKey,creatorAssets:r.map((function(e){var t=null===I||void 0===I?void 0:I.find((function(t){return t.effectiveMint.equals(e.mint)}));if(!t)throw new Error("No token account for "+e.mint.toBase58());return t.pubkey}))});case 7:return a=t.sent,o=Object(l.a)(a,2),c=o[0],i=o[1],t.next=13,Promise.all(i.map((function(t){var r=t.transaction,a=t.signers;return Me({transaction:r,wallet:n,signers:a,connection:e})})));case 13:s=t.sent,b=Object(d.a)(s),t.prev=15,b.s();case 17:if((v=b.n()).done){t.next=23;break}return h=v.value,t.next=21,Ne({signedTransaction:h,connection:e});case 21:t.next=17;break;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(15),b.e(t.t0);case 28:return t.prev=28,b.f(),t.finish(28);case 31:F(c),t.next=38;break;case 34:t.prev=34,t.t1=t.catch(3),console.warn(t.t1),re({message:"Error creating new pool: "+t.t1.message,type:"error"});case 38:return t.prev=38,N(!1),t.finish(38);case 41:case"end":return t.stop()}}),t,null,[[3,34,38,41],[15,25,28,31]])})))).apply(this,arguments)}return a.a.createElement(Ua,null,a.a.createElement(Yt,null,a.a.createElement(Na,{level:4},"Create new pool"),a.a.createElement(Ea.a,{layout:"vertical",onFinish:function(){return B.apply(this,arguments)}},a.a.createElement(Ea.a.Item,{label:a.a.createElement(wa.a,{title:"Public name of the pool."},"Pool Name"),name:"name"},a.a.createElement(Kn.a,{value:p,onChange:function(e){return b(e.target.value)}})),a.a.createElement(Ea.a.Item,{label:a.a.createElement(wa.a,{title:"Address of the pool program."},"Program ID"," ",a.a.createElement(Ra,{type:"secondary"},"(e.g. ",_a,")")),name:"programId",initialValue:_a},a.a.createElement(Kn.a,{value:y,onChange:function(e){return k(e.target.value)}})),a.a.createElement(Ea.a.Item,{label:a.a.createElement(wa.a,{title:"Initial number of pool tokens to mint to your account."},"Initial Pool Token Supply"),name:"initialSupply",initialValue:"1"},a.a.createElement(Kn.a,{value:w,onChange:function(e){return O(e.target.value.trim())},type:"number",min:"0",step:"any"})),a.a.createElement(za,null,a.a.createElement(Kt.a,{onClick:function(){return A((function(e){return e.concat({valid:!1})}))}},"Add token")," ",a.a.createElement(Kt.a,{onClick:function(){return A((function(e){return e.slice(0,e.length-1)}))},disabled:x.length<=1},"Remove token")),x.map((function(e,t){return a.a.createElement(La,{setInitialAssets:A,index:t,key:t})})),a.a.createElement(Ea.a.Item,{label:" ",colon:!1},a.a.createElement(Kt.a,{type:"primary",htmlType:"submit",disabled:!L,loading:R},o?"Submit":"Not connected to wallet")))),_?a.a.createElement(Yt,null,a.a.createElement(Ra,null,"New pool address:"," ",a.a.createElement(ne,{to:"/pools/".concat(_.toBase58())},_.toBase58()))):null)}function La(e){var t=e.setInitialAssets,n=e.index,o=Oa("mint".concat(n),a.a.createElement(Ra,null,"Token ",n+1," Mint Address"),a.a.createElement(a.a.Fragment,null,"Token mint address for token ",n+1,".")),c=Object(l.a)(o,2),i=c[0],u=c[1],s=Object(r.useState)(""),d=Object(l.a)(s,2),m=d[0],p=d[1];return Object(r.useEffect)((function(){var e;if(u&&parseFloat(m)>=0){var r=Math.round(Math.pow(10,u.decimals)*parseFloat(m));e={mint:u.address,quantity:r,valid:!0}}else e={valid:!1};t((function(t){return t.map((function(t,r){return r===n?e:t}))}))}),[t,n,u,m]),a.a.createElement(a.a.Fragment,null,i,a.a.createElement(Ea.a.Item,{label:a.a.createElement(wa.a,{title:a.a.createElement(a.a.Fragment,null,"Initial quantity of token ",n+1," to deposit into the pool.")},"Token ",n+1," Initial Quantity"),name:"quantity".concat(n),validateStatus:"success"},a.a.createElement(Kn.a,{value:m,onChange:function(e){return p(e.target.value.trim())},type:"number",min:"0",step:"any"})))}var Ba=n(673);function Ca(e){var t=e.poolInfo,n=e.basket;return a.a.createElement("ul",null,t.state.assets.map((function(e,t){return a.a.createElement(Pa,{key:t,mint:e.mint,quantity:n.quantities[t]})})))}function Pa(e){var t=e.mint,n=e.quantity,r=Y(t),o=Object(l.a)(r,1)[0],c=a.a.createElement(Nt.a,{size:"small"});if(o){var i=Qe(o.data);c=a.a.createElement(a.a.Fragment,null,n.toNumber()/Math.pow(10,i.decimals))}return a.a.createElement("li",null,c," ",t.toBase58())}var qa=_t.a.Text,Wa=_t.a.Paragraph;function Ka(e){var t=e.poolInfo,n=e.mintInfo,r=J(),o=L((function(){return Object(Ia.getPoolBasket)(r,t,{redeem:n.supply})}),Object(C.a)(Ia.getPoolBasket,r,t.address.toBase58(),"total",n.supply.toString())),c=Object(l.a)(o,1)[0];return a.a.createElement(Yt,{stretchVertical:!0},a.a.createElement(Wa,null,"Name: ",t.state.name),a.a.createElement(Wa,null,"Address: ",a.a.createElement(qa,{copyable:!0},t.address.toBase58())),a.a.createElement(Wa,null,"Pool token mint address:"," ",a.a.createElement(qa,{copyable:!0},t.state.poolTokenMint.toBase58())),a.a.createElement(Wa,null,"Total supply: ",n.supply.toNumber()/Math.pow(10,n.decimals)),a.a.createElement(qa,null,"Total assets:"),a.a.createElement("div",null,c?a.a.createElement(Ca,{poolInfo:t,basket:c}):a.a.createElement(Nt.a,null)))}var Ja=_t.a.Text,Qa=wn.a.TabPane;function Xa(e){var t=e.poolInfo,n=e.mintInfo;return a.a.createElement(Yt,{stretchVertical:!0},a.a.createElement(wn.a,null,a.a.createElement(Qa,{tab:"Create",key:"create"},a.a.createElement(Ya,{poolInfo:t,mintInfo:n,tab:"create"})),a.a.createElement(Qa,{tab:"Redeem",key:"redeem"},a.a.createElement(Ya,{poolInfo:t,mintInfo:n,tab:"redeem"}))))}function Ya(e){var t=e.poolInfo,n=e.mintInfo,o=e.tab,c=J(),i=ie(),d=i.wallet,m=i.connected,p=Object(r.useState)(""),b=Object(l.a)(p,2),v=b[0],h=b[1],y=ht(),k=Object(l.a)(y,1)[0],g=Object(r.useState)(!1),E=Object(l.a)(g,2),w=E[0],O=E[1],S=Object(r.useMemo)((function(){var e=Math.round(parseFloat(v)*Math.pow(10,n.decimals));return e>0?"create"===o?{create:new f.a(e)}:{redeem:new f.a(e)}:null}),[n.decimals,v,o]),T=L(Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=6;break}return e.next=3,Object(Ia.getPoolBasket)(c,t,S);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=null;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)}))),Object(C.a)(Ia.getPoolBasket,c,t.address.toBase58(),S)),x=Object(l.a)(T,2),A=x[0],j=x[1];function I(e){var t=null===k||void 0===k?void 0:k.find((function(t){return t.effectiveMint.equals(e)}));if(t)return t.pubkey;throw new Error("No token account for "+e.toBase58())}var D=m&&S&&A;function M(){return(M=Object(s.a)(u.a.mark((function e(n){var r,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),S&&A&&m&&D){e.next=3;break}return e.abrupt("return");case 3:return O(!0),e.prev=4,r=Ia.PoolTransactions.execute(t,S,{owner:d.publicKey,poolTokenAccount:I(t.state.poolTokenMint),assetAccounts:t.state.assets.map((function(e){return I(e.mint)}))},A),a=r.transaction,i=r.signers,e.next=8,Ie({connection:c,wallet:d,transaction:a,signers:i});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),console.warn(e.t0),re({message:"Error "+("create"===o?"creating":"redeeming")+" pool tokens: "+e.t0.message,type:"error"});case 14:return e.prev=14,O(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[4,10,14,17]])})))).apply(this,arguments)}return a.a.createElement("form",{onSubmit:function(e){return M.apply(this,arguments)}},a.a.createElement(Kn.a,{addonBefore:a.a.createElement(a.a.Fragment,null,"Quantity"),value:v,onChange:function(e){return h(e.target.value.trim())},style:{marginBottom:24}}),a.a.createElement("div",null,A?a.a.createElement(a.a.Fragment,null,a.a.createElement(Ja,null,"create"===o?"Cost":"Proceeds",": "),a.a.createElement(Ja,{type:"secondary"},"(indicative only)"),a.a.createElement(Ca,{poolInfo:t,basket:A})):j?null:a.a.createElement(Nt.a,null)),a.a.createElement(Kt.a,{htmlType:"submit",type:"primary",disabled:!D||w},m?"Submit":"Wallet not connected"))}var Va=wn.a.TabPane;function Ga(e){var t=e.poolInfo;return a.a.createElement(Yt,null,a.a.createElement(wn.a,null,a.a.createElement(Va,{tab:"Wallet Balances",key:"wallet"},a.a.createElement(Ha,{poolInfo:t})),a.a.createElement(Va,{tab:"Pool Balances",key:"pool"},a.a.createElement(Za,{poolInfo:t}))))}function Ha(e){var t=e.poolInfo,n=ht(),r=Object(l.a)(n,1)[0];return a.a.createElement("ul",null,[t.state.poolTokenMint].concat(Object(j.a)(t.state.assets.map((function(e){return e.mint})))).map((function(e,t){var n=null===r||void 0===r?void 0:r.find((function(t){return t.effectiveMint.equals(e)}));return n?a.a.createElement($a,{key:t,mint:e,publicKey:n.pubkey}):null})))}function Za(e){var t=e.poolInfo;return a.a.createElement("ul",null,t.state.assets.map((function(e,t){return a.a.createElement($a,{key:t,mint:e.mint,publicKey:e.vaultAddress})})))}function $a(e){var t=e.mint,n=e.publicKey,r=Y(t),o=Object(l.a)(r,1)[0],c=Y(n),i=Object(l.a)(c,1)[0],u=a.a.createElement(Nt.a,{size:"small"});if(o&&i){var s=Qe(o.data),d=Je(i.data);u=a.a.createElement(a.a.Fragment,null,d.amount/Math.pow(10,s.decimals))}return a.a.createElement("li",null,u," ",t.toBase58()," ",n.toBase58())}var eo=_t.a.Text;function to(){var e=Object(Bt.h)().poolAddress,t=Y(function(e){try{return new m.PublicKey(e),!0}catch(t){return!1}}(e)?new m.PublicKey(e):null),n=Object(l.a)(t,2),o=n[0],c=n[1],i=Object(Bt.f)(),u=Object(r.useMemo)((function(){if(!o)return null;try{return{address:new m.PublicKey(e),state:Object(Ia.decodePoolState)(o.data),program:o.owner}}catch(t){return null}}),[e,o]),s=Y(null===u||void 0===u?void 0:u.state.poolTokenMint),d=Object(l.a)(s,2),p=d[0],f=d[1],b=Object(r.useMemo)((function(){return p?Qe(p.data):null}),[p]);return u&&b?a.a.createElement(a.a.Fragment,null,a.a.createElement(Ba.a,{title:a.a.createElement(a.a.Fragment,null,"Pool ",u.address.toBase58()),onBack:function(){return i.push("/pools")},subTitle:u.state.name}),a.a.createElement(Pt.a,null,a.a.createElement(qt.a,{xs:24,lg:12},a.a.createElement(Ka,{poolInfo:u,mintInfo:b})),a.a.createElement(qt.a,{xs:24,lg:12},a.a.createElement(Xa,{poolInfo:u,mintInfo:b})),a.a.createElement(qt.a,{xs:24},a.a.createElement(Ga,{poolInfo:u})))):a.a.createElement(a.a.Fragment,null,a.a.createElement(Ba.a,{title:a.a.createElement(a.a.Fragment,null,"Pool ",e),onBack:function(){return i.push("/pools")}}),a.a.createElement(Yt,null,c&&f?a.a.createElement(eo,null,"Invalid pool"):a.a.createElement(Nt.a,null)))}function no(){var e=Object(It.a)(["\n  display: flex;\n  margin-top: 16px;\n  margin-bottom: 48px;\n"]);return no=function(){return e},e}function ro(){var e=Object(It.a)(["\n  max-width: 700px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 24px;\n  margin-bottom: 24px;\n"]);return ro=function(){return e},e}var ao=_t.a.Title,oo=Dt.c.div(ro()),co=Dt.c.form(no());function io(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(Bt.f)();return a.a.createElement(oo,null,a.a.createElement(Yt,null,a.a.createElement(ao,{level:3},"Pools"),a.a.createElement(co,{onSubmit:function(e){e.preventDefault(),c.push("/pools/".concat(n))}},a.a.createElement(Kn.a,{value:n,onChange:function(e){return o(e.target.value.trim())},placeholder:"Pool address"}),a.a.createElement(Kt.a,{type:"primary",htmlType:"submit"},"Go")),a.a.createElement(ne,{to:"/pools/new"},"Create new pool")))}function uo(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(te.a,{basename:"/"},a.a.createElement(ga,null,a.a.createElement(Bt.c,null,a.a.createElement(Bt.a,{exact:!0,path:"/",component:Er}),a.a.createElement(Bt.a,{exact:!0,path:"/orders",component:Ar}),a.a.createElement(Bt.a,{exact:!0,path:"/balances",component:Dr}),a.a.createElement(Bt.a,{exact:!0,path:"/convert",component:Kr}),a.a.createElement(Bt.a,{exact:!0,path:"/list-new-market",component:ja}),a.a.createElement(Bt.a,{exact:!0,path:"/pools"},a.a.createElement(io,null)),a.a.createElement(Bt.a,{exact:!0,path:"/pools/new"},a.a.createElement(Fa,null)),a.a.createElement(Bt.a,{exact:!0,path:"/pools/:poolAddress"},a.a.createElement(to,null))))))}function so(){return a.a.createElement(r.Suspense,{fallback:function(){return a.a.createElement(Nt.a,{size:"large"})}},a.a.createElement(Rt,null),a.a.createElement(Lt,null,a.a.createElement(K,null,a.a.createElement(ut,null,a.a.createElement(ce,null,a.a.createElement(Hr,null,a.a.createElement(r.Suspense,{fallback:function(){return a.a.createElement(Nt.a,{size:"large"})}},a.a.createElement(uo,null))))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(so,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[367,1,2]]]);
//# sourceMappingURL=main.20dbdcc2.chunk.js.map