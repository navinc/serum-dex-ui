(this["webpackJsonpserum-dex-ui"]=this["webpackJsonpserum-dex-ui"]||[]).push([[0],{252:function(e,t,n){e.exports=n.p+"static/media/logo.49174c73.svg"},259:function(e,t,n){e.exports=n(448)},264:function(e,t,n){},265:function(e,t,n){},269:function(e,t){},270:function(e,t){},438:function(e,t){},448:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(24),o=n.n(c),i=(n(264),n(265),n(11)),l=n.n(i),u=n(31),s=n(10),d=n(82);function p(e){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return Math.floor(e)!==e&&e.toString().split(".")[1].length||0}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(r.useState)((function(){var n=localStorage.getItem(e);return n?JSON.parse(n):t})),a=Object(s.a)(n,2),c=a[0],o=a[1],i=Object(r.useCallback)((function(t){c!==t&&(o(t),null===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)))}),[c,e]);return[c,i]}function v(e,t,n){if(!n&&Object.keys(e).length!==Object.keys(t).length)return!1;n=n||Object.keys(e);var r,a=Object(d.a)(n);try{for(a.s();!(r=a.n()).done;){var c=r.value;if(e[c]!==t[c])return!1}}catch(o){a.e(o)}finally{a.f()}return!0}var h=n(49),k=n(103),g=n(97),y=n(90),O=n(13),x=n.n(O),E=new Date,j=new Map,w=function e(t,n,r,a){Object(y.a)(this,e),this.cacheKey=t,this.fn=n,this.refreshInterval=r,this.callback=a},S=function(){function e(t,n){var r=this;Object(y.a)(this,e),this.refresh=Object(u.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.timeoutId&&(clearTimeout(r.timeoutId),r.timeoutId=null),!r.stopped){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,r.fn();case 6:return t=e.sent,j.set(r.cacheKey,t),r.errors=0,r.notifyListeners(),e.abrupt("return",t);case 13:e.prev=13,e.t0=e.catch(3),++r.errors,console.warn(e.t0);case 17:return e.prev=17,r.timeoutId||r.stopped||(n=r.refreshInterval,r.errors>0&&(n=Math.min(1e3*Math.pow(2,r.errors-1),6e4)),(a=new Date-E)<5e3&&(n+=5e3-a/2),"hidden"===document.visibilityState?n=6e4:document.hasFocus()||(n*=1.5),n*=.8+.4*Math.random(),r.timeoutId=setTimeout(r.refresh,n)),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,13,17,20]])}))),this.cacheKey=t,this.fn=n,this.timeoutId=null,this.listeners=new Set,this.errors=0}return Object(g.a)(e,[{key:"addListener",value:function(e){var t=this.refreshInterval;this.listeners.add(e),this.refreshInterval<t&&this.refresh()}},{key:"removeListener",value:function(e){x()(this.listeners.delete(e)),this.stopped&&this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}},{key:"notifyListeners",value:function(){this.listeners.forEach((function(e){return e.callback()}))}},{key:"refreshInterval",get:function(){return Math.min.apply(Math,Object(k.a)(Object(k.a)(this.listeners).map((function(e){return e.refreshInterval}))))}},{key:"stopped",get:function(){return 0===this.listeners.size}}]),e}(),C=new(function(){function e(){Object(y.a)(this,e),this.loops=new Map}return Object(g.a)(e,[{key:"addListener",value:function(e){this.loops.has(e.cacheKey)||this.loops.set(e.cacheKey,new S(e.cacheKey,e.fn)),this.loops.get(e.cacheKey).addListener(e)}},{key:"removeListener",value:function(e){var t=this.loops.get(e.cacheKey);t.removeListener(e),t.stopped&&this.loops.delete(e.cacheKey)}},{key:"refresh",value:function(e){this.loops.has(e)&&this.loops.get(e).refresh()}},{key:"refreshAll",value:function(){return Promise.all(Object(k.a)(this.loops.values()).map((function(e){return e.refresh()})))}}]),e}());function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.refreshInterval,c=void 0===a?6e4:a,o=Object(r.useReducer)((function(e){return e+1}),0),i=Object(s.a)(o,2),l=i[1];if(Object(r.useEffect)((function(){if(!t)return function(){};var n=new w(t,e,c,l);return C.addListener(n),function(){return C.removeListener(n)}}),[t,c]),!t)return[null,!1];var u=j.has(t),d=u?j.get(t):void 0;return[d,u]}var A=n(63),z=[{name:"mainnet-beta",endpoint:"https://solana-api.projectserum.com"},{name:"testnet",endpoint:Object(h.clusterApiUrl)("testnet")},{name:"devnet",endpoint:Object(h.clusterApiUrl)("devnet")},{name:"localnet",endpoint:"http://127.0.0.1:8899"}],B=new Map,I=a.a.createContext(null);function P(e){var t=e.children,n=b("connectionEndpts",Object(h.clusterApiUrl)("mainnet-beta")),c=Object(s.a)(n,2),o=c[0],i=c[1],l=Object(r.useMemo)((function(){return new h.Connection(o,"recent")}),[o]),u=Object(r.useMemo)((function(){return new h.Connection(o,"recent")}),[o]);return Object(r.useEffect)((function(){var e=l.onSignature("do not worry, this is expected to yield warning logs",(function(e){console.log("Received onSignature responses from does-not-exist",e)}));return function(){return l.removeSignatureListener(e)}}),[l]),Object(r.useEffect)((function(){var e=u.onSignature("do not worry, this is expected to yield warning logs",(function(e){console.log("Received onSignature responses from does-not-exist",e)}));return function(){return u.removeSignatureListener(e)}}),[u]),a.a.createElement(I.Provider,{value:{endpoint:o,setEndpoint:i,connection:l,sendConnection:u}},t)}function F(){return Object(r.useContext)(I).connection}function D(){var e=Object(r.useContext)(I);return{endpoint:e.endpoint,setEndpoint:e.setEndpoint}}function N(e){var t=F(),n=Object(A.a)(t,null===e||void 0===e?void 0:e.toBase58()),a=T(Object(u.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e?t.getAccountInfo(e):null);case 1:case"end":return n.stop()}}),n)}))),n,{refreshInterval:6e7}),c=Object(s.a)(a,2),o=c[0],i=c[1];return Object(r.useEffect)((function(){if(!e)return function(){};if(B.has(n)){var r=B.get(n);return B.set(n,r+1),function(){}}var a=null,c=t.onAccountChange(e,(function(e){e.data&&(a&&a.equals(e.data)||function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.initializeOnly,a=void 0!==r&&r;if(!a||!j.has(e)){j.set(e,t);var c=C.loops.get(e);c&&c.notifyListeners()}}(n,e),a=e.data)}));return B.set(n,1),function(){var e=B.get(n);1===e?(t.removeAccountChangeListener(c),B.delete(n)):B.set(n,e-1)}}),[t,null===e||void 0===e?void 0:e.toBase58(),n]),[o,i]}function M(e){var t=N(e),n=Object(s.a)(t,1)[0];return n&&n.data}var R=n(44),U=n(95),K=n(223),q=n(258);function L(e){var t=e.message,n=e.description,r=e.type,c=void 0===r?"info":r,o=e.placement,i=void 0===o?"bottomLeft":o;q.a[c]({message:a.a.createElement("span",{style:{color:"black"}},t),description:a.a.createElement("span",{style:{color:"black",opacity:.5}},n),placement:i,style:{backgroundColor:"white"}})}var H=[{name:"sollet.io",url:"https://www.sollet.io"}],W=a.a.createContext(null);function Q(e){var t,n=e.children,c=D().endpoint,o=b("walletProvider","https://www.sollet.io"),i=Object(s.a)(o,2),l=i[0],u=i[1],d=Object(r.useMemo)((function(){return new K.a(l,c)}),[l,c]),p=Object(r.useState)(!1),f=Object(s.a)(p,2),m=f[0],v=f[1];return Object(r.useEffect)((function(){return console.log("trying to connect"),d.on("connect",(function(){console.log("connected"),v(!0);var e=d.publicKey.toBase58();L({message:"Wallet update",description:"Connected to wallet "+(e.length>20?"".concat(e.substring(0,7),".....").concat(e.substring(e.length-7,e.length)):e)})})),d.on("disconnect",(function(){v(!1),L({message:"Wallet update",description:"Disconnected from wallet"})})),function(){d.disconnect(),v(!1)}}),[d]),a.a.createElement(W.Provider,{value:{wallet:d,connected:m,providerUrl:l,setProviderUrl:u,providerName:null===(t=H.find((function(e){return e.url===l})))||void 0===t?void 0:t.name}},n)}function Y(){var e=Object(r.useContext)(W);return[e.connected,e.wallet,e.providerUrl,e.setProviderUrl,e.providerName]}var X={"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E":"BTC","2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk":"ETH",AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3:"FTT","3JSf5tPeuscJGtaCp5giEiDhv51gQ4v3zWg8DGgyLfAB":"YFI",CWE8jPTUYhdCTZYWPTe1o5DFqfdjzWKc9WKz6rSjQUdG:"LINK",Ga2AXHpfAF6mv2ekZwcsJFqu7wB4NV331qNH7fW9Nst8:"XRP",BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4:"USDT",BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW:"USDC",MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L:"MSRM",SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt:"SRM"},G={"ETH/USDT":{name:"ETH/USDT",address:"9LHKc4aDTxEMdpaz6yo3icbcbudzSExVuzKfTiv4vP1e"},"SRM/USDC":{name:"SRM/USDC",address:"2iRmJigP8rbbJqTSykGSDVBPTAbx1dHp7hAqv2G8Gd6o"},"SRM/USDT":{name:"SRM/USDT",address:"6rjKXdu9oH7m2LQ7NGT48HoWC7tBXzvyPcaxkE5C7gZg"},"FTT/USDC":{name:"FTT/USDC",address:"oW3ckJsf9jLkXVUVMwib9mqWUVNvozy8wSUPMVceU3A"},"FTT/USDT":{name:"FTT/USDT",address:"3xWp1N71uwKNh57zp9vLDkWzyhtQGrkZZAPe9rZ4AHm4"},"YFI/USDC":{name:"YFI/USDC",address:"5hH3EybqEkjLop9tkqdJhn9LRRJHMX7Yb4U8MxABpgZQ"},"YFI/USDT":{name:"YFI/USDT",address:"7G7NHnpJrtqPxEXqEgLu8nfPrGr6qSt2p1EyrhDtfizd"},"LINK/USDC":{name:"LINK/USDC",address:"3MrRgswm4YUeXx2cToHgYvzDeKLVkfmwQCm9VQ1PPQf8"},"LINK/USDT":{name:"LINK/USDT",address:"B4YnRj9LtUQFfgd3w5xWJsNGeQYLhcizoAwpRgdjRBKQ"},"XRP/USDC":{name:"XRP/USDC",address:"BzDXAUC2BRcmxBnt3tEYrzgQT8vdhKvsdiFYYjTd7B69"},"XRP/USDT":{name:"XRP/USDT",address:"9eQgbbzmTiFpybS6hSCUQ7w7qapQzPj5s5YQuYCTuznK"}};function J(){var e=b("selectedDexProgramID",U.DEX_PROGRAM_ID.toBase58()),t=Object(s.a)(e,1)[0],n=F(),a=Object(r.useState)([]),c=Object(s.a)(a,2),o=c[0],i=c[1];return Object(r.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var r,a,c,o,u,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=Object.values(G),o=0,u=a;case 3:if(!(o<u.length)){e.next=18;break}return c=u[o],e.prev=5,e.next=8,U.Market.load(n,new h.PublicKey(c.address),{},new h.PublicKey(t));case 8:s=e.sent,r.push({market:s,marketName:c.name}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),L({message:"Error loading market",description:e.t0.message,type:"error"});case 15:o++,e.next=3;break;case 18:i(r);case 19:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}})()()}),[n,t]),o}var V=a.a.createContext(null);function Z(e){var t,n,c=e.children,o=b("selectedMarketName","BASE/QUOTE"),i=Object(s.a)(o,2),l=i[0],u=i[1],d=b("selectedDexProgramID",U.DEX_PROGRAM_ID.toBase58()),p=Object(s.a)(d,2),f=p[0],m=p[1],v=F(),k=G[l],g=Object(r.useState)(),y=Object(s.a)(g,2),O=y[0],x=y[1];Object(r.useEffect)((function(){x(null),k&&k.address?U.Market.load(v,new h.PublicKey(k.address),{},new h.PublicKey(f)).then(x).catch((function(e){return L({message:"Error loading market",description:e.message,type:"error"})})):L({message:"Error loading market",description:"Please select a market from the dropdown",type:"error"})}),[v,l,k,f]);var E=X[null===O||void 0===O||null===(t=O.baseMintAddress)||void 0===t?void 0:t.toBase58()]||"UNKNOWN",j=X[null===O||void 0===O||null===(n=O.quoteMintAddress)||void 0===n?void 0:n.toBase58()]||"UNKNOWN";return a.a.createElement(V.Provider,{value:Object(R.a)(Object(R.a)({market:O,marketName:l,setMarketName:u},k),{},{baseCurrency:E,quoteCurrency:j,selectedDexProgramID:f,setSelectedDexProgramID:m})},c)}function _(){return Object(r.useContext)(V)}function $(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),n=t[0],a=t[1],c=ne(),o=Object(s.a)(c,1)[0],i=ue();return Object(r.useEffect)((function(){var e,t,n=(null===o||void 0===o||null===(e=o.bids)||void 0===e?void 0:e.length)>0&&Number(o.bids[0][0]),r=(null===o||void 0===o||null===(t=o.asks)||void 0===t?void 0:t.length)>0&&Number(o.asks[0][0]),c=(null===i||void 0===i?void 0:i.length)>0&&i[0].price,l=n&&r?c?[n,r,c].sort((function(e,t){return e-t}))[1]:(n+r)/2:null;a(l)}),[o,i]),n}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=_(),n=t.market,r=F();function a(){return c.apply(this,arguments)}function c(){return(c=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&r){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,n.loadFills(r,e);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var o=T(a,Object(A.a)("getUnfilteredTrades",n,r),{refreshInterval:5e3}),i=Object(s.a)(o,1),d=i[0];return d}function te(){var e=_().market,t=M(e&&e._decoded.bids),n=M(e&&e._decoded.asks);return{bidOrderbook:t?U.Orderbook.decode(e,t):null,askOrderbook:n?U.Orderbook.decode(e,n):null}}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=te(),n=t.bidOrderbook,r=t.askOrderbook,a=_(),c=a.market,o=n&&c?n.getL2(e).map((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return[n.toFixed(2),r]})):[],i=r&&c?r.getL2(e).map((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return[n.toFixed(2),r]})):[];return[{bids:o,asks:i},!!o||!!i]}function re(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=_(),n=t.market,r=Y(),a=Object(s.a)(r,2),c=a[0],o=a[1],i=F();function d(){return p.apply(this,arguments)}function p(){return(p=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return",null);case 2:if(n){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,n.findOpenOrdersAccountsForOwner(i,o.publicKey);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return T(d,Object(A.a)("openOrdersAccounts",o,n,c),{refreshInterval:e?5e3:1e6})}function ae(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=re(e),n=Object(s.a)(t,1),r=n[0];return r?r[0]:null}function ce(){var e=function(){var e=_().market,t=Y(),n=Object(s.a)(t,2),r=n[0],a=n[1],c=F();function o(){return(o=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",null);case 2:if(e){t.next=4;break}return t.abrupt("return",null);case 4:return t.next=6,e.findQuoteTokenAccountsForOwner(c,a.publicKey);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return T((function(){return o.apply(this,arguments)}),Object(A.a)("useQuoteCurrencyAccounts",a,e,r),{refreshInterval:1e6})}(),t=Object(s.a)(e,1)[0];return t?t[0]:null}function oe(){var e=function(){var e=_().market,t=Y(),n=Object(s.a)(t,2),r=n[0],a=n[1],c=F();function o(){return(o=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",null);case 2:if(e){t.next=4;break}return t.abrupt("return",null);case 4:return t.next=6,e.findBaseTokenAccountsForOwner(c,a.publicKey);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return T((function(){return o.apply(this,arguments)}),Object(A.a)("getTokenAccounts",a,e,r),{refreshInterval:1e6})}(),t=Object(s.a)(e,1)[0];return t?t[0]:null}function ie(){var e=F(),t=ce();function n(){return(n=Object(u.a)(l.a.mark((function n(){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return",null);case 2:return n.next=4,e.getTokenAccountBalance(t.pubkey);case 4:return r=n.sent,n.abrupt("return",r&&r.value&&r.value.uiAmount);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return T((function(){return n.apply(this,arguments)}),Object(A.a)("useQuoteCurrencyBalances",e,t&&t.pubkey.toBase58()),{refreshInterval:5e3})}function le(){var e=F(),t=oe();function n(){return(n=Object(u.a)(l.a.mark((function n(){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return",null);case 2:return n.next=4,e.getTokenAccountBalance(t.pubkey);case 4:return r=n.sent,n.abrupt("return",r&&r.value&&r.value.uiAmount);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return T((function(){return n.apply(this,arguments)}),Object(A.a)("useBaseCurrencyBalances",e,t&&t.pubkey.toBase58()),{refreshInterval:5e3})}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=ee(e);return t?t.filter((function(e){return e.eventFlags.maker})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{side:"buy"===e.side?"sell":"buy"})})):null}function se(e,t,n){return de.apply(this,arguments)}function de(){return(de=Object(u.a)(l.a.mark((function e(t,n,r){var a,c,o,i,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(u.length>3&&void 0!==u[3])||u[3])){e.next=7;break}return e.next=4,t.findBaseTokenAccountsForOwner(n,r.publicKey);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,t.findQuoteTokenAccountsForOwner(n,r.publicKey);case 9:e.t0=e.sent;case 10:return c=e.t0,o=c&&c[0],e.next=14,n.getTokenAccountBalance(o.pubkey);case 14:return i=e.sent,e.abrupt("return",null===i||void 0===i||null===(a=i.value)||void 0===a?void 0:a.uiAmount);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pe=n(37),fe=n(38);function me(){var e=Object(pe.a)(["\nhtml,body{\n  background: #11161D;\n  min-width: 770px;\n}\ninput[type=number]::-webkit-inner-spin-button {\n  opacity: 0;\n}\ninput[type=number]:hover::-webkit-inner-spin-button,\ninput[type=number]:focus::-webkit-inner-spin-button {\n  opacity: 0.25;\n}\n/* width */\n::-webkit-scrollbar {\n  width: 15px;\n}\n/* Track */\n::-webkit-scrollbar-track {\n  background: #2d313c;\n}\n/* Handle */\n::-webkit-scrollbar-thumb {\n  background: #5b5f67;\n}\n/* Handle on hover */\n::-webkit-scrollbar-thumb:hover {\n  background: #5b5f67;\n}\n.ant-slider-track, .ant-slider:hover .ant-slider-track {\n  background-color: #2abdd2;\n  opacity: 0.75;\n}\n.ant-slider-track,\n.ant-slider ant-slider-track:hover {\n  background-color: #2abdd2;\n  opacity: 0.75;\n}\n.ant-slider-dot-active,\n.ant-slider-handle,\n.ant-slider-handle-click-focused,\n.ant-slider:hover .ant-slider-handle:not(.ant-tooltip-open)  {\n  border: 2px solid #2abdd2; \n}\n.ant-table-tbody > tr.ant-table-row:hover > td {\n  background: #273043;\n}\n.ant-table-tbody > tr > td {\n  border-bottom: 8px solid #1A2029;\n}\n.ant-table-container table > thead > tr:first-child th {\n  border-bottom: none;\n}\n.ant-divider-horizontal.ant-divider-with-text::before, .ant-divider-horizontal.ant-divider-with-text::after {\n  border-top: 1px solid #434a59 !important;\n}\n.ant-layout {\n    background: #11161D\n  }\n  .ant-table {\n    background: #212734;\n  }\n  .ant-table-thead > tr > th {\n    background: #1A2029;\n  }\n.ant-select-item-option-content {\n  img {\n    margin-right: 4px;\n  }\n}\n.ant-modal-content {\n  background-color: #212734;\n}\n\n@-webkit-keyframes highlight {\n  from { background-color: #2abdd2;}\n  to {background-color: #1A2029;}\n}\n@-moz-keyframes highlight {\n  from { background-color: #2abdd2;}\n  to {background-color: #1A2029;}\n}\n@-keyframes highlight {\n  from { background-color: #2abdd2;}\n  to {background-color: #1A2029;}\n}\n.flash {\n  -moz-animation: highlight 0.5s ease 0s 1 alternate ;\n  -webkit-animation: highlight 0.5s ease 0s 1 alternate;\n  animation: highlight 0.5s ease 0s 1 alternate;\n}"]);return me=function(){return e},e}var be=Object(fe.a)(me()),ve=n(246),he=n(166),ke=n(163),ge=n(457).a.Title,ye=function(e){Object(he.a)(n,e);var t=Object(ke.a)(n);function n(){var e;Object(y.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(g.a)(n,[{key:"render",value:function(){return this.state.hasError?a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(ge,{level:2},"Something went wrong."),a.a.createElement(ge,{level:4},"Please try again later."))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(r.Component),Oe=n(124),xe=n(48),Ee=n(133),je=n(458),we=n(58),Se=n(449),Ce=n(450);function Te(){var e=Object(pe.a)(["\n  margin: 5px;\n  padding: 20px;\n  background-color: #1a2029;\n"]);return Te=function(){return e},e}var Ae=fe.c.div(Te());function ze(e){var t=e.style,n=e.children;return a.a.createElement(Ae,{style:Object(R.a)({},t)},n)}var Be=n(465),Ie=n(464);function Pe(){var e=Object(pe.a)(["\n  position: absolute;\n  right: 5px;\n  color: white;\n"]);return Pe=function(){return e},e}function Fe(){var e=Object(pe.a)(["\n      background-color: ",";\n    "]);return Fe=function(){return e},e}function De(){var e=Object(pe.a)(["\n      width: ",";\n    "]);return De=function(){return e},e}function Ne(){var e=Object(pe.a)(["\n  text-align: right;\n  float: right;\n  height: 100%;\n  ","\n  ","\n"]);return Ne=function(){return e},e}function Me(){var e=Object(pe.a)(["\n  padding: 20px 0 14px;\n  font-weight: 700;\n"]);return Me=function(){return e},e}function Re(){var e=Object(pe.a)(["\n  padding: 20px 0 14px;\n  color: #434a59;\n"]);return Re=function(){return e},e}function Ue(){var e=Object(pe.a)(["\n  color: rgba(255, 255, 255, 1);\n"]);return Ue=function(){return e},e}var Ke=fe.c.div(Ue()),qe=Object(fe.c)(Se.a)(Re()),Le=Object(fe.c)(Se.a)(Me()),He=fe.c.div(Ne(),(function(e){return e["data-width"]&&Object(fe.b)(De(),e["data-width"])}),(function(e){return e["data-bgcolor"]&&Object(fe.b)(Fe(),e["data-bgcolor"])})),We=fe.c.div(Pe());function Qe(e){var t=e.smallScreen,n=e.depth,r=void 0===n?7:n,c=e.onPrice,o=e.onSize,i=$(),l=ne(),u=Object(s.a)(l,2),d=u[0],p=u[1],f=_(),m=f.baseCurrency,b=f.quoteCurrency,v=[],h=[];function k(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],a=0;e.forEach((function(e){var t=Object(s.a)(e,2),c=t[0],o=t[1];n.length<r&&(a+=o,n.push({price:c,size:o,cumulativeSize:a}))})),t&&(n=n.reverse());var c=n.length>0&&n[t?0:n.length-1].cumulativeSize;return[n,c]}p&&(v=d.bids,h=d.asks);var g=k(h,!0),y=Object(s.a)(g,2),O=y[0],x=y[1],E=k(v,!1),j=Object(s.a)(E,2),w=j[0],S=x+j[1];return a.a.createElement(ze,{style:t?{flex:1}:{height:"500px",overflow:"hidden"}},a.a.createElement(Ke,null,"Orderbook"),a.a.createElement(qe,null,a.a.createElement(Ce.a,{span:12,style:{textAlign:"left"}},"Size (",m,")"),a.a.createElement(Ce.a,{span:12,style:{textAlign:"right"}},"Price (",b,")")),O.map((function(e,t){var n=e.price,r=e.size,i=e.cumulativeSize;return a.a.createElement(Ye,{index:t,price:n,size:r,side:"sell",sizePercent:i/(S||1)*100,onSizeClick:function(){return o(r)},onPriceClick:function(){return c(n)}})})),a.a.createElement(Xe,{markPrice:i}),w.map((function(e,t){var n=e.price,r=e.size,i=e.cumulativeSize;return a.a.createElement(Ye,{index:t,price:n,size:r,side:"buy",sizePercent:i/(S||1)*100,onSizeClick:function(){return o(r)},onPriceClick:function(){return c(n)}})})))}var Ye=a.a.memo((function(e){var t=e.index,n=e.side,c=e.price,o=e.size,i=e.sizePercent,l=e.onSizeClick,u=e.onPriceClick,s=Object(r.useRef)();return Object(r.useEffect)((function(){var e;null===(e=s.current)||void 0===e||e.classList.add("flash");setTimeout((function(){var e;return null===(e=s.current)||void 0===e?void 0:e.classList.remove("flash")}),500)}),[c,o]),a.a.createElement(Se.a,{ref:s,id:t+"",style:{marginBottom:1},onClick:l},a.a.createElement(Ce.a,{span:12,style:{textAlign:"left"}},o),a.a.createElement(Ce.a,{span:12,style:{textAlign:"right"}},a.a.createElement(He,{"data-width":i+"%","data-bgcolor":"buy"===n?"rgba(65, 199, 122, 0.6)":"rgba(242, 60, 105, 0.6)"}),a.a.createElement(We,{onClick:u},c)))}),(function(e,t){return v(e,t,["side","price","size","sizePercent"])})),Xe=a.a.memo((function(e){var t=e.markPrice,n=_().priceStep,c=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e}),[e]),t.current}(t),o=t>c?"#41C77A":t<c?"#F23B69":"white";return a.a.createElement(Le,{justify:"center"},a.a.createElement(Ce.a,{style:{color:o}},t>c&&a.a.createElement(Be.a,{style:{marginRight:5}}),t<c&&a.a.createElement(Ie.a,{style:{marginRight:5}}),t?n?t.toFixed(m(n)):t:"----"))}),(function(e,t){return v(e,t,["markPrice"])})),Ge=n(27),Je=n(453);function Ve(e){var t=e.dataSource,n=e.columns,r=e.emptyLabel,c=void 0===r?"No data":r,o=e.pagination,i=void 0!==o&&o,l=e.loading,u=void 0!==l&&l,s=e.pageSize,d=void 0===s?10:s;return a.a.createElement(Ge.b,{renderEmpty:function(){return a.a.createElement("div",{style:{padding:"20px",display:"flex",justifyContent:"center",alignItems:"center"}},c)}},a.a.createElement(Je.a,{dataSource:t,columns:n,pagination:!!i&&{pagination:!0,pageSize:d},loading:u}))}var Ze=n(248),_e=n.n(Ze);function $e(e){return et.apply(this,arguments)}function et(){return(et=Object(u.a)(l.a.mark((function e(t){var n,r,a,c,o,i,u,s,d,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.market,r=t.openOrders,a=t.connection,c=t.wallet,o=t.baseCurrencyAccount,i=t.quoteCurrencyAccount,n&&c&&a&&r&&o&&i){e.next=4;break}return L({message:"Not connected"}),e.abrupt("return");case 4:return e.next=6,n.makeSettleFundsTransaction(a,r,o.pubkey,i.pubkey);case 6:return u=e.sent,s=function(e){e.err?(console.log(e.err),L({message:"Error settling funds",type:"error"})):L({message:"Fund settlement confirmed",type:"success"})},d=function(){return L({message:"Settling funds..."})},p=function(){return L({message:"Funds settled",type:"success"})},e.next=12,it({transaction:u,wallet:c,connection:a,onBeforeSend:d,onAfterSend:p,onConfirm:s});case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e){return nt.apply(this,arguments)}function nt(){return(nt=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rt(Object(R.a)(Object(R.a)({},t),{},{orders:[t.order]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e){return at.apply(this,arguments)}function at(){return(at=Object(u.a)(l.a.mark((function e(t){var n,r,a,c,o,i,u,s,d,p,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.market,r=t.wallet,a=t.connection,c=t.orders,o=t.onBeforeSendCallBack,i=t.onAfterSendCallBack,u=t.onConfirmCallBack,(s=new h.Transaction).add(n.makeMatchOrdersInstruction(5)),c.forEach((function(e){s.add(n.makeCancelOrderInstruction(a,r.publicKey,e))})),s.add(n.makeMatchOrdersInstruction(5)),d=function(e){e.err?(console.log(e.err),L({message:c.length>1?"Error cancelling orders":"Error cancelling order",type:"error"})):L({message:c.length>1?"Order cancellations confirmed":"Order cancellation confirmed",type:"success"}),u&&u()},p=function(){L({message:"Sending cancel..."}),o&&o()},f=function(){L({message:c.length>1?"Orders cancelled":"Order cancelled",type:"success"}),i&&i()},e.next=10,it({transaction:s,wallet:r,connection:a,onBeforeSend:p,onAfterSend:f,onConfirm:d});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e){return ot.apply(this,arguments)}function ot(){return(ot=Object(u.a)(l.a.mark((function e(t){var n,r,a,c,o,i,u,s,d,p,f,m,b,v,k,g,y,O,x,E,j,w,S,C;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.side,r=t.price,a=t.size,c=t.orderType,o=t.market,i=t.connection,u=t.wallet,s=t.baseCurrencyAccount,d=t.quoteCurrencyAccount,p=t.openOrdersAccount,f=t.onBeforeSendCallBack,m=t.onAfterSendCallBack,b=t.onConfirmCallBack,v=function(e,t){return Math.abs(e/t%1)<1e-10||Math.abs(e/t%1-1)<1e-10},!isNaN(r)){e.next=5;break}return L({message:"Invalid price",type:"error"}),e.abrupt("return");case 5:if(!isNaN(a)){e.next=8;break}return L({message:"Invalid size",type:"error"}),e.abrupt("return");case 8:if(u&&u.publicKey){e.next=11;break}return L({message:"Connect wallet",type:"error"}),e.abrupt("return");case 11:if(o){e.next=14;break}return L({message:"Invalid  market",type:"error"}),e.abrupt("return");case 14:if(v(a,o.minOrderSize)){e.next=17;break}return L({message:"Size must be an increment of ".concat(o.minOrderSize),type:"error"}),e.abrupt("return");case 17:if(!(a<o.minOrderSize)){e.next=20;break}return L({message:"Size too small",type:"error"}),e.abrupt("return");case 20:if(v(r,o.tickSize)){e.next=23;break}return L({message:"Price must be an increment of ".concat(o.tickSize),type:"error"}),e.abrupt("return");case 23:if(!(r<o.tickSize)){e.next=26;break}return L({message:"Price under tick size",type:"error"}),e.abrupt("return");case 26:if(k=u.publicKey,g="sell"===n?s:d){e.next=31;break}return L({message:"Need an SPL token account for cost currency",type:"error"}),e.abrupt("return");case 31:if(y={owner:k,payer:g,side:n,price:r,size:a,orderType:c},E=[],p){e.next=42;break}return e.next=36,o.makePlaceOrderTransaction(i,y);case 36:j=e.sent,O=j.transaction,(x=j.signers).length>1&&(E=[x[1]]),e.next=45;break;case 42:(O=new h.Transaction).add(o.makeMatchOrdersInstruction(5)),O.add(o.makePlaceOrderInstruction(i,y,p));case 45:return O.add(o.makeMatchOrdersInstruction(5)),w=function(e){e.err?(console.log(e.err),L({message:"Error placing order",type:"error"})):L({message:"Order confirmed",type:"success"}),b&&b()},S=function(){L({message:"Sending order..."}),f&&f()},C=function(){L({message:"Order sent",type:"success"}),m&&m()},e.next=51,it({transaction:O,wallet:u,connection:i,onBeforeSend:S,onAfterSend:C,onConfirm:w,extraSigners:E});case 51:return e.abrupt("return",e.sent);case 52:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e){return lt.apply(this,arguments)}function lt(){return(lt=Object(u.a)(l.a.mark((function e(t){var n,r,a,c,o,i,u,s,d,p,f,m,b,v;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.transaction,r=t.wallet,a=t.connection,c=t.onBeforeSend,o=t.onAfterSend,i=t.onConfirm,u=t.extraSigners,s=void 0===u?[]:u,e.next=3,a.getRecentBlockhash("max");case 3:return n.recentBlockhash=e.sent.blockhash,e.next=6,r.signTransaction(n);case 6:return d=e.sent,p=(new Date).getTime(),s.forEach((function(e){var t=_e.a.sign.detached(d.serializeMessage(),e.secretKey);d.addSignature(e.publicKey,t)})),c(),e.next=12,a.sendRawTransaction(d.serialize(),{skipPreflight:!0});case 12:return f=e.sent,console.log("Sent raw transaction, received TXID: ",f),m=(new Date).getTime(),o(),e.next=18,ut(a,f);case 18:return b=e.sent,v=(new Date).getTime(),console.log("Confirmed",(v-m)/1e3,(v-p)/1e3),i(b),e.abrupt("return",f);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e,t){return st.apply(this,arguments)}function st(){return(st=Object(u.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,e.next=3,new Promise((function(e,a){Object(u.a)(l.a.mark((function c(){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t.onSignature(n,(function(t,a){r||(console.log("WS update for txid",n,t),e(t),r=!0)}),"recent");case 1:if(r){c.next=7;break}return Object(u.a)(l.a.mark((function c(){var o,i;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,console.log("Send REST request for txid",n),c.next=4,t.getSignatureStatuses([n]);case 4:if(o=c.sent,i=o&&o.value&&o.value[0],console.log("Received REST response for txid",n,i),i&&((null===i||void 0===i?void 0:i.confirmations)||(null===i||void 0===i?void 0:i.err))){c.next=9;break}return c.abrupt("return");case 9:r||(console.log("REST update for txid",n,i),r=!0,e(i)),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),r||(console.log("REST error for txid",n,c.t0),r=!0,a(c.t0));case 15:case"end":return c.stop()}}),c,null,[[0,12]])})))(),c.next=5,p(500);case 5:c.next=1;break;case 7:case"end":return c.stop()}}),c)})))()}));case 3:return a=e.sent,r=!0,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(e){var t=e.balances,n=oe(),r=ce(),c=F(),o=Y(),i=Object(s.a)(o,2)[1],d=ae(!0),p=_().market;function f(){return m.apply(this,arguments)}function m(){return(m=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e({market:p,openOrders:d,connection:c,wallet:i,baseCurrencyAccount:n,quoteCurrencyAccount:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=[{title:"Coin",dataIndex:"coin",key:"coin"},{title:"Wallet Balance",dataIndex:"wallet",key:"wallet"},{title:"Orders",dataIndex:"orders",key:"orders"},{title:"Unsettled",dataIndex:"unsettled",key:"unsettled"},{key:"action",render:function(){return a.a.createElement("div",{style:{textAlign:"right"}},a.a.createElement(we.a,{ghost:!0,style:{marginRight:12},onClick:f},"Settle"))}}];return a.a.createElement(Ve,{emptyLabel:"No balances",dataSource:t,columns:b,pagination:!1})}var pt=n(461),ft=n(466);function mt(){var e=Object(pe.a)(["\n  color: #f23b69;\n  border: 1px solid #f23b69;\n"]);return mt=function(){return e},e}var bt=Object(fe.c)(we.a)(mt());function vt(e){var t=e.openOrders,n=_().market,c=Y(),o=Object(s.a)(c,2)[1],i=F(),d=Object(r.useState)(null),p=Object(s.a)(d,2),f=p[0],m=p[1];function b(){return(b=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt({order:t,market:n,connection:i,wallet:o,onBeforeSendCallBack:function(){return m(null===t||void 0===t?void 0:t.orderId)},onConfirmCallBack:function(){return m(null)}});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),L({message:"Error cancelling order: "+e.t0.message,type:"error"}),m(null);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var v=[{title:"Market",dataIndex:"marketName",key:"marketName"},{title:"Side",dataIndex:"side",key:"side",render:function(e){return a.a.createElement(pt.a,{color:"buy"===e?"#41C77A":"#F23B69",style:{fontWeight:700}},e.charAt(0).toUpperCase()+e.slice(1))}},{title:"Size",dataIndex:"size",key:"size"},{title:"Price",dataIndex:"price",key:"price"},{key:"orderId",render:function(e){return a.a.createElement("div",{style:{textAlign:"right"}},a.a.createElement(bt,{icon:a.a.createElement(ft.a,null),onClick:function(){return function(e){return b.apply(this,arguments)}(e)},loading:f+""===(null===e||void 0===e?void 0:e.orderId)+""},"Cancel"))}}],h=(t||[]).map((function(e){return Object.assign(e,{key:e.orderId})}));return a.a.createElement(Se.a,null,a.a.createElement(Ce.a,{span:24},a.a.createElement(Ve,{emptyLabel:"No open orders",dataSource:h,columns:v,pagination:!0,pageSize:5})))}var ht=n(454);function kt(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=_(),n=t.marketName,r=ee(e),a=re(),c=Object(s.a)(a,1),o=c[0];if(!o||0===o.length)return null;if(!r)return null;var i=o[0];return r.filter((function(e){return e.openOrders.equals(i.publicKey)})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{marketName:n})}))}(),t=_().quoteCurrency,n=[{title:"Market",dataIndex:"marketName",key:"marketName"},{title:"Side",dataIndex:"side",key:"side",render:function(e){return a.a.createElement(pt.a,{color:"buy"===e?"#41C77A":"#F23B69",style:{fontWeight:700}},e.charAt(0).toUpperCase()+e.slice(1))}},{title:"Size",dataIndex:"size",key:"size"},{title:"Price",dataIndex:"price",key:"price"},{title:"Liquidity",dataIndex:"liquidity",key:"liquidity"},{title:t?"Fees (".concat(t,")"):"Fees",dataIndex:"feeCost",key:"feeCost"}],r=(e||[]).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{key:"".concat(e.orderId).concat(e.side),liquidity:e.eventFlags.maker?"Maker":"Taker"})}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(Se.a,null,a.a.createElement(Ce.a,{span:24},a.a.createElement(Ve,{dataSource:r,columns:n,pagination:!0,pageSize:5,emptyLabel:"No fills"}))))}var gt=ht.a.TabPane;function yt(){return a.a.createElement(ze,{style:{flex:1,paddingTop:10}},a.a.createElement(ht.a,{defaultActiveKey:"orders"},a.a.createElement(gt,{tab:"Open Orders",key:"orders"},a.a.createElement(Ot,null)),a.a.createElement(gt,{tab:"Recent Trade History",key:"fills"},a.a.createElement(kt,null)),a.a.createElement(gt,{tab:"Balances",key:"balances"},a.a.createElement(xt,null))))}var Ot=function(){var e=function(){var e=_(),t=e.market,n=e.marketName,r=ae(),a=te(),c=a.bidOrderbook,o=a.askOrderbook;return t&&r&&c&&o?t.filterForOpenOrders(c,o,[r]).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{marketName:n})})):null}();return a.a.createElement(vt,{openOrders:e})},xt=function(){var e=function(){var e=le(),t=Object(s.a)(e,1)[0],n=ie(),r=Object(s.a)(n,1)[0],a=ae(!0),c=_(),o=c.baseCurrency,i=c.quoteCurrency,l=c.market,u=a&&a.baseTokenTotal&&a.baseTokenFree,d=a&&a.quoteTokenTotal&&a.quoteTokenFree;return[{key:o,coin:o,wallet:t,orders:u&&l?l.baseSplSizeToNumber(a.baseTokenTotal.sub(a.baseTokenFree)):null,unsettled:u&&l?l.baseSplSizeToNumber(a.baseTokenFree):null},{key:i,coin:i,wallet:r,orders:d&&l?l.quoteSplSizeToNumber(a.quoteTokenTotal.sub(a.quoteTokenFree)):null,unsettled:d&&l?l.quoteSplSizeToNumber(a.quoteTokenFree):null}]}();return a.a.createElement(dt,{balances:e})},Et=n(451),jt=n(456);function wt(e){var t,n,r=e.onClose,c=e.depositCoin,o=c&&Object.keys(X).find((function(e){return X[e]===c})),i=_().market,l=Y(),u=Object(s.a)(l,5)[4],d=oe(),p=ce();return n=(null===i||void 0===i||null===(t=i.baseMintAddress)||void 0===t?void 0:t.toBase58())===o?d:p,o?a.a.createElement(jt.a,{title:c,visible:!!o,onOk:r,onCancel:r},a.a.createElement("div",{style:{paddingTop:"20px"}},a.a.createElement("p",{style:{color:"white"}},"Mint address:"),a.a.createElement("p",{style:{color:"rgba(255,255,255,0.5)"}},o),a.a.createElement("div",null,a.a.createElement("p",{style:{color:"white"}},"Deposit address:"),a.a.createElement("p",{style:{color:"rgba(255,255,255,0.5)"}},n?n.pubkey.toBase58():"Visit ".concat(u," to create an account for this mint"))))):null}function St(){var e=Object(pe.a)(["\n  color: #2abdd2;\n  background-color: #212734;\n  border-width: 0px;\n"]);return St=function(){return e},e}function Ct(){var e=Object(pe.a)(["\n  font-size: 12px;\n  color: #2abdd2;\n  padding-top: 6px;\n"]);return Ct=function(){return e},e}function Tt(){var e=Object(pe.a)(["\n  padding-bottom: 20px;\n"]);return Tt=function(){return e},e}var At=Object(fe.c)(Se.a)(Tt()),zt=fe.c.p(Ct()),Bt=Object(fe.c)(we.a)(St());function It(){var e,t=_(),n=t.baseCurrency,c=t.quoteCurrency,o=le(),i=Object(s.a)(o,1)[0],l=ie(),u=Object(s.a)(l,1)[0],d=Y(),p=Object(s.a)(d,3)[2],f=Object(r.useState)(""),m=Object(s.a)(f,2),b=m[0],v=m[1],h=null===(e=H.find((function(e){return e.url===p})))||void 0===e?void 0:e.name;return a.a.createElement(ze,{style:{flex:1,paddingTop:10}},a.a.createElement(Et.a,{style:{borderColor:"white"}},n),a.a.createElement(At,{align:"middle",justify:"space-between",style:{paddingBottom:12}},a.a.createElement(Ce.a,null,n," wallet balance:"),a.a.createElement(Ce.a,null,i)),a.a.createElement(At,{align:"middle",justify:"space-around"},a.a.createElement(Ce.a,{style:{width:150}},a.a.createElement(Bt,{block:!0,size:"large",onClick:function(){return v(n)}},"Deposit"))),a.a.createElement(zt,null,"All deposits go to your ",h," wallet"),a.a.createElement(Et.a,null,c),a.a.createElement(At,{align:"middle",justify:"space-between",style:{paddingBottom:12}},a.a.createElement(Ce.a,null,c," wallet balance:"),a.a.createElement(Ce.a,null,u)),a.a.createElement(At,{align:"middle",justify:"space-around"},a.a.createElement(Ce.a,{style:{width:150}},a.a.createElement(Bt,{block:!0,size:"large",onClick:function(){return v(c)}},"Deposit"))),a.a.createElement(zt,null,"All deposits go to your ",h," wallet"),a.a.createElement(wt,{depositCoin:b,onClose:function(){return v("")}}))}var Pt=n(162),Ft=n(455),Dt=n(462);function Nt(){var e=Object(pe.a)(["\n  margin: 20px 0px 0px 0px;\n  background: #02bf76;\n  border-color: #02bf76;\n"]);return Nt=function(){return e},e}function Mt(){var e=Object(pe.a)(["\n  margin: 20px 0px 0px 0px;\n  background: #f23b69;\n  border-color: #f23b69;\n"]);return Mt=function(){return e},e}function Rt(){var e=Object(pe.a)(["\n  text-align: right;\n  padding-bottom: 16px;\n"]);return Rt=function(){return e},e}var Ut=Object(fe.c)(je.a)(Rt()),Kt=Object(fe.c)(we.a)(Mt()),qt=Object(fe.c)(we.a)(Nt()),Lt={0:"0%",25:"25%",50:"50%",75:"75%",100:"100%"};function Ht(e){var t=e.style,n=e.setChangeOrderRef,c=Object(r.useState)("buy"),o=Object(s.a)(c,2),i=o[0],d=o[1],p=_(),f=p.baseCurrency,b=p.quoteCurrency,v=p.market,h=le(),k=Object(s.a)(h,1)[0],g=ie(),y=Object(s.a)(g,1)[0],O=oe(),x=ce(),E=ae(!0),j=Y(),w=Object(s.a)(j,2)[1],S=Object(r.useContext)(I).sendConnection,C=$(),T=Object(r.useState)(!1),A=Object(s.a)(T,2),z=A[0],B=A[1],P=Object(r.useState)(!1),F=Object(s.a)(P,2),D=F[0],N=F[1],M=Object(r.useState)(null),U=Object(s.a)(M,2),K=U[0],q=U[1],H=Object(r.useState)(null),W=Object(s.a)(H,2),Q=W[0],X=W[1],G=Object(r.useState)(!1),J=Object(s.a)(G,2),V=J[0],Z=J[1],ee=y+(E?v.quoteSplSizeToNumber(E.quoteTokenFree):0),te=(Q&&K&&ee&&k&&"buy"===i?Q*K/Math.floor(ee)*100:K/k*100)||0;Object(r.useEffect)((function(){n&&n(ne)}),[n]),Object(r.useEffect)((function(){te&&re(te)}),[i,te]);var ne=function(e){var t=e.size,n=e.price;t&&q(t),n&&X(n)},re=function(e){var t;ee&&k&&(Q||C&&X(C),"buy"===i?(Q||C)&&(t=Math.floor(ee)/(Q||C)*e/100):t=Math.floor(k)*e/100,q((null===v||void 0===v?void 0:v.minOrderSize)?t.toFixed(m(v.minOrderSize)):t))};function ue(){return se.apply(this,arguments)}function se(){return(se=Object(u.a)(l.a.mark((function e(){var t,n,r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=parseFloat(Q),n=parseFloat(K),Z(!0),e.prev=3,e.next=6,ct({side:i,price:t,size:n,orderType:D?"ioc":z?"postOnly":"limit",market:v,connection:S,wallet:w,baseCurrencyAccount:null===O||void 0===O||null===(r=O.pubkey)||void 0===r?void 0:r.toBase58(),quoteCurrencyAccount:null===x||void 0===x||null===(a=x.pubkey)||void 0===a?void 0:a.toBase58(),openOrdersAccount:null===E||void 0===E||null===(c=E.pubkey)||void 0===c?void 0:c.toBase58(),onBeforeSendCallBack:function(){return Z(!0)},onConfirmCallBack:function(){return Z(!1)}});case 6:if(e.t0=!e.sent,!e.t0){e.next=9;break}Z(!1);case 9:e.next=15;break;case 11:e.prev=11,e.t1=e.catch(3),L({message:"Error placing order: "+e.t1.message,type:"error"}),Z(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}return a.a.createElement(ze,{style:Object(R.a)({display:"flex",flexDirection:"column"},t)},a.a.createElement("div",{style:{flex:1}},a.a.createElement(Pt.a.Group,{onChange:function(e){return d(e.target.value)},value:i,buttonStyle:"solid",style:{marginBottom:8,width:"100%"}},a.a.createElement(Pt.a.Button,{value:"buy",style:{width:"50%",textAlign:"center",background:"buy"===i?"#02bf76":"",borderColor:"buy"===i?"#02bf76":""}},"BUY"),a.a.createElement(Pt.a.Button,{value:"sell",style:{width:"50%",textAlign:"center",background:"sell"===i?"#F23B69":"",borderColor:"sell"===i?"#F23B69":""}},"SELL")),a.a.createElement(Ut,{addonBefore:"Price (".concat(b,")"),placeholder:"Price",value:Q,type:"number",step:(null===v||void 0===v?void 0:v.tickSize)||1,onChange:function(e){return X(e.target.value)}}),a.a.createElement(Ut,{addonBefore:"Size (".concat(f,")"),placeholder:"Size",value:K,type:"number",step:(null===v||void 0===v?void 0:v.minOrderSize)||1,onChange:function(e){return q(e.target.value)}}),a.a.createElement(Ft.a,{value:te,tipFormatter:function(e){return"".concat(e,"%")},marks:Lt,onChange:re}),a.a.createElement("div",{style:{paddingTop:18}},"POST ",a.a.createElement(Dt.a,{checked:z,onChange:function(e){e&&N(!1),B(e)},style:{marginRight:40}}),"IOC ",a.a.createElement(Dt.a,{checked:D,onChange:function(e){e&&B(!1),N(e)}}))),"buy"===i?a.a.createElement(qt,{disabled:!Q||!K,onClick:ue,block:!0,type:"primary",size:"large",loading:V},"Buy ",f):a.a.createElement(Kt,{disabled:!Q||!K,onClick:ue,block:!0,type:"primary",size:"large",loading:V},"Sell ",f))}function Wt(){var e=Object(pe.a)(["\n  height: calc(100% - 75px);\n  margin-right: -20px;\n  padding-right: 5px;\n  overflow-y: scroll;\n"]);return Wt=function(){return e},e}function Qt(){var e=Object(pe.a)(["\n  padding: 20px 0 14px;\n  color: #434a59;\n"]);return Qt=function(){return e},e}function Yt(){var e=Object(pe.a)(["\n  color: rgba(255, 255, 255, 1);\n"]);return Yt=function(){return e},e}var Xt=fe.c.div(Yt()),Gt=Object(fe.c)(Se.a)(Qt()),Jt=fe.c.div(Wt());function Vt(e){var t=e.smallScreen,n=_(),r=n.baseCurrency,c=n.quoteCurrency,o=ue();return a.a.createElement(ze,{style:t?{flex:1}:{marginTop:"10px",height:"calc(100% - 520px)"}},a.a.createElement(Xt,null,"Recent Market trades"),a.a.createElement(Gt,null,a.a.createElement(Ce.a,{span:12,style:{textAlign:"left"}},"Size (",r,")"),a.a.createElement(Ce.a,{span:12,style:{textAlign:"right"}},"Price (",c,")"," ")),!!o&&a.a.createElement(Jt,null,o.map((function(e,t){return a.a.createElement(Se.a,{key:t,style:{marginBottom:4}},a.a.createElement(Ce.a,{span:12,style:{textAlign:"left"}},e.size),a.a.createElement(Ce.a,{span:12,style:{textAlign:"right",color:"buy"===e.side?"#41C77A":"#F23B69"}},e.price))}))))}function Zt(){var e=Object(pe.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 16px 16px;\n  .borderNone .ant-select-selector {\n    border: none !important;\n  }\n"]);return Zt=function(){return e},e}var _t=Ee.a.Option,$t=fe.c.div(Zt());function en(){var e=_(),t=e.marketName,n=e.setMarketName,c=Object.values(G),o=b("submittedPassword5",!1),i=Object(s.a)(o,2),l=(i[0],i[1],Object(r.useState)("password")),u=Object(s.a)(l,2),d=(u[0],u[1],Object(r.useState)({height:window.innerHeight,width:window.innerWidth})),p=Object(s.a)(d,2),f=p[0],m=p[1],v=Object(r.useRef)();Object(r.useEffect)((function(){var e=function(){m({height:window.innerHeight,width:window.innerWidth})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var h=null===f||void 0===f?void 0:f.width,k={onChangeOrderRef:function(e){return v.current=e},onPrice:function(e){return v.current&&v.current({price:e})},onSize:function(e){return v.current&&v.current({size:e})}},g=Object(r.useCallback)((function(){return h<1e3?a.a.createElement(rn,k):h<1450?a.a.createElement(nn,k):a.a.createElement(tn,k)}),[h,k]);return a.a.createElement(a.a.Fragment,null,a.a.createElement($t,null,a.a.createElement(Se.a,null,a.a.createElement(Ce.a,null,a.a.createElement(Ee.a,{bordered:!1,onSelect:n,value:t},c.map((function(e){var t=e.name,n=e.address;return a.a.createElement(_t,{value:t,key:n},t)}))))),g()))}var tn=function(e){var t=e.onChangeOrderRef,n=e.onPrice,r=e.onSize;return a.a.createElement(Se.a,{style:{minHeight:"750px"}},a.a.createElement(Ce.a,{flex:"auto",style:{height:"100%",display:"flex"}},a.a.createElement(yt,null)),a.a.createElement(Ce.a,{flex:"360px",style:{height:"100%"}},a.a.createElement(Qe,{smallScreen:!1,onPrice:n,onSize:r}),a.a.createElement(Vt,{smallScreen:!1})),a.a.createElement(Ce.a,{flex:"400px",style:{height:"100%",display:"flex",flexDirection:"column"}},a.a.createElement(Ht,{setChangeOrderRef:t}),a.a.createElement(It,null)))},nn=function(e){var t=e.onChangeOrderRef,n=e.onPrice,r=e.onSize;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Se.a,{style:{height:"750px"}},a.a.createElement(Ce.a,{flex:"auto",style:{height:"100%",display:"flex"}},a.a.createElement(Qe,{smallScreen:!0,depth:12,onPrice:n,onSize:r})),a.a.createElement(Ce.a,{flex:"auto",style:{height:"100%",display:"flex"}},a.a.createElement(Vt,{smallScreen:!0})),a.a.createElement(Ce.a,{flex:"400px",style:{height:"100%",display:"flex",flexDirection:"column"}},a.a.createElement(Ht,{setChangeOrderRef:t}),a.a.createElement(It,null))),a.a.createElement(Se.a,null,a.a.createElement(Ce.a,{flex:"auto"},a.a.createElement(yt,null))))},rn=function(e){var t=e.onChangeOrderRef,n=e.onPrice,r=e.onSize;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Se.a,null,a.a.createElement(Ce.a,{span:12,style:{height:"100%",display:"flex"}},a.a.createElement(Ht,{style:{flex:1},setChangeOrderRef:t})),a.a.createElement(Ce.a,{span:12},a.a.createElement(It,null))),a.a.createElement(Se.a,{style:{minHeight:"500px"}},a.a.createElement(Ce.a,{span:12,style:{height:"100%",display:"flex"}},a.a.createElement(Qe,{smallScreen:!0,onPrice:n,onSize:r})),a.a.createElement(Ce.a,{span:12,style:{height:"100%",display:"flex"}},a.a.createElement(Vt,{smallScreen:!0}))),a.a.createElement(Se.a,null,a.a.createElement(Ce.a,{flex:"auto"},a.a.createElement(yt,null))))};function an(){var e=function(){var e=Y(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=F(),c=J();function o(){return(o=Object(u.a)(l.a.mark((function e(){var t,o,i,u,p,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],n){e.next=3;break}return e.abrupt("return",t);case 3:i=Object(d.a)(c),e.prev=4,p=l.a.mark((function e(){var n,c,i,d,p,f,m,b,v,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=u.value,c=(n=o).market,i=n.marketName,c){e.next=4;break}return e.abrupt("return",{v:t});case 4:return e.next=6,c.findOpenOrdersAccountsForOwner(a,r.publicKey);case 6:if(d=e.sent,p=d&&d[0]){e.next=10;break}return e.abrupt("return",{v:t});case 10:return e.next=12,Promise.all([c.loadBids(a),c.loadAsks(a)]);case 12:f=e.sent,m=Object(s.a)(f,2),b=m[0],v=m[1],h=[].concat(Object(k.a)(b),Object(k.a)(v)).filter((function(e){return e.openOrdersAddress.equals(p.publicKey)})).map((function(e){return Object(R.a)(Object(R.a)({},e),{},{marketName:i})})),t=t.concat(h);case 18:case"end":return e.stop()}}),e)})),i.s();case 7:if((u=i.n()).done){e.next=14;break}return e.delegateYield(p(),"t0",9);case 9:if("object"!==typeof(f=e.t0)){e.next=12;break}return e.abrupt("return",f.v);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(4),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:return e.abrupt("return",t);case 23:case"end":return e.stop()}}),e,null,[[4,16,19,22]])})))).apply(this,arguments)}return T((function(){return o.apply(this,arguments)}),Object(A.a)("getOpenOrdersForAllMarkets",n,a,r,c),{refreshInterval:1e6})}(),t=Object(s.a)(e,1)[0];return a.a.createElement(ze,{style:{flex:1,paddingTop:10}},a.a.createElement(vt,{openOrders:t}))}var cn=n(452),on=n(460),ln=n(463),un=n(102),sn=n(459),dn=n(252),pn=n.n(dn),fn=n(467);function mn(e){var t=e.title,n=e.address;return a.a.createElement("div",{style:{marginBottom:20}},t&&a.a.createElement("p",{style:{color:"white"}},t),a.a.createElement(we.a,{type:"link",icon:a.a.createElement(fn.a,null),onClick:function(){return function(e){window.open("https://explorer.solana.com/address/"+e,"_blank")}(n)}},n))}function bn(){var e=Object(pe.a)(["\n  display: flex;\n  align-items: center;\n  color: #2abdd2;\n  font-weight: bold;\n  cursor: pointer;\n  img {\n    height: 30px;\n    margin-right: 8px;\n  }\n"]);return bn=function(){return e},e}function vn(){var e=Object(pe.a)(["\n  background-color: #0d1017;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 0px 30px;\n"]);return vn=function(){return e},e}var hn=fe.c.div(vn()),kn=fe.c.div(bn());function gn(){var e,t=Object(r.useState)("/"),n=Object(s.a)(t,2),c=n[0],o=n[1],i=Y(),l=Object(s.a)(i,4),u=l[0],d=l[1],p=l[2],f=l[3],m=D(),b=m.endpoint,v=m.setEndpoint,h=Object(xe.f)(),k=Object(xe.e)(),g=null===d||void 0===d||null===(e=d.publicKey)||void 0===e?void 0:e.toBase58(),y=Object(r.useCallback)((function(e){k.push(e.key)}),[]);return Object(r.useEffect)((function(){h.pathname.includes("/orders")?o("/orders"):h.pathname.includes("/balances")&&o("/balances")}),[h]),a.a.createElement(hn,null,a.a.createElement("div",null,a.a.createElement(kn,null,a.a.createElement("img",{src:pn.a,alt:""}),"SERUM")),a.a.createElement(un.a,{mode:"horizontal",onClick:y,selectedKeys:[c],style:{borderBottom:"none",backgroundColor:"transparent",display:"flex",alignItems:"flex-end",flex:1}},a.a.createElement(un.a.Item,{key:"/"},"TRADE"),a.a.createElement(un.a.Item,{key:"/orders"},"ORDERS"),a.a.createElement(un.a.Item,{key:"/balances"},"BALANCES")),a.a.createElement("div",{style:{display:"block"}},a.a.createElement(Ee.a,{onSelect:v,value:b,style:{marginRight:8}},z.map((function(e){var t=e.name,n=e.endpoint;return a.a.createElement(Ee.a.Option,{value:n,key:n},t)}))),a.a.createElement(Ee.a,{onSelect:f,value:p},H.map((function(e){var t=e.name,n=e.url;return a.a.createElement(Ee.a.Option,{value:n,key:n},t)}))),a.a.createElement(we.a,{type:"text",size:"large",onClick:u?d.disconnect:d.connect,style:{color:"#2abdd2"}},a.a.createElement(on.a,null),u?"Disconnect":"Connect wallet"),u&&a.a.createElement(sn.a,{content:a.a.createElement(mn,{address:g}),placement:"bottomRight",title:"Wallet public key",trigger:"click"},a.a.createElement(ln.a,{style:{color:"#2abdd2"}}))))}var yn=n(219),On=n(190);function xn(e){var t=e.external,n=void 0!==t&&t,r=Object(On.a)(e,["external"]),c=r.to,o=r.children,i=Object(On.a)(r,["to","children"]);return n?a.a.createElement("a",Object.assign({href:c,target:"_blank",rel:"noopener noreferrer"},i),o):a.a.createElement(Oe.b,Object.assign({to:c},i),o)}var En="https://discord.gg/MxZFT4v",jn="https://t.me/ProjectSerum",wn="https://github.com/project-serum",Sn="https://projectserum.com/",Cn="https://projectserum.com/developer-resources",Tn="https://solanabeach.io",An=cn.a.Footer,zn=yn.a.useBreakpoint,Bn=[{description:"Serum Developer Resources",link:Cn},{description:"Discord",link:En},{description:"Telegram",link:jn},{description:"GitHub",link:wn},{description:"Project Serum",link:Sn},{description:"Solana Network",link:Tn}],In=function(){var e=!zn().lg;return a.a.createElement(An,{style:{height:"45px",paddingBottom:10,paddingTop:10}},a.a.createElement(Se.a,{align:"middle",gutter:[16,4]},!e&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Ce.a,{flex:"auto"}),Bn.map((function(e,t){return a.a.createElement(Ce.a,{key:t+""},a.a.createElement(xn,{external:!0,to:e.link},e.description))}))),a.a.createElement(Ce.a,{flex:"auto"})))};function Pn(e){var t=e.loaded,n=void 0!==t&&t,r=e.walletBalances;return a.a.createElement(Ve,{emptyLabel:"No balances",dataSource:r,columns:[{title:"Coin",dataIndex:"key",key:"key"},{title:"Wallet Balance",dataIndex:"wallet",key:"wallet"}],pagination:!1,loading:!n})}function Fn(e){var t=e.accountBalances,n=F(),r=Y(),c=Object(s.a)(r,2)[1];function o(){return(o=Object(u.a)(l.a.mark((function e(t){var r,a,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.market,a=t.openOrdersAccount,o=t.baseCurrencyAccount,i=t.quoteCurrencyAccount,e.next=3,$e({market:r,openOrders:a,connection:n,wallet:c,baseCurrencyAccount:o,quoteCurrencyAccount:i});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var i=[{title:"Market",dataIndex:"key",key:"key"},{title:"Orders",dataIndex:"orders",key:"orders"},{title:"Unsettled",dataIndex:"unsettled",key:"unsettled"},{key:"action",render:function(e){return a.a.createElement("div",{style:{textAlign:"right"}},a.a.createElement(we.a,{ghost:!0,style:{marginRight:12},onClick:function(){return function(e){return o.apply(this,arguments)}(e)}},"Settle"))}}];return a.a.createElement(Ve,{emptyLabel:"No balances",dataSource:t,columns:i.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{key:"".concat(e.market).concat(e.coin)})})),pagination:!1})}var Dn=ht.a.TabPane;function Nn(){var e=function(){var e=Y(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=F(),c=J();function o(){return(o=Object(u.a)(l.a.mark((function e(){var t,o,i,u,s,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],n){e.next=3;break}return e.abrupt("return",t);case 3:i=Object(d.a)(c),e.prev=4,s=l.a.mark((function e(){var n,c,i,s,d,p,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=u.value,c=(n=o).market,i=n.marketName,c){e.next=4;break}return e.abrupt("return",{v:t});case 4:if(s=i.includes("/")&&i.split("/")[0],t.find((function(e){return e.coin===s}))){e.next=10;break}return e.next=8,se(c,a,r,!0);case 8:d=e.sent,t.push({key:s,coin:s,wallet:d});case 10:if(p=i.includes("/")&&i.split("/")[1],t.find((function(e){return e.coin===p}))){e.next=16;break}return e.next=14,se(c,a,r,!1);case 14:f=e.sent,t.push({key:p,coin:p,wallet:f});case 16:case"end":return e.stop()}}),e)})),i.s();case 7:if((u=i.n()).done){e.next=14;break}return e.delegateYield(s(),"t0",9);case 9:if("object"!==typeof(p=e.t0)){e.next=12;break}return e.abrupt("return",p.v);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(4),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:return e.abrupt("return",t);case 23:case"end":return e.stop()}}),e,null,[[4,16,19,22]])})))).apply(this,arguments)}return T((function(){return o.apply(this,arguments)}),Object(A.a)("getWalletBalancesForAllMarkets",n,a,r,c),{refreshInterval:1e6})}(),t=Object(s.a)(e,2),n=t[0],r=t[1],c=function(){var e=Y(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=F(),c=J();function o(){return(o=Object(u.a)(l.a.mark((function e(){var t,o,i,u,s,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],n){e.next=3;break}return e.abrupt("return",t);case 3:i=Object(d.a)(c),e.prev=4,s=l.a.mark((function e(){var n,c,i,s,d,p,f,m,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=u.value,c=(n=o).market,i=n.marketName,c){e.next=4;break}return e.abrupt("return",{v:t});case 4:return e.next=6,c.findOpenOrdersAccountsForOwner(a,r.publicKey);case 6:if(s=e.sent){e.next=9;break}return e.abrupt("return","continue");case 9:return e.next=11,c.findBaseTokenAccountsForOwner(a,r.publicKey);case 11:return d=e.sent,e.next=14,c.findQuoteTokenAccountsForOwner(a,r.publicKey);case 14:p=e.sent,f=i.includes("/")&&i.split("/")[0],m=i.includes("/")&&i.split("/")[1],b=[],s.forEach((function(e){var t=(null===e||void 0===e?void 0:e.baseTokenTotal)&&(null===e||void 0===e?void 0:e.baseTokenFree)&&c.baseSplSizeToNumber(e.baseTokenTotal.sub(e.baseTokenFree)),n=(null===e||void 0===e?void 0:e.quoteTokenTotal)&&(null===e||void 0===e?void 0:e.quoteTokenFree)&&c.baseSplSizeToNumber(e.quoteTokenTotal.sub(e.quoteTokenFree)),r=(null===e||void 0===e?void 0:e.baseTokenFree)&&c.baseSplSizeToNumber(e.baseTokenFree),a=(null===e||void 0===e?void 0:e.quoteTokenFree)&&c.baseSplSizeToNumber(e.quoteTokenFree);b.push({market:i,coin:f,key:f,orders:t,unsettled:r,openOrdersAccount:e,baseCurrencyAccount:d&&d[0],quoteCurrencyAccount:p&&p[0]}),b.push({market:i,coin:m,key:m,orders:n,unsettled:a,openOrdersAccount:e,baseCurrencyAccount:d&&d[0],quoteCurrencyAccount:p&&p[0]})})),t=t.concat(b);case 20:case"end":return e.stop()}}),e)})),i.s();case 7:if((u=i.n()).done){e.next=16;break}return e.delegateYield(s(),"t0",9);case 9:if("continue"!==(p=e.t0)){e.next=12;break}return e.abrupt("continue",14);case 12:if("object"!==typeof p){e.next=14;break}return e.abrupt("return",p.v);case 14:e.next=7;break;case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(4),i.e(e.t1);case 21:return e.prev=21,i.f(),e.finish(21);case 24:return e.abrupt("return",t);case 25:case"end":return e.stop()}}),e,null,[[4,18,21,24]])})))).apply(this,arguments)}return T((function(){return o.apply(this,arguments)}),Object(A.a)("getOpenOrderAccountsForAllMarkets",n,a,r,c),{refreshInterval:1e6})}(),o=Object(s.a)(c,2),i=o[0],p=o[1];return a.a.createElement(ze,{style:{flex:1,paddingTop:10}},a.a.createElement(ht.a,{defaultActiveKey:"walletBalances"},a.a.createElement(Dn,{tab:"Wallet Balances",key:"walletBalances"},a.a.createElement(Pn,{loaded:r,walletBalances:n})),a.a.createElement(Dn,{tab:"Market balances",key:"marketBalances"},a.a.createElement(Fn,{loaded:p,accountBalances:i}))))}var Mn=cn.a.Header,Rn=cn.a.Content;function Un(){return a.a.createElement(Oe.a,{basename:"/"},a.a.createElement(xe.a,{exact:!0,path:"/",component:Kn}),a.a.createElement(xe.a,{exact:!0,path:"/orders",component:qn}),a.a.createElement(xe.a,{exact:!0,path:"/balances",component:Ln}))}function Kn(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(cn.a,{style:{display:"flex",minHeight:"100vh",flexDirection:"column"}},a.a.createElement(Mn,{style:{padding:0}},a.a.createElement(gn,null)),a.a.createElement(Rn,{style:{flex:1}},a.a.createElement(en,null)),a.a.createElement(In,null)))}function qn(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(cn.a,{style:{display:"flex",minHeight:"100vh",flexDirection:"column"}},a.a.createElement(Mn,{style:{padding:0}},a.a.createElement(gn,null)),a.a.createElement(Rn,{style:{flex:1}},a.a.createElement(an,null)),a.a.createElement(In,null)))}function Ln(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(cn.a,{style:{display:"flex",minHeight:"100vh",flexDirection:"column"}},a.a.createElement(Mn,{style:{padding:0}},a.a.createElement(gn,null)),a.a.createElement(Rn,{style:{flex:1}},a.a.createElement(Nn,null)),a.a.createElement(In,null)))}function Hn(){return a.a.createElement(r.Suspense,{fallback:function(){return a.a.createElement(ve.a,{size:"large"})}},a.a.createElement(be,null),a.a.createElement(ye,null,a.a.createElement(P,null,a.a.createElement(Z,null,a.a.createElement(Q,null,a.a.createElement(r.Suspense,{fallback:function(){return a.a.createElement(ve.a,{size:"large"})}},a.a.createElement(Un,null)))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Hn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[259,1,2]]]);
//# sourceMappingURL=main.e9eede28.chunk.js.map